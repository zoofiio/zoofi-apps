(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,473643,(e,t,s)=>{var a="undefined"!=typeof self?self:e.e,n=function(){function e(){this.fetch=!1,this.DOMException=a.DOMException}return e.prototype=a,new e}();(function(e){var t={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};if(t.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function r(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw TypeError("Invalid character in header field name");return e.toLowerCase()}function i(e){return"string"!=typeof e&&(e=String(e)),e}function o(e){var s={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(s[Symbol.iterator]=function(){return s}),s}function c(e){this.map={},e instanceof c?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function u(e){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise(function(t,s){e.onload=function(){t(e.result)},e.onerror=function(){s(e.error)}})}function l(e){var t=new FileReader,s=d(t);return t.readAsArrayBuffer(e),s}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var s;t.arrayBuffer&&t.blob&&(s=e)&&DataView.prototype.isPrototypeOf(s)?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):t.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e)}else this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var e,t,s,a=u(this);if(a)return a;if(this._bodyBlob)return e=this._bodyBlob,s=d(t=new FileReader),t.readAsText(e),s;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),s=Array(t.length),a=0;a<t.length;a++)s[a]=String.fromCharCode(t[a]);return s.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},t.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(e,t){e=r(e),t=i(t);var s=this.map[e];this.map[e]=s?s+", "+t:t},c.prototype.delete=function(e){delete this.map[r(e)]},c.prototype.get=function(e){return e=r(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(r(e))},c.prototype.set=function(e,t){this.map[r(e)]=i(t)},c.prototype.forEach=function(e,t){for(var s in this.map)this.map.hasOwnProperty(s)&&e.call(t,this.map[s],s,this)},c.prototype.keys=function(){var e=[];return this.forEach(function(t,s){e.push(s)}),o(e)},c.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),o(e)},c.prototype.entries=function(){var e=[];return this.forEach(function(t,s){e.push([s,t])}),o(e)},t.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(e,t){var s,a,n=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new c(t.headers)),this.method=(a=(s=t.method||this.method||"GET").toUpperCase(),p.indexOf(a)>-1?a:s),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function g(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var s=e.split("="),a=s.shift().replace(/\+/g," "),n=s.join("=").replace(/\+/g," ");t.append(decodeURIComponent(a),decodeURIComponent(n))}}),t}function T(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},f.call(y.prototype),f.call(T.prototype),T.prototype.clone=function(){return new T(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},T.error=function(){var e=new T(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];T.redirect=function(e,t){if(-1===E.indexOf(t))throw RangeError("Invalid status code");return new T(null,{status:t,headers:{location:e}})},e.DOMException=n.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var s=Error(e);this.stack=s.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function m(s,a){return new Promise(function(n,r){var i=new y(s,a);if(i.signal&&i.signal.aborted)return r(new e.DOMException("Aborted","AbortError"));var o=new XMLHttpRequest;function u(){o.abort()}o.onload=function(){var e,t,s={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new c,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var s=e.split(":"),a=s.shift().trim();if(a){var n=s.join(":").trim();t.append(a,n)}}),t)};s.url="responseURL"in o?o.responseURL:s.headers.get("X-Request-URL"),n(new T("response"in o?o.response:o.responseText,s))},o.onerror=function(){r(TypeError("Network request failed"))},o.ontimeout=function(){r(TypeError("Network request failed"))},o.onabort=function(){r(new e.DOMException("Aborted","AbortError"))},o.open(i.method,i.url,!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&t.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),i.signal&&(i.signal.addEventListener("abort",u),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",u)}),o.send(void 0===i._bodyInit?null:i._bodyInit)})}m.polyfill=!0,n.fetch||(n.fetch=m,n.Headers=c,n.Request=y,n.Response=T),e.Headers=c,e.Request=y,e.Response=T,e.fetch=m,Object.defineProperty(e,"__esModule",{value:!0})})({}),n.fetch.ponyfill=!0,delete n.fetch.polyfill,(s=n.fetch).default=n.fetch,s.fetch=n.fetch,s.Headers=n.Headers,s.Request=n.Request,s.Response=n.Response,t.exports=s},402589,(e,t,s)=>{"use strict";var a=e.e&&e.e.__awaiter||function(e,t,s,a){return new(s||(s=Promise))(function(n,r){function i(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,o)}c((a=a.apply(e,t||[])).next())})},n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(s,"__esModule",{value:!0}),s.fetchData=s.stringifyQuery=s.insertParams=void 0;let r=n(e.r(473643));s.insertParams=function(e,t){return t?Object.keys(t).reduce((e,s)=>{var a;return a=String(t[s]),e.replace(RegExp(`\\{${s}\\}`,"g"),a)},e):e},s.stringifyQuery=function(e){if(!e)return"";let t=new URLSearchParams;Object.keys(e).forEach(s=>{null!=e[s]&&t.append(s,String(e[s]))});let s=t.toString();return s?`?${s}`:""},s.fetchData=function(e,t){return a(this,void 0,void 0,function*(){let s,a;null!=t&&(s={method:"POST",body:"string"==typeof t?t:JSON.stringify(t),headers:{"Content-Type":"application/json"}});let n=yield(0,r.default)(e,s);try{a=yield n.json()}catch(e){if(n.headers&&"0"!==n.headers.get("content-length"))throw Error(`Invalid response content: ${n.statusText}`)}if(!n.ok){var i;throw Error("object"==typeof(i=a)&&null!==i&&"code"in i&&"message"in i?`${a.code}: ${a.message}`:n.statusText)}return a})}},478872,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.getEndpoint=s.postEndpoint=void 0;let a=e.r(402589);function n(e,t,s,n){let r=(0,a.insertParams)(t,s),i=(0,a.stringifyQuery)(n);return`${e}${r}${i}`}s.postEndpoint=function(e,t,s){let r=n(e,t,null==s?void 0:s.path,null==s?void 0:s.query);return(0,a.fetchData)(r,null==s?void 0:s.body)},s.getEndpoint=function(e,t,s,r){if(r)return(0,a.fetchData)(r);let i=n(e,t,null==s?void 0:s.path,null==s?void 0:s.query);return(0,a.fetchData)(i)}},140714,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_BASE_URL=void 0,s.DEFAULT_BASE_URL="https://safe-client.safe.global"},795175,(e,t,s)=>{"use strict";var a;Object.defineProperty(s,"__esModule",{value:!0}),s.ImplementationVersionState=void 0,(a=s.ImplementationVersionState||(s.ImplementationVersionState={})).UP_TO_DATE="UP_TO_DATE",a.OUTDATED="OUTDATED",a.UNKNOWN="UNKNOWN"},213997,(e,t,s)=>{"use strict";var a,n;Object.defineProperty(s,"__esModule",{value:!0}),s.SafeAppSocialPlatforms=s.SafeAppFeatures=s.SafeAppAccessPolicyTypes=void 0,(a=s.SafeAppAccessPolicyTypes||(s.SafeAppAccessPolicyTypes={})).NoRestrictions="NO_RESTRICTIONS",a.DomainAllowlist="DOMAIN_ALLOWLIST",(s.SafeAppFeatures||(s.SafeAppFeatures={})).BATCHED_TRANSACTIONS="BATCHED_TRANSACTIONS",(n=s.SafeAppSocialPlatforms||(s.SafeAppSocialPlatforms={})).TWITTER="TWITTER",n.GITHUB="GITHUB",n.DISCORD="DISCORD"},804209,(e,t,s)=>{"use strict";var a,n,r,i,o,c,u,d,l,h;Object.defineProperty(s,"__esModule",{value:!0}),s.LabelValue=s.DetailedExecutionInfoType=s.TransactionListItemType=s.ConflictType=s.TransactionInfoType=s.SettingsInfoType=s.TransactionTokenType=s.TransferDirection=s.TransactionStatus=s.Operation=void 0,(a=s.Operation||(s.Operation={}))[a.CALL=0]="CALL",a[a.DELEGATE=1]="DELEGATE",(n=s.TransactionStatus||(s.TransactionStatus={})).AWAITING_CONFIRMATIONS="AWAITING_CONFIRMATIONS",n.AWAITING_EXECUTION="AWAITING_EXECUTION",n.CANCELLED="CANCELLED",n.FAILED="FAILED",n.SUCCESS="SUCCESS",(r=s.TransferDirection||(s.TransferDirection={})).INCOMING="INCOMING",r.OUTGOING="OUTGOING",r.UNKNOWN="UNKNOWN",(i=s.TransactionTokenType||(s.TransactionTokenType={})).ERC20="ERC20",i.ERC721="ERC721",i.NATIVE_COIN="NATIVE_COIN",(o=s.SettingsInfoType||(s.SettingsInfoType={})).SET_FALLBACK_HANDLER="SET_FALLBACK_HANDLER",o.ADD_OWNER="ADD_OWNER",o.REMOVE_OWNER="REMOVE_OWNER",o.SWAP_OWNER="SWAP_OWNER",o.CHANGE_THRESHOLD="CHANGE_THRESHOLD",o.CHANGE_IMPLEMENTATION="CHANGE_IMPLEMENTATION",o.ENABLE_MODULE="ENABLE_MODULE",o.DISABLE_MODULE="DISABLE_MODULE",o.SET_GUARD="SET_GUARD",o.DELETE_GUARD="DELETE_GUARD",(c=s.TransactionInfoType||(s.TransactionInfoType={})).TRANSFER="Transfer",c.SETTINGS_CHANGE="SettingsChange",c.CUSTOM="Custom",c.CREATION="Creation",(u=s.ConflictType||(s.ConflictType={})).NONE="None",u.HAS_NEXT="HasNext",u.END="End",(d=s.TransactionListItemType||(s.TransactionListItemType={})).TRANSACTION="TRANSACTION",d.LABEL="LABEL",d.CONFLICT_HEADER="CONFLICT_HEADER",d.DATE_LABEL="DATE_LABEL",(l=s.DetailedExecutionInfoType||(s.DetailedExecutionInfoType={})).MULTISIG="MULTISIG",l.MODULE="MODULE",(h=s.LabelValue||(s.LabelValue={})).Queued="Queued",h.Next="Next"},337357,(e,t,s)=>{"use strict";var a,n,r;Object.defineProperty(s,"__esModule",{value:!0}),s.FEATURES=s.GAS_PRICE_TYPE=s.RPC_AUTHENTICATION=void 0,(a=s.RPC_AUTHENTICATION||(s.RPC_AUTHENTICATION={})).API_KEY_PATH="API_KEY_PATH",a.NO_AUTHENTICATION="NO_AUTHENTICATION",a.UNKNOWN="UNKNOWN",(n=s.GAS_PRICE_TYPE||(s.GAS_PRICE_TYPE={})).ORACLE="ORACLE",n.FIXED="FIXED",n.UNKNOWN="UNKNOWN",(r=s.FEATURES||(s.FEATURES={})).ERC721="ERC721",r.SAFE_APPS="SAFE_APPS",r.CONTRACT_INTERACTION="CONTRACT_INTERACTION",r.DOMAIN_LOOKUP="DOMAIN_LOOKUP",r.SPENDING_LIMIT="SPENDING_LIMIT",r.EIP1559="EIP1559",r.SAFE_TX_GAS_OPTIONAL="SAFE_TX_GAS_OPTIONAL",r.TX_SIMULATION="TX_SIMULATION",r.EIP1271="EIP1271"},370740,(e,t,s)=>{"use strict";var a;Object.defineProperty(s,"__esModule",{value:!0}),s.TokenType=void 0,(a=s.TokenType||(s.TokenType={})).ERC20="ERC20",a.ERC721="ERC721",a.NATIVE_TOKEN="NATIVE_TOKEN"},40906,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0})},892629,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0})},454486,(e,t,s)=>{"use strict";var a,n;Object.defineProperty(s,"__esModule",{value:!0}),s.SafeMessageStatus=s.SafeMessageListItemType=void 0,(a=s.SafeMessageListItemType||(s.SafeMessageListItemType={})).DATE_LABEL="DATE_LABEL",a.MESSAGE="MESSAGE",(n=s.SafeMessageStatus||(s.SafeMessageStatus={})).NEEDS_CONFIRMATION="NEEDS_CONFIRMATION",n.CONFIRMED="CONFIRMED"},832778,(e,t,s)=>{"use strict";var a=e.e&&e.e.__createBinding||(Object.create?function(e,t,s,a){void 0===a&&(a=s);var n=Object.getOwnPropertyDescriptor(t,s);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,a,n)}:function(e,t,s,a){void 0===a&&(a=s),e[a]=t[s]}),n=e.e&&e.e.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||a(t,e,s)};Object.defineProperty(s,"__esModule",{value:!0}),s.confirmSafeMessage=s.proposeSafeMessage=s.getSafeMessage=s.getSafeMessages=s.getDecodedData=s.getMasterCopies=s.getSafeApps=s.getChainConfig=s.getChainsConfig=s.proposeTransaction=s.postSafeGasEstimation=s.getTransactionDetails=s.getTransactionQueue=s.getTransactionHistory=s.getCollectiblesPage=s.getCollectibles=s.getOwnedSafes=s.getFiatCurrencies=s.getBalances=s.getMultisigTransactions=s.getModuleTransactions=s.getIncomingTransfers=s.getSafeInfo=s.setBaseUrl=void 0;let r=e.r(478872),i=e.r(140714);n(e.r(795175),s),n(e.r(213997),s),n(e.r(804209),s),n(e.r(337357),s),n(e.r(370740),s),n(e.r(40906),s),n(e.r(892629),s),n(e.r(454486),s);let o=i.DEFAULT_BASE_URL;s.setBaseUrl=e=>{o=e},s.getSafeInfo=function(e,t){return(0,r.getEndpoint)(o,"/v1/chains/{chainId}/safes/{address}",{path:{chainId:e,address:t}})},s.getIncomingTransfers=function(e,t,s,a){return(0,r.getEndpoint)(o,"/v1/chains/{chainId}/safes/{address}/incoming-transfers/",{path:{chainId:e,address:t},query:s},a)},s.getModuleTransactions=function(e,t,s,a){return(0,r.getEndpoint)(o,"/v1/chains/{chainId}/safes/{address}/module-transactions/",{path:{chainId:e,address:t},query:s},a)},s.getMultisigTransactions=function(e,t,s,a){return(0,r.getEndpoint)(o,"/v1/chains/{chainId}/safes/{address}/multisig-transactions/",{path:{chainId:e,address:t},query:s},a)},s.getBalances=function(e,t,s="usd",a={}){return(0,r.getEndpoint)(o,"/v1/chains/{chainId}/safes/{address}/balances/{currency}",{path:{chainId:e,address:t,currency:s},query:a})},s.getFiatCurrencies=function(){return(0,r.getEndpoint)(o,"/v1/balances/supported-fiat-codes")},s.getOwnedSafes=function(e,t){return(0,r.getEndpoint)(o,"/v1/chains/{chainId}/owners/{address}/safes",{path:{chainId:e,address:t}})},s.getCollectibles=function(e,t,s={}){return(0,r.getEndpoint)(o,"/v1/chains/{chainId}/safes/{address}/collectibles",{path:{chainId:e,address:t},query:s})},s.getCollectiblesPage=function(e,t,s={},a){return(0,r.getEndpoint)(o,"/v2/chains/{chainId}/safes/{address}/collectibles",{path:{chainId:e,address:t},query:s},a)},s.getTransactionHistory=function(e,t,s){return(0,r.getEndpoint)(o,"/v1/chains/{chainId}/safes/{safe_address}/transactions/history",{path:{chainId:e,safe_address:t},query:{}},s)},s.getTransactionQueue=function(e,t,s,a){return(0,r.getEndpoint)(o,"/v1/chains/{chainId}/safes/{safe_address}/transactions/queued",{path:{chainId:e,safe_address:t},query:{trusted:a}},s)},s.getTransactionDetails=function(e,t){return(0,r.getEndpoint)(o,"/v1/chains/{chainId}/transactions/{transactionId}",{path:{chainId:e,transactionId:t}})},s.postSafeGasEstimation=function(e,t,s){return(0,r.postEndpoint)(o,"/v2/chains/{chainId}/safes/{safe_address}/multisig-transactions/estimations",{path:{chainId:e,safe_address:t},body:s})},s.proposeTransaction=function(e,t,s){return(0,r.postEndpoint)(o,"/v1/chains/{chainId}/transactions/{safe_address}/propose",{path:{chainId:e,safe_address:t},body:s})},s.getChainsConfig=function(e){return(0,r.getEndpoint)(o,"/v1/chains",{query:e})},s.getChainConfig=function(e){return(0,r.getEndpoint)(o,"/v1/chains/{chainId}",{path:{chainId:e}})},s.getSafeApps=function(e,t={}){return(0,r.getEndpoint)(o,"/v1/chains/{chainId}/safe-apps",{path:{chainId:e},query:t})},s.getMasterCopies=function(e){return(0,r.getEndpoint)(o,"/v1/chains/{chainId}/about/master-copies",{path:{chainId:e}})},s.getDecodedData=function(e,t){return(0,r.postEndpoint)(o,"/v1/chains/{chainId}/data-decoder",{path:{chainId:e},body:{data:t}})},s.getSafeMessages=function(e,t,s){return(0,r.getEndpoint)(o,"/v1/chains/{chainId}/safes/{safe_address}/messages",{path:{chainId:e,safe_address:t},query:{}},s)},s.getSafeMessage=function(e,t){return(0,r.getEndpoint)(o,"/v1/chains/{chainId}/messages/{message_hash}",{path:{chainId:e,message_hash:t}})},s.proposeSafeMessage=function(e,t,s){return(0,r.postEndpoint)(o,"/v1/chains/{chainId}/safes/{safe_address}/messages",{path:{chainId:e,safe_address:t},body:s})},s.confirmSafeMessage=function(e,t,s){return(0,r.postEndpoint)(o,"/v1/chains/{chainId}/messages/{message_hash}/signatures",{path:{chainId:e,message_hash:t},body:s})}},90419,e=>{"use strict";let t=()=>"9.1.0",s=e=>e.toString(16).padStart(2,"0");class a{}a.makeRequest=(e,a)=>({id:(()=>{if("undefined"!=typeof window){let e;return e=new Uint8Array(5),window.crypto.getRandomValues(e),Array.from(e,s).join("")}return new Date().getTime().toString(36)})(),method:e,params:a,env:{sdkVersion:t()}}),a.makeResponse=(e,t,s)=>({id:e,success:!0,version:s,data:t}),a.makeErrorResponse=(e,t,s)=>({id:e,success:!1,error:t,version:s}),e.s(["MessageFormatter",()=>a],593940),(i=o||(o={})).sendTransactions="sendTransactions",i.rpcCall="rpcCall",i.getChainInfo="getChainInfo",i.getSafeInfo="getSafeInfo",i.getTxBySafeTxHash="getTxBySafeTxHash",i.getSafeBalances="getSafeBalances",i.signMessage="signMessage",i.signTypedMessage="signTypedMessage",i.getEnvironmentInfo="getEnvironmentInfo",i.getOffChainSignature="getOffChainSignature",i.requestAddressBook="requestAddressBook",i.wallet_getPermissions="wallet_getPermissions",i.wallet_requestPermissions="wallet_requestPermissions",(c||(c={})).requestAddressBook="requestAddressBook",e.s(["Methods",()=>o,"RestrictedMethods",()=>c],30353);let n=class{constructor(e=null,t=!1){this.allowedOrigins=null,this.callbacks=new Map,this.debugMode=!1,this.isServer="undefined"==typeof window,this.isValidMessage=({origin:e,data:t,source:s})=>{let a=!t,n=!this.isServer&&s===window.parent,r=void 0!==t.version&&parseInt(t.version.split(".")[0]),i=!0;return Array.isArray(this.allowedOrigins)&&(i=void 0!==this.allowedOrigins.find(t=>t.test(e))),!a&&n&&"number"==typeof r&&r>=1&&i},this.logIncomingMessage=e=>{console.info(`Safe Apps SDK v1: A message was received from origin ${e.origin}. `,e.data)},this.onParentMessage=e=>{this.isValidMessage(e)&&(this.debugMode&&this.logIncomingMessage(e),this.handleIncomingMessage(e.data))},this.handleIncomingMessage=e=>{let{id:t}=e,s=this.callbacks.get(t);s&&(s(e),this.callbacks.delete(t))},this.send=(e,t)=>{let s=a.makeRequest(e,t);if(this.isServer)throw Error("Window doesn't exist");return window.parent.postMessage(s,"*"),new Promise((e,t)=>{this.callbacks.set(s.id,s=>{s.success?e(s):t(Error(s.error))})})},this.allowedOrigins=e,this.debugMode=t,this.isServer||window.addEventListener("message",this.onParentMessage)}},r=e=>"object"==typeof e&&null!=e&&"domain"in e&&"types"in e&&"message"in e;e.s(["isObjectEIP712TypedData",0,r],274838),e.s([],297983);var i,o,c,u=e.i(832778);e.s([],253797),e.s([],647457),e.s([],102028);class d{constructor(e){this.communicator=e}async getBySafeTxHash(e){if(!e)throw Error("Invalid safeTxHash");return(await this.communicator.send(o.getTxBySafeTxHash,{safeTxHash:e})).data}async signMessage(e){return(await this.communicator.send(o.signMessage,{message:e})).data}async signTypedMessage(e){if(!r(e))throw Error("Invalid typed data");return(await this.communicator.send(o.signTypedMessage,{typedData:e})).data}async send({txs:e,params:t}){if(!e||!e.length)throw Error("No transactions were passed");return(await this.communicator.send(o.sendTransactions,{txs:e,params:t})).data}}let l={eth_call:"eth_call",eth_gasPrice:"eth_gasPrice",eth_getLogs:"eth_getLogs",eth_getBalance:"eth_getBalance",eth_getCode:"eth_getCode",eth_getBlockByHash:"eth_getBlockByHash",eth_getBlockByNumber:"eth_getBlockByNumber",eth_getStorageAt:"eth_getStorageAt",eth_getTransactionByHash:"eth_getTransactionByHash",eth_getTransactionReceipt:"eth_getTransactionReceipt",eth_getTransactionCount:"eth_getTransactionCount",eth_estimateGas:"eth_estimateGas",safe_setSettings:"safe_setSettings"};e.s(["RPC_CALLS",0,l],174499);let h=(e="latest")=>e,f=(e=!1)=>e,p=e=>Number.isInteger(e)?`0x${e.toString(16)}`:e;class y{constructor(e){this.communicator=e,this.call=this.buildRequest({call:l.eth_call,formatters:[null,h]}),this.getBalance=this.buildRequest({call:l.eth_getBalance,formatters:[null,h]}),this.getCode=this.buildRequest({call:l.eth_getCode,formatters:[null,h]}),this.getStorageAt=this.buildRequest({call:l.eth_getStorageAt,formatters:[null,p,h]}),this.getPastLogs=this.buildRequest({call:l.eth_getLogs}),this.getBlockByHash=this.buildRequest({call:l.eth_getBlockByHash,formatters:[null,f]}),this.getBlockByNumber=this.buildRequest({call:l.eth_getBlockByNumber,formatters:[p,f]}),this.getTransactionByHash=this.buildRequest({call:l.eth_getTransactionByHash}),this.getTransactionReceipt=this.buildRequest({call:l.eth_getTransactionReceipt}),this.getTransactionCount=this.buildRequest({call:l.eth_getTransactionCount,formatters:[null,h]}),this.getGasPrice=this.buildRequest({call:l.eth_gasPrice}),this.getEstimateGas=e=>this.buildRequest({call:l.eth_estimateGas})([e]),this.setSafeSettings=this.buildRequest({call:l.safe_setSettings})}buildRequest(e){let{call:t,formatters:s}=e;return async e=>(s&&Array.isArray(e)&&s.forEach((t,s)=>{t&&(e[s]=t(e[s]))}),(await this.communicator.send(o.rpcCall,{call:t,params:e||[]})).data)}}var g=e.i(283490),T=e.i(693779),E=e.i(754270);class m extends Error{constructor(e,t,s){super(e),this.code=t,this.data=s,Object.setPrototypeOf(this,m.prototype)}}class _{constructor(e){this.communicator=e}async getPermissions(){return(await this.communicator.send(o.wallet_getPermissions,void 0)).data}async requestPermissions(e){if(!this.isPermissionRequestValid(e))throw new m("Permissions request is invalid",4001);try{return(await this.communicator.send(o.wallet_requestPermissions,e)).data}catch{throw new m("Permissions rejected",4001)}}isPermissionRequestValid(e){return e.every(e=>"object"==typeof e&&Object.keys(e).every(e=>!!Object.values(c).includes(e)))}}let b=(e,t)=>t.some(t=>t.parentCapability===e);class A{constructor(e){this.communicator=e}async getChainInfo(){return(await this.communicator.send(o.getChainInfo,void 0)).data}async getInfo(){return(await this.communicator.send(o.getSafeInfo,void 0)).data}async experimental_getBalances({currency:e="usd"}={}){return(await this.communicator.send(o.getSafeBalances,{currency:e})).data}async check1271Signature(e,t="0x"){let s=await this.getInfo(),a=(0,g.encodeFunctionData)({abi:[{constant:!1,inputs:[{name:"_dataHash",type:"bytes32"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[e,t]}),n={call:l.eth_call,params:[{to:s.safeAddress,data:a},"latest"]};try{return"0x1626ba7e"===(await this.communicator.send(o.rpcCall,n)).data.slice(0,10).toLowerCase()}catch(e){return!1}}async check1271SignatureBytes(e,t="0x"){let s=await this.getInfo(),a=(0,g.encodeFunctionData)({abi:[{constant:!1,inputs:[{name:"_data",type:"bytes"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[e,t]}),n={call:l.eth_call,params:[{to:s.safeAddress,data:a},"latest"]};try{return"0x20c13b0b"===(await this.communicator.send(o.rpcCall,n)).data.slice(0,10).toLowerCase()}catch(e){return!1}}calculateMessageHash(e){return(0,T.hashMessage)(e)}calculateTypedMessageHash(e){let t="object"==typeof e.domain.chainId?e.domain.chainId.toNumber():Number(e.domain.chainId),s=e.primaryType;if(!s){let t=Object.values(e.types),a=Object.keys(e.types).filter(e=>t.every(t=>t.every(({type:t})=>t.replace("[","").replace("]","")!==e)));if(0===a.length||a.length>1)throw Error("Please specify primaryType");s=a[0]}return(0,E.hashTypedData)({message:e.message,domain:{...e.domain,chainId:t,verifyingContract:e.domain.verifyingContract,salt:e.domain.salt},types:e.types,primaryType:s})}async getOffChainSignature(e){return(await this.communicator.send(o.getOffChainSignature,e)).data}async isMessageSigned(e,t="0x"){let s;if("string"==typeof e&&(s=async()=>{let s=this.calculateMessageHash(e);return await this.isMessageHashSigned(s,t)}),r(e)&&(s=async()=>{let s=this.calculateTypedMessageHash(e);return await this.isMessageHashSigned(s,t)}),s)return await s();throw Error("Invalid message type")}async isMessageHashSigned(e,t="0x"){for(let s of[this.check1271Signature.bind(this),this.check1271SignatureBytes.bind(this)])if(await s(e,t))return!0;return!1}async getEnvironmentInfo(){return(await this.communicator.send(o.getEnvironmentInfo,void 0)).data}async requestAddressBook(){return(await this.communicator.send(o.requestAddressBook,void 0)).data}}!function(e,t,s,a){var n,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,s):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,s,a);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(i=(r<3?n(i):r>3?n(t,s,i):n(t,s))||i);r>3&&i&&Object.defineProperty(t,s,i)}([(e,t,s)=>{let a=s.value;return s.value=async function(){let e=new _(this.communicator),s=await e.getPermissions();if(b(t,s)||(s=await e.requestPermissions([{[t]:{}}])),!b(t,s))throw new m("Permissions rejected",4001);return a.apply(this)},s}],A.prototype,"requestAddressBook",null);let I=class{constructor(e={}){const{allowedDomains:t=null,debug:s=!1}=e;this.communicator=new n(t,s),this.eth=new y(this.communicator),this.txs=new d(this.communicator),this.safe=new A(this.communicator),this.wallet=new _(this.communicator)}};e.s(["default",0,I],282827),e.s(["default",0,I],558307),e.i(558307),e.i(282827),e.i(102028),e.i(274838),e.i(297983),e.i(253797),e.s(["Operation",()=>u.Operation,"TokenType",()=>u.TokenType,"TransactionStatus",()=>u.TransactionStatus,"TransferDirection",()=>u.TransferDirection],153028),e.i(153028),e.i(647457),e.s(["Operation",()=>u.Operation,"TokenType",()=>u.TokenType,"TransactionStatus",()=>u.TransactionStatus,"TransferDirection",()=>u.TransferDirection,"isObjectEIP712TypedData",0,r],622800),e.i(622800),e.i(30353),e.i(593940),e.i(174499),e.s(["MessageFormatter",()=>a,"Methods",()=>o,"Operation",()=>u.Operation,"RPC_CALLS",0,l,"RestrictedMethods",()=>c,"TokenType",()=>u.TokenType,"TransactionStatus",()=>u.TransactionStatus,"TransferDirection",()=>u.TransferDirection,"default",0,I,"getSDKVersion",0,t,"isObjectEIP712TypedData",0,r],90419)}]);