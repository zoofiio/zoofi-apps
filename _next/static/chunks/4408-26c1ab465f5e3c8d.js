"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4408],{97376:function(t,e,n){n.d(e,{e:function(){return getConnectorClient}});var r=n(26276),o=n(43633),a=n(89236),s=n(47982),c=n(19996);async function getConnectorClient(t,e={}){let n;if(e.connector){let{connector:t}=e,[r,o]=await Promise.all([t.getAccounts(),t.getChainId()]);n={accounts:r,chainId:o,connector:t}}else n=t.state.connections.get(t.state.current);if(!n)throw new c.aH;let i=e.chainId??n.chainId,u=n.connector;if(u.getClient)return u.getClient({chainId:i});let d=(0,a.T)(e.account??n.accounts[0]);d.address=(0,s.K)(d.address);let l=t.chains.find(t=>t.id===i),h=await n.connector.getProvider({chainId:i});if(e.account&&!n.accounts.includes(d.address))throw new c.JK({address:d.address,connector:u});return(0,r.e)({account:d,chain:l,name:"Connector Client",transport:t=>(function(t,e={}){let{key:n="custom",name:r="Custom Provider",retryDelay:a}=e;return({retryCount:s})=>(0,o.q)({key:n,name:r,request:t.request.bind(t),retryCount:e.retryCount??s,retryDelay:a,type:"custom"})})(h)({...t,retryCount:0})})}},19996:function(t,e,n){n.d(e,{JK:function(){return ConnectorAccountNotFoundError},X4:function(){return ChainNotConfiguredError},aH:function(){return ConnectorNotConnectedError},wi:function(){return ConnectorAlreadyConnectedError}});var r=n(42679);let ChainNotConfiguredError=class ChainNotConfiguredError extends r.G{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}};let ConnectorAlreadyConnectedError=class ConnectorAlreadyConnectedError extends r.G{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}};let ConnectorNotConnectedError=class ConnectorNotConnectedError extends r.G{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}};let ConnectorAccountNotFoundError=class ConnectorAccountNotFoundError extends r.G{constructor({address:t,connector:e}){super(`Account "${t}" not found for connector "${e.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}},55046:function(t,e,n){function hashFn(t){return JSON.stringify(t,(t,e)=>!function(t){if(!hasObjectPrototype(t))return!1;let e=t.constructor;if(void 0===e)return!0;let n=e.prototype;return!!(hasObjectPrototype(n)&&n.hasOwnProperty("isPrototypeOf"))}(e)?"bigint"==typeof e?e.toString():e:Object.keys(e).sort().reduce((t,n)=>(t[n]=e[n],t),{}))}function hasObjectPrototype(t){return"[object Object]"===Object.prototype.toString.call(t)}function filterQueryOptions(t){let{_defaulted:e,behavior:n,gcTime:r,initialData:o,initialDataUpdatedAt:a,maxPages:s,meta:c,networkMode:i,queryFn:u,queryHash:d,queryKey:l,queryKeyHashFn:h,retry:f,retryDelay:p,structuralSharing:y,getPreviousPageParam:C,getNextPageParam:w,initialPageParam:g,_optimisticResults:m,enabled:T,notifyOnChangeProps:A,placeholderData:b,refetchInterval:q,refetchIntervalInBackground:v,refetchOnMount:P,refetchOnReconnect:E,refetchOnWindowFocus:N,retryOnMount:O,select:_,staleTime:j,suspense:I,throwOnError:x,config:F,connector:k,query:G,...K}=t;return K}n.d(e,{O:function(){return filterQueryOptions},k:function(){return hashFn}})},53930:function(t,e,n){n.d(e,{l:function(){return signMessage}});var r=n(89236),o=n(48135),a=n(62531);async function signMessage(t,{account:e=t.account,message:n}){if(!e)throw new o.o({docsPath:"/docs/actions/wallet/signMessage"});let s=(0,r.T)(e);if(s.signMessage)return s.signMessage({message:n});let c="string"==typeof n?(0,a.$G)(n):n.raw instanceof Uint8Array?(0,a.NC)(n.raw):n.raw;return t.request({method:"personal_sign",params:[c,s.address]},{retryCount:0})}},48135:function(t,e,n){n.d(e,{Y:function(){return AccountTypeNotSupportedError},o:function(){return AccountNotFoundError}});var r=n(88604);let AccountNotFoundError=class AccountNotFoundError extends r.G{constructor({docsPath:t}={}){super("Could not find an Account to execute with this Action.\nPlease provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client.",{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}};let AccountTypeNotSupportedError=class AccountTypeNotSupportedError extends r.G{constructor({docsPath:t,metaMessages:e,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:t,metaMessages:e,name:"AccountTypeNotSupportedError"})}}},4408:function(t,e,n){n.d(e,{p:function(){return useWalletClient}});var r=n(83037),o=n(26546),a=n(62531);async function addChain(t,{chain:e}){let{id:n,name:r,nativeCurrency:o,rpcUrls:s,blockExplorers:c}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:(0,a.eC)(n),chainName:r,nativeCurrency:o,rpcUrls:s.default.http,blockExplorerUrls:c?Object.values(c).map(({url:t})=>t):void 0}]},{dedupe:!0,retryCount:0})}var s=n(23985),c=n(89236),i=n(48135),u=n(88604),d=n(71995),l=n(43937);function assertCurrentChain({chain:t,currentChainId:e}){if(!t)throw new l.Bk;if(e!==t.id)throw new l.Yl({chain:t,currentChainId:e})}var h=n(41756),f=n(54812),p=n(57054),y=n(43174),C=n(29608),w=n(27852),g=n(43277),m=n(35330),T=n(25235);async function sendTransaction(t,e){let{account:n=t.account,chain:r=t.chain,accessList:a,authorizationList:s,blobs:l,data:A,gas:b,gasPrice:q,maxFeePerBlobGas:v,maxFeePerGas:P,maxPriorityFeePerGas:E,nonce:N,value:O,..._}=e;if(!n)throw new i.o({docsPath:"/docs/actions/wallet/sendTransaction"});let j=(0,c.T)(n);try{let n;(0,g.F)(e),null!==r&&(n=await (0,w.s)(t,o.L,"getChainId")({}),assertCurrentChain({currentChainId:n,chain:r}));let c=await (async()=>e.to?e.to:s&&s.length>0?await (0,d.z)({authorization:s[0]}).catch(()=>{throw new u.G("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if("json-rpc"===j.type){let e=t.chain?.formatters?.transactionRequest?.format,r=e||C.tG,o=r({...(0,y.K)(_,{format:e}),accessList:a,authorizationList:s,blobs:l,chainId:n,data:A,from:j.address,gas:b,gasPrice:q,maxFeePerBlobGas:v,maxFeePerGas:P,maxPriorityFeePerGas:E,nonce:N,to:c,value:O});return await t.request({method:"eth_sendTransaction",params:[o]},{retryCount:0})}if("local"===j.type){let e=await (0,w.s)(t,m.Z,"prepareTransactionRequest")({account:j,accessList:a,authorizationList:s,blobs:l,chain:r,chainId:n,data:A,gas:b,gasPrice:q,maxFeePerBlobGas:v,maxFeePerGas:P,maxPriorityFeePerGas:E,nonce:N,parameters:[...m.Q,"sidecars"],value:O,..._,to:c}),o=r?.serializers?.transaction,i=await j.signTransaction(e,{serializer:o});return await (0,w.s)(t,T.p,"sendRawTransaction")({serializedTransaction:i})}if("smart"===j.type)throw new i.Y({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new i.Y({docsPath:"/docs/actions/wallet/sendTransaction",type:j.type})}catch(t){if(t instanceof i.Y)throw t;throw function(t,{docsPath:e,...n}){let r=(()=>{let e=(0,p.k)(t,n);return e instanceof h.cj?t:e})();return new f.mk(r,{docsPath:e,...n})}(t,{...e,account:j,chain:e.chain||void 0})}}var A=n(47982);async function getAddresses(t){if(t.account?.type==="local")return[t.account.address];let e=await t.request({method:"eth_accounts"},{dedupe:!0});return e.map(t=>(0,A.x)(t))}async function getPermissions(t){let e=await t.request({method:"wallet_getPermissions"},{dedupe:!0});return e}async function requestAddresses(t){let e=await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0});return e.map(t=>(0,A.K)(t))}async function requestPermissions(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}var b=n(53930);async function signTransaction(t,e){let{account:n=t.account,chain:r=t.chain,...s}=e;if(!n)throw new i.o({docsPath:"/docs/actions/wallet/signTransaction"});let u=(0,c.T)(n);(0,g.F)({account:u,...e});let d=await (0,w.s)(t,o.L,"getChainId")({});null!==r&&assertCurrentChain({currentChainId:d,chain:r});let l=r?.formatters||t.chain?.formatters,h=l?.transactionRequest?.format||C.tG;return u.signTransaction?u.signTransaction({...s,chainId:d},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...h(s),chainId:(0,a.eC)(d),from:u.address}]},{retryCount:0})}var q=n(74907);async function signTypedData(t,e){let{account:n=t.account,domain:r,message:o,primaryType:a}=e;if(!n)throw new i.o({docsPath:"/docs/actions/wallet/signTypedData"});let s=(0,c.T)(n),u={EIP712Domain:(0,q.cj)({domain:r}),...e.types};if((0,q.iC)({domain:r,message:o,primaryType:a,types:u}),s.signTypedData)return s.signTypedData({domain:r,message:o,primaryType:a,types:u});let d=(0,q.H6)({domain:r,message:o,primaryType:a,types:u});return t.request({method:"eth_signTypedData_v4",params:[s.address,d]},{retryCount:0})}async function switchChain(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,a.eC)(e)}]},{retryCount:0})}async function watchAsset(t,e){let n=await t.request({method:"wallet_watchAsset",params:e},{retryCount:0});return n}var v=n(71996);async function writeContract(t,e){let{abi:n,address:r,args:o,dataSuffix:a,functionName:s,...c}=e,i=(0,v.R)({abi:n,args:o,functionName:s});return(0,w.s)(t,sendTransaction,"sendTransaction")({data:`${i}${a?a.replace("0x",""):""}`,to:r,...c})}function walletActions(t){return{addChain:e=>addChain(t,e),deployContract:e=>(function(t,e){let{abi:n,args:r,bytecode:o,...a}=e,c=(0,s.w)({abi:n,args:r,bytecode:o});return sendTransaction(t,{...a,data:c})})(t,e),getAddresses:()=>getAddresses(t),getChainId:()=>(0,o.L)(t),getPermissions:()=>getPermissions(t),prepareTransactionRequest:e=>(0,m.Z)(t,e),requestAddresses:()=>requestAddresses(t),requestPermissions:e=>requestPermissions(t,e),sendRawTransaction:e=>(0,T.p)(t,e),sendTransaction:e=>sendTransaction(t,e),signMessage:e=>(0,b.l)(t,e),signTransaction:e=>signTransaction(t,e),signTypedData:e=>signTypedData(t,e),switchChain:e=>switchChain(t,e),watchAsset:e=>watchAsset(t,e),writeContract:e=>writeContract(t,e)}}var P=n(97376);async function getWalletClient(t,e={}){let n=await (0,P.e)(t,e);return n.extend(walletActions),n.extend(walletActions)}var E=n(55046),N=n(64103),O=n(44178),_=n(96670),j=n(90283),I=n(57728);function useWalletClient(t={}){let{query:e={},...n}=t,o=(0,I.Z)(n),a=(0,r.NL)(),{address:s,connector:c,status:i}=(0,_.m)({config:o}),u=(0,j.x)({config:o}),{queryKey:d,...l}=function(t,e={}){return{gcTime:0,async queryFn({queryKey:n}){let{connector:r}=e,{connectorUid:o,scopeKey:a,...s}=n[1];return getWalletClient(t,{...s,connector:r})},queryKey:function(t={}){let{connector:e,...n}=t;return["walletClient",{...(0,E.O)(n),connectorUid:e?.uid}]}(e)}}(o,{...t,chainId:t.chainId??u,connector:t.connector??c}),h=!!("disconnected"!==i&&(e.enabled??!0)),f=(0,N.useRef)(s);return(0,N.useEffect)(()=>{let t=f.current;!s&&t?(a.removeQueries({queryKey:d}),f.current=void 0):s!==t&&(a.invalidateQueries({queryKey:d}),f.current=s)},[s,a]),(0,O.aM)({...e,...l,queryKey:d,enabled:h,staleTime:1/0})}},44178:function(t,e,n){n.d(e,{aM:function(){return useQuery},if:function(){return structuralSharing}});var r=n(64370),o=n(72549),a=n(73992),s=n(55046);function useQuery(t){let e=(0,r.a)({...t,queryKeyHashFn:s.k});return e.queryKey=t.queryKey,e}function structuralSharing(t,e){return(0,a.v)(t,e)?t:(0,o.Q$)(t,e)}}}]);