"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9382],{83716:function(t,e,n){n.d(e,{R:function(){return getDefaultState},m:function(){return i}});var r=n(64583),s=n(93242),o=n(76937),i=class extends s.F{#t;#e;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||getDefaultState(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||("pending"===this.state.status?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){this.#n=(0,o.Mz)({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(Error("No mutationFn found")),onFail:(t,e)=>{this.#r({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});let e="pending"===this.state.status,n=!this.#n.canStart();try{if(!e){this.#r({type:"pending",variables:t,isPaused:n}),await this.#e.config.onMutate?.(t,this);let e=await this.options.onMutate?.(t);e!==this.state.context&&this.#r({type:"pending",context:e,variables:t,isPaused:n})}let r=await this.#n.start();return await this.#e.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#e.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#r({type:"success",data:r}),r}catch(e){try{throw await this.#e.config.onError?.(e,t,this.state.context,this),await this.options.onError?.(e,t,this.state.context),await this.#e.config.onSettled?.(void 0,e,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,e,t,this.state.context),e}finally{this.#r({type:"error",error:e})}}finally{this.#e.runNext(this)}}#r(t){this.state=(e=>{switch(t.type){case"failed":return{...e,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"pending":return{...e,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...e,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:t.error,failureCount:e.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}})(this.state),r.V.batch(()=>{this.#t.forEach(e=>{e.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},95499:function(t,e,n){n.d(e,{D:function(){return useMutation}});var r=n(64103),s=n(83716),o=n(64583),i=n(7539),a=n(72549),u=class extends i.l{#s;#o=void 0;#i;#a;constructor(t,e){super(),this.#s=t,this.setOptions(e),this.bindMethods(),this.#u()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#s.defaultMutationOptions(t),(0,a.VS)(this.options,e)||this.#s.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#i,observer:this}),e?.mutationKey&&this.options.mutationKey&&(0,a.Ym)(e.mutationKey)!==(0,a.Ym)(this.options.mutationKey)?this.reset():this.#i?.state.status==="pending"&&this.#i.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#i?.removeObserver(this)}onMutationUpdate(t){this.#u(),this.#c(t)}getCurrentResult(){return this.#o}reset(){this.#i?.removeObserver(this),this.#i=void 0,this.#u(),this.#c()}mutate(t,e){return this.#a=e,this.#i?.removeObserver(this),this.#i=this.#s.getMutationCache().build(this.#s,this.options),this.#i.addObserver(this),this.#i.execute(t)}#u(){let t=this.#i?.state??(0,s.R)();this.#o={...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}}#c(t){o.V.batch(()=>{if(this.#a&&this.hasListeners()){let e=this.#o.variables,n=this.#o.context;t?.type==="success"?(this.#a.onSuccess?.(t.data,e,n),this.#a.onSettled?.(t.data,null,e,n)):t?.type==="error"&&(this.#a.onError?.(t.error,e,n),this.#a.onSettled?.(void 0,t.error,e,n))}this.listeners.forEach(t=>{t(this.#o)})})}},c=n(83037),h=n(17275);function useMutation(t,e){let n=(0,c.NL)(e),[s]=r.useState(()=>new u(n,t));r.useEffect(()=>{s.setOptions(t)},[s,t]);let i=r.useSyncExternalStore(r.useCallback(t=>s.subscribe(o.V.batchCalls(t)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=r.useCallback((t,e)=>{s.mutate(t,e).catch(h.Z)},[s]);if(i.error&&(0,h.L)(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}},97376:function(t,e,n){n.d(e,{e:function(){return getConnectorClient}});var r=n(26276),s=n(43633),o=n(89236),i=n(47982),a=n(19996);async function getConnectorClient(t,e={}){let n;if(e.connector){let{connector:t}=e,[r,s]=await Promise.all([t.getAccounts(),t.getChainId()]);n={accounts:r,chainId:s,connector:t}}else n=t.state.connections.get(t.state.current);if(!n)throw new a.aH;let u=e.chainId??n.chainId,c=n.connector;if(c.getClient)return c.getClient({chainId:u});let h=(0,o.T)(e.account??n.accounts[0]);h.address=(0,i.K)(h.address);let l=t.chains.find(t=>t.id===u),d=await n.connector.getProvider({chainId:u});if(e.account&&!n.accounts.includes(h.address))throw new a.JK({address:h.address,connector:c});return(0,r.e)({account:h,chain:l,name:"Connector Client",transport:t=>(function(t,e={}){let{key:n="custom",name:r="Custom Provider",retryDelay:o}=e;return({retryCount:i})=>(0,s.q)({key:n,name:r,request:t.request.bind(t),retryCount:e.retryCount??i,retryDelay:o,type:"custom"})})(d)({...t,retryCount:0})})}},19996:function(t,e,n){n.d(e,{JK:function(){return ConnectorAccountNotFoundError},X4:function(){return ChainNotConfiguredError},aH:function(){return ConnectorNotConnectedError},wi:function(){return ConnectorAlreadyConnectedError}});var r=n(42679);let ChainNotConfiguredError=class ChainNotConfiguredError extends r.G{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}};let ConnectorAlreadyConnectedError=class ConnectorAlreadyConnectedError extends r.G{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}};let ConnectorNotConnectedError=class ConnectorNotConnectedError extends r.G{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}};let ConnectorAccountNotFoundError=class ConnectorAccountNotFoundError extends r.G{constructor({address:t,connector:e}){super(`Account "${t}" not found for connector "${e.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}},75933:function(t,e,n){n.d(e,{M:function(){return ProviderNotFoundError},O:function(){return SwitchChainNotSupportedError}});var r=n(42679);let ProviderNotFoundError=class ProviderNotFoundError extends r.G{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}};let SwitchChainNotSupportedError=class SwitchChainNotSupportedError extends r.G{constructor({connector:t}){super(`"${t.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}},55046:function(t,e,n){function hashFn(t){return JSON.stringify(t,(t,e)=>!function(t){if(!hasObjectPrototype(t))return!1;let e=t.constructor;if(void 0===e)return!0;let n=e.prototype;return!!(hasObjectPrototype(n)&&n.hasOwnProperty("isPrototypeOf"))}(e)?"bigint"==typeof e?e.toString():e:Object.keys(e).sort().reduce((t,n)=>(t[n]=e[n],t),{}))}function hasObjectPrototype(t){return"[object Object]"===Object.prototype.toString.call(t)}function filterQueryOptions(t){let{_defaulted:e,behavior:n,gcTime:r,initialData:s,initialDataUpdatedAt:o,maxPages:i,meta:a,networkMode:u,queryFn:c,queryHash:h,queryKey:l,queryKeyHashFn:d,retry:p,retryDelay:f,structuralSharing:y,getPreviousPageParam:C,getNextPageParam:m,initialPageParam:b,_optimisticResults:g,enabled:v,notifyOnChangeProps:w,placeholderData:O,refetchInterval:S,refetchIntervalInBackground:E,refetchOnMount:M,refetchOnReconnect:x,refetchOnWindowFocus:P,retryOnMount:N,select:A,staleTime:R,suspense:F,throwOnError:j,config:G,connector:k,query:K,...D}=t;return D}n.d(e,{O:function(){return filterQueryOptions},k:function(){return hashFn}})},53930:function(t,e,n){n.d(e,{l:function(){return signMessage}});var r=n(89236),s=n(48135),o=n(62531);async function signMessage(t,{account:e=t.account,message:n}){if(!e)throw new s.o({docsPath:"/docs/actions/wallet/signMessage"});let i=(0,r.T)(e);if(i.signMessage)return i.signMessage({message:n});let a="string"==typeof n?(0,o.$G)(n):n.raw instanceof Uint8Array?(0,o.NC)(n.raw):n.raw;return t.request({method:"personal_sign",params:[a,i.address]},{retryCount:0})}},48135:function(t,e,n){n.d(e,{Y:function(){return AccountTypeNotSupportedError},o:function(){return AccountNotFoundError}});var r=n(88604);let AccountNotFoundError=class AccountNotFoundError extends r.G{constructor({docsPath:t}={}){super("Could not find an Account to execute with this Action.\nPlease provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client.",{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}};let AccountTypeNotSupportedError=class AccountTypeNotSupportedError extends r.G{constructor({docsPath:t,metaMessages:e,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:t,metaMessages:e,name:"AccountTypeNotSupportedError"})}}},60986:function(t,e,n){n.d(e,{o:function(){return useSwitchChain}});var r=n(95499),s=n(19996),o=n(75933);async function switchChain(t,e){let{addEthereumChainParameter:n,chainId:r}=e,i=t.state.connections.get(e.connector?.uid??t.state.current);if(i){let t=i.connector;if(!t.switchChain)throw new o.O({connector:t});let e=await t.switchChain({addEthereumChainParameter:n,chainId:r});return e}let a=t.chains.find(t=>t.id===r);if(!a)throw new s.X4;return t.setState(t=>({...t,chainId:r})),a}var i=n(73992);let a=[];function getChains(t){let e=t.chains;return(0,i.v)(a,e)?a:(a=e,e)}var u=n(64103),c=n(57728);function useSwitchChain(t={}){let{mutation:e}=t,n=(0,c.Z)(t),{mutate:s,mutateAsync:o,...i}=(0,r.D)({...e,mutationFn:t=>switchChain(n,t),mutationKey:["switchChain"]});return{...i,chains:function(t={}){let e=(0,c.Z)(t);return(0,u.useSyncExternalStore)(t=>(function(t,e){let{onChange:n}=e;return t._internal.chains.subscribe((t,e)=>{n(t,e)})})(e,{onChange:t}),()=>getChains(e),()=>getChains(e))}({config:n}),switchChain:s,switchChainAsync:o}}},44178:function(t,e,n){n.d(e,{aM:function(){return useQuery},if:function(){return structuralSharing}});var r=n(64370),s=n(72549),o=n(73992),i=n(55046);function useQuery(t){let e=(0,r.a)({...t,queryKeyHashFn:i.k});return e.queryKey=t.queryKey,e}function structuralSharing(t,e){return(0,o.v)(t,e)?t:(0,s.Q$)(t,e)}}}]);