(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,599457,95377,416301,e=>{"use strict";var t=e.i(29743),n=e.i(647163);function r(e,t,n=0){if(Object.is(t=Number(t),-0)&&(t="-0"),n=Math.min(Number.parseInt(n,10),292)){let[r,a=0]=t.toString().split("e"),i=Math[e](Number(`${r}e${Number(a)+n}`));Object.is(i,-0)&&(i="-0");let[s,o=0]=i.toString().split("e");return Number(`${s}e${Number(o)-n}`)}return Math[e](Number(t))}function a(e,t=0){return r("floor",e,t)}function i(){return(0,t.jsx)("tr",{className:"text-lg font-normal text-center text-black ",children:(0,t.jsx)("td",{colSpan:100,className:"h-[100px] py-5 align-top"})})}e.s(["decimalAdjust",()=>r],95377),e.s(["floor",()=>a],416301),e.s(["default",0,({header:e,data:r,span:s={},empty:o=(0,t.jsx)(i,{}),className:l,headerClassName:c,headerItemClassName:u,tbodyClassName:d="",rowClassName:p,rowStyle:f,cellClassName:m,onClickRow:h,onRowMouseHover:x})=>{let y=e.reduce((e,t,n)=>e+(s[n]??1),0),g=y>0?100/y:0;return(0,t.jsxs)("table",{className:(0,n.cn)("relative w-full bg-transparent ",l),children:[(0,t.jsx)("thead",{className:"",children:(0,t.jsx)("tr",{className:(0,n.cn)("text-left whitespace-nowrap font-normal text-black border-b border-gray-100 pt-5 pb-6 dark:text-slate-50 dark:border-zinc-600",c),children:e.map((e,r)=>(0,t.jsx)("th",{style:{width:`${a(g*(s[r]??1),2)}%`},scope:"col",className:(0,n.cn)(0==s[r]?"p-0 w-0":"p-3 font-normal text-sm","function"==typeof u?u(r):u),children:e},r))})}),(0,t.jsxs)("tbody",{className:(0,n.cn)(d),children:[r.map((r,a)=>(0,t.jsx)("tr",{onClick:()=>h&&h(a),onMouseEnter:()=>x&&x(a),onMouseLeave:()=>x&&x(-1),style:"function"==typeof f?f(a):f,className:(0,n.cn)("text-slate-700 dark:text-slate-50 font-medium whitespace-nowrap",h?"cursor-pointer hover:bg-slate-400/10":"","function"==typeof p?p(a):p),children:r.map((r,i)=>i>=e.length?(0,t.jsx)(t.Fragment,{children:r}):(0,t.jsx)("td",{className:(0,n.cn)(0==s[i]?"p-0 w-max":"px-3 py-2 text-sm w-max",{"flex items-center gap-2":0==i},"function"==typeof m?m(a,i):m),children:r},i))},a)),0===r.length&&o]})]})}],599457)},211051,e=>{"use strict";var t=e.i(570963);e.s(["displayBalance",0,(e,n=3,r=18)=>{if(!e)return"0";let a="bigint"==typeof e?e:BigInt(e),i=Number((0,t.formatUnits)(a,r)),s=Number((.1**n).toFixed(n));return i>0&&i<s?"<"+s:i<0&&i>-s?"≈0":i.toLocaleString("en-US",{maximumFractionDigits:n})}])},216826,(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.Collapse=void 0;var a,i=(a=e.r(96932))&&a.__esModule?a:{default:a};function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");u.prototype=Object.create(e&&e.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),e&&s(u,e);var t,n,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=l(u);return e=t?Reflect.construct(n,arguments,l(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return o(e)}(this,e)});function u(e){var t;if(!(this instanceof u))throw TypeError("Cannot call a class as a function");return c(o(t=a.call(this,e)),"timeout",void 0),c(o(t),"container",void 0),c(o(t),"content",void 0),c(o(t),"onResize",function(){if(clearTimeout(t.timeout),t.container&&t.content){var e=t.props,n=e.isOpened,r=e.checkTimeout,a=Math.floor(t.container.clientHeight),i=Math.floor(t.content.clientHeight),s=n&&1>=Math.abs(i-a),o=!n&&1>=Math.abs(a);s||o?t.onRest({isFullyOpened:s,isFullyClosed:o,isOpened:n,containerHeight:a,contentHeight:i}):(t.onWork({isFullyOpened:s,isFullyClosed:o,isOpened:n,containerHeight:a,contentHeight:i}),t.timeout=setTimeout(function(){return t.onResize()},r))}}),c(o(t),"onRest",function(e){var n=e.isFullyOpened,r=e.isFullyClosed,a=e.isOpened,i=e.containerHeight,s=e.contentHeight;if(t.container&&t.content){var o=a&&t.container.style.height==="".concat(s,"px"),l=!a&&"0px"===t.container.style.height;if(o||l){t.container.style.overflow=a?"initial":"hidden",t.container.style.height=a?"auto":"0px";var c=t.props.onRest;c&&c({isFullyOpened:n,isFullyClosed:r,isOpened:a,containerHeight:i,contentHeight:s})}}}),c(o(t),"onWork",function(e){var n=e.isFullyOpened,r=e.isFullyClosed,a=e.isOpened,i=e.containerHeight,s=e.contentHeight;if(t.container&&t.content){var o=a&&t.container.style.height==="".concat(s,"px"),l=!a&&"0px"===t.container.style.height;if(!o&&!l){t.container.style.overflow="hidden",t.container.style.height=a?"".concat(s,"px"):"0px";var c=t.props.onWork;c&&c({isFullyOpened:n,isFullyClosed:r,isOpened:a,containerHeight:i,contentHeight:s})}}}),c(o(t),"onRefContainer",function(e){t.container=e}),c(o(t),"onRefContent",function(e){t.content=e}),e.initialStyle?t.initialStyle=e.initialStyle:t.initialStyle=e.isOpened?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"},t}return n=[{key:"componentDidMount",value:function(){this.onResize()}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.theme,r=t.isOpened;return t.children!==e.children||r!==e.isOpened||Object.keys(n).some(function(t){return n[t]!==e.theme[t]})}},{key:"getSnapshotBeforeUpdate",value:function(){if(!this.container||!this.content)return null;if("auto"===this.container.style.height){var e=this.content.clientHeight;this.container.style.height="".concat(e,"px")}return null}},{key:"componentDidUpdate",value:function(){this.onResize()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.children,r=e.isOpened;return i.default.createElement("div",{ref:this.onRefContainer,className:t.collapse,style:this.initialStyle,"aria-hidden":!r},i.default.createElement("div",{ref:this.onRefContent,className:t.content},n))}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(u.prototype,n),u}(i.default.Component);n.Collapse=u,c(u,"defaultProps",{theme:{collapse:"ReactCollapse--collapse",content:"ReactCollapse--content"},initialStyle:void 0,onRest:void 0,onWork:void 0,checkTimeout:50})},998971,(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.UnmountClosed=void 0;var a,i=(a=e.r(96932))&&a.__esModule?a:{default:a},s=e.r(216826),o=["isOpened"],l=["isOpened"];function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){x(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");u.prototype=Object.create(e&&e.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),e&&f(u,e);var t,n,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=h(u);return e=t?Reflect.construct(n,arguments,h(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return m(e)}(this,e)});function u(e){var t;if(!(this instanceof u))throw TypeError("Cannot call a class as a function");return x(m(t=a.call(this,e)),"onWork",function(e){var n=e.isOpened,r=p(e,o);t.setState({isResting:!1,isOpened:n});var a=t.props.onWork;a&&a(d({isOpened:n},r))}),x(m(t),"onRest",function(e){var n=e.isOpened,r=p(e,l);t.setState({isResting:!0,isOpened:n,isInitialRender:!1});var a=t.props.onRest;a&&a(d({isOpened:n},r))}),x(m(t),"getInitialStyle",function(){var e=t.state,n=e.isOpened;return e.isInitialRender&&n?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"}}),t.state={isResting:!0,isOpened:e.isOpened,isInitialRender:!0},t}return n=[{key:"componentDidUpdate",value:function(e){var t=this.props.isOpened;e.isOpened!==t&&this.setState({isResting:!1,isOpened:t,isInitialRender:!1})}},{key:"render",value:function(){var e=this.state,t=e.isResting,n=e.isOpened;return t&&!n?null:i.default.createElement(s.Collapse,c({},this.props,{initialStyle:this.getInitialStyle(),onWork:this.onWork,onRest:this.onRest}))}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(u.prototype,n),u}(i.default.PureComponent);n.UnmountClosed=y,x(y,"defaultProps",{onWork:void 0,onRest:void 0})},565689,(e,t,n)=>{"use strict";var r=e.r(216826).Collapse,a=e.r(998971).UnmountClosed;t.exports=a,a.Collapse=r,a.UnmountClosed=a},543627,108083,e=>{"use strict";var t=e.i(29743),n=e.i(567543),r=e.i(647163),a=e.i(388654),i=e.i(599236),s=e.i(962220),o=e.i(96932),l=e.i(565689),c=e.i(459155),u=e.i(858316),d=e.i(617058),p=e.i(40143),f=e.i(390644),m=e.i(995451),h=e.i(322285),x=e.i(928348),y=e.i(479726),g=e.i(719817),b=e.i(731724),v=e.i(186680),j=e.i(30951);let w=(0,b.create)((e,t)=>({txs:[],addTx(...n){n.length>0&&e({txs:t().txs.concat(n)})},editTx(n,r){let a=t().txs;if(n<0||n>=a.length)return;let i=[...a];i[n]=r,e({txs:i})},removeTx(...n){0==n.length||e({txs:[...t().txs].filter((e,t)=>!n.includes(t))})}}));function N({className:e}){let{txs:n,removeTx:a}=w();if(0==n.length)return null;let i=()=>w.setState({txs:[]});return(0,t.jsx)(v.SimpleDialog,{trigger:(0,t.jsx)("div",{style:{textShadow:" 0px 1px 1px rgb(0 0 0 / 0.1), 0px 1px 2px rgb(0 0 0 / 0.1), 0px 2px 4px rgb(0 0 0 / 0.1)"},className:(0,r.cn)("fixed top-28 right-12 shadow-lg rounded-md px-3 py-2 bg-primary/60 text-red-500 font-medium text-shadow cursor-pointer",e),children:n.length}),children:(0,t.jsxs)("div",{className:"w-full flex flex-col gap-4 p-5",children:[(0,t.jsx)("div",{className:"font-medium text-lg",children:"Multi Tx"}),(0,t.jsx)("div",{className:"w-full flex flex-col gap-2 overflow-y-auto max-h-125",children:n.map((e,n)=>(0,t.jsxs)("div",{className:"flex bg-primary/20 rounded-md items-center gap-4 px-3 py-1",children:[(0,t.jsxs)("span",{children:["(",(0,r.shortStr)(e.address),")"]}),(0,t.jsx)("span",{children:(0,r.shortStr)(e.functionName)}),(0,y.size)(e.args)>0&&(0,t.jsx)(j.Tip,{children:JSON.stringify(e.args,void 0,2)}),(0,t.jsx)(g.IoIosRemoveCircleOutline,{className:"text-3xl cursor-pointer hover:text-red-500 ml-auto shrink-0",onClick:()=>a(n)})]},`tx_item_${n}`))}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(h.Txs,{tx:"Execute",className:"flex-1",txs:n,onTxSuccess:i}),(0,t.jsx)(x.BBtn,{className:"w-20 shrink-0",onClick:i,children:"Clear"})]})]})})}function C({disabled:e,txs:n,className:a,...i}){let{addTx:s}=w();return(0,t.jsx)(x.BBtn,{disabled:e||0===n.length,onClick:()=>s(...n),className:(0,r.cn)("w-36 shrink-0 h-6.5 text-xs",a),...i,children:"Add to Temp"})}e.s(["AddMultiTx",()=>C,"MultiTxTemp",()=>N],108083);var O=e.i(392861),S=e.i(839561);let k="bg-white dark:bg-transparent border-primary/70 w-full h-14 text-right pr-4 font-bold text-sm border focus:border-2  rounded-md outline-hidden ",A=(e,t,n)=>{try{return e.map((e,r)=>{let a=t[r];return n?n(e,r,a):"uint8"==a.type?parseInt((e||"").replaceAll(" ","")):a.type.startsWith("uint")?a.type.endsWith("]")?JSON.parse(e).map(e=>BigInt((`${e}`||"").replaceAll(" ",""))):BigInt((e||"").replaceAll(" ","")):"bytes32"==a.type?(0,m.stringToHex)(e,{size:32}):"bool"==a.type?"true"==e:a.type.endsWith("]")?JSON.parse(e):e})}catch(e){return}};function R({children:e,tit:n,disable:a,className:i,disableAnim:s}){let[u,d]=(0,o.useState)(!1);return(0,t.jsxs)("div",{className:(0,r.cn)(s?"":"animitem","flex flex-col w-full bg-primary/10 rounded-lg overflow-hidden",i),children:[(0,t.jsxs)("div",{className:"px-4 py-2 flex justify-between items-center text-sm",children:[(0,t.jsx)("div",{className:"font-medium",children:n}),a?e:(0,t.jsxs)("div",{className:"px-2 py-1 rounded-full border border-solid border-primary flex items-center text-xs text-primary cursor-pointer ",onClick:()=>d(!u),children:[(0,t.jsx)("span",{className:"mr-[5px]",children:u?"Close":"Expand"}),u?(0,t.jsx)(c.FiArrowUp,{}):(0,t.jsx)(c.FiArrowDown,{})]})]}),(0,t.jsx)(l.Collapse,{isOpened:u,theme:{content:"bg-gray-200 dark:bg-transparent p-4 flex flex-col gap-2"},children:e})]})}function _({abi:e,address:l,functionName:c,tit:p,infos:f,convertArg:m,txProps:y,onArgs:g,argsDef:b,disableAnim:v}){let j=e.find(e=>"function"==e.type&&e.name==c),w=j?.inputs?.length||0,[{args:N},_]=(0,u.useSetState)({args:Array(w).fill("")});(0,o.useEffect)(()=>{g&&g(N)},[N]);let{data:E,isLoading:B,isError:T,refetch:P}=(0,s.useQuery)({queryKey:["queryInfo",l,c,f],enabled:!!f,queryFn:async()=>(0,r.promiseT)(f)}),D=(0,o.useMemo)(()=>N.map((e,t)=>e||b?.[t]||""),[b,N]),F=(0,n.useCurrentChainId)(),{data:I,mutate:M,isPending:U}=(0,i.useMutation)({mutationFn:async()=>await (0,a.getPC)(F).readContract({abi:e,address:l,functionName:c,...N.length?{args:A(N,j.inputs,m)}:{}}),onError:r.handleError});if(!j)return;let L=j.stateMutability.includes("payable"),W=(!j.inputs||0==j.inputs.length)&&L,$=L?A(D,j.inputs,m):void 0;return(0,t.jsxs)(R,{tit:p||c,disable:W,disableAnim:v,children:[j.inputs?.map((e,n)=>(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("div",{className:"opacity-60 absolute top-1/2 left-2 -translate-y-1/2 text-xs",children:[e.name,"(",e.type,")"]}),(0,t.jsx)("input",{type:"text",value:D[n],onChange:e=>_({args:N.map((t,r)=>n==r?e.target.value:t)}),className:(0,r.cn)(k)})]},`input_${n}`)),(0,t.jsxs)("div",{className:(0,r.cn)("whitespace-pre-wrap"),children:[B&&(0,t.jsx)(O.Spinner,{}),!(0,S.isNil)(E)&&JSON.stringify(E,void 0,2)]}),(0,t.jsx)("div",{className:(0,r.cn)("whitespace-pre-wrap"),children:!(0,S.isNil)(I)&&JSON.stringify(I,void 0,2)}),L?(0,t.jsxs)("div",{className:"flex gap-5 items-center",children:[(0,t.jsx)(h.Txs,{...y||{},onTxSuccess:()=>{f&&P(),y?.onTxSuccess?.()},tx:"Write",txs:[{abi:e,address:l,functionName:c,...N.length?{args:$}:{}}],disabled:y?.disabled||!!N.length&&!$,className:(0,r.cn)("mt-0! flex items-center justify-center gap-4 h-6.5 text-xs",W?"max-w-[100px]":"w-full")}),(0,t.jsx)(C,{txs:[{abi:e,address:l,functionName:c,...N.length?{args:$}:{}}]})]}):(0,t.jsx)(x.BBtn,{className:(0,d.twMerge)("flex items-center justify-center gap-4 h-6.5 text-xs",(0,r.cn)("mt-0! flex items-center justify-center gap-4",W?"max-w-[100px]":"w-full")),onClick:()=>M(),busy:U,busyShowContent:!0,disabled:!1,children:"Read"})]})}function E({abi:e,address:n,tit:r,itemInfos:a,unwrap:i}){let[s,l]=(0,o.useMemo)(()=>{let t=[],n=[];for(let r of e)"function"==r.type&&(r.stateMutability.includes("payable")?n.push(r):t.push(r));return[t,n]},[e]);return i?(0,t.jsxs)(o.Fragment,{children:[s.map((e,r)=>(0,t.jsx)(_,{disableAnim:!0,abi:[e],address:n,functionName:e.name,infos:a?.[e.name]},`read_${r}`)),l.map((e,r)=>(0,t.jsx)(_,{disableAnim:!0,abi:[e],address:n,functionName:e.name,infos:a?.[e.name]},`write_${r}`))]}):(0,t.jsx)(R,{tit:r,children:(0,t.jsxs)("div",{className:"grid grid-cols-5 gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2 col-span-2",children:[(0,t.jsx)("div",{className:"font-bold text-2xl",children:"Read"}),s.map((e,r)=>(0,t.jsx)(_,{disableAnim:!0,abi:[e],address:n,functionName:e.name,infos:a?.[e.name]},`read_${r}`))]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 col-span-3",children:[(0,t.jsx)("div",{className:"font-bold text-2xl",children:"Write"}),l.map((e,r)=>(0,t.jsx)(_,{disableAnim:!0,abi:[e],address:n,functionName:e.name,infos:a?.[e.name]},`write_${r}`))]})]})})}function B(){let[e,n]=(0,u.useSetState)({token:"",spender:"",amount:0n});return(0,t.jsxs)(R,{tit:"Erc20Approve",children:[(0,t.jsx)("input",{type:"text",placeholder:"token",value:e.token,onChange:e=>n({token:e.target.value}),className:(0,r.cn)(k)}),(0,t.jsx)("input",{type:"text",placeholder:"spender",value:e.spender,onChange:e=>n({spender:e.target.value}),className:(0,r.cn)(k)}),(0,t.jsx)("input",{type:"text",placeholder:"amount",value:e.amount.toString(),onChange:e=>{try{n({amount:(0,r.parseEthers)(e.target.value,0)})}catch(e){}},className:(0,r.cn)(k)}),(0,t.jsx)(h.ApproveAndTx,{tx:"Write",disabled:!(0,f.isAddress)(e.token)||!(0,f.isAddress)(e.spender)||e.amount<=0n,config:{abi:p.erc20Abi,address:e.token,functionName:"approve",args:[e.spender,e.amount]},className:"mt-0! w-full flex items-center justify-center gap-4"})]})}function T({infos:e,keys:n,className:a}){let{data:i,isFetching:o,isError:l,refetch:c}=(0,s.useQuery)({queryKey:["queryAsyncInfo",n,e],enabled:!!e,queryFn:async()=>(0,r.promiseT)(e)});return(0,t.jsxs)("div",{className:(0,r.cn)("whitespace-pre-wrap animitem",a),children:[o&&(0,t.jsx)(O.Spinner,{}),l&&!o&&(0,t.jsx)("div",{className:"text-red-400",children:"Error"}),!(0,S.isNil)(i)&&JSON.stringify(i,void 0,2),(0,t.jsx)(x.BBtn,{onClick:()=>c(),children:"Refresh"})]})}e.s(["AsyncInfo",()=>T,"ContractAll",()=>E,"Erc20Approve",()=>B,"Expandable",()=>R,"GeneralAction",()=>_,"inputClassname",0,k,"selectClassNames",0,{menu:()=>(0,r.cn)("bg-white dark:bg-black dark:border"),option:e=>(0,r.cn)({"bg-primary/30!":e.isFocused,"bg-primary/60!":e.isSelected}),control:()=>"bg-white dark:bg-black min-h-[58px]! border-primary/30! shadow-none!",singleValue:()=>"dark:text-white"}],543627)},121583,(e,t,n)=>{t.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},26012,(e,t,n)=>{"use strict";var r=e.r(121583),a={"text/plain":"Text","text/html":"Url",default:"Text"};t.exports=function(e,t){var n,i,s,o,l,c,u,d,p=!1;t||(t={}),s=t.debug||!1;try{if(l=r(),c=document.createRange(),u=document.getSelection(),(d=document.createElement("span")).textContent=e,d.ariaHidden="true",d.style.all="unset",d.style.position="fixed",d.style.top=0,d.style.clip="rect(0, 0, 0, 0)",d.style.whiteSpace="pre",d.style.webkitUserSelect="text",d.style.MozUserSelect="text",d.style.msUserSelect="text",d.style.userSelect="text",d.addEventListener("copy",function(n){if(n.stopPropagation(),t.format)if(n.preventDefault(),void 0===n.clipboardData){s&&console.warn("unable to use e.clipboardData"),s&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var r=a[t.format]||a.default;window.clipboardData.setData(r,e)}else n.clipboardData.clearData(),n.clipboardData.setData(t.format,e);t.onCopy&&(n.preventDefault(),t.onCopy(n.clipboardData))}),document.body.appendChild(d),c.selectNodeContents(d),u.addRange(c),!document.execCommand("copy"))throw Error("copy command was unsuccessful");p=!0}catch(r){s&&console.error("unable to copy using execCommand: ",r),s&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),p=!0}catch(r){s&&console.error("unable to copy using clipboardData: ",r),s&&console.error("falling back to prompt"),n="message"in t?t.message:"Copy to clipboard: #{key}, Enter",i=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C",o=n.replace(/#{\s*key\s*}/g,i),window.prompt(o,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(c):u.removeAllRanges()),d&&document.body.removeChild(d),l()}return p}},640716,e=>{"use strict";var t=e.i(29743),n=e.i(563417),r=e.i(543627),a=e.i(833957),i=e.i(186680),s=e.i(599457),o=e.i(392861),l=e.i(928348),c=e.i(62870),u=e.i(950759),d=e.i(875219),p=e.i(502791),f=e.i(751755),m=e.i(26012),h=e.i(96932),x=e.i(136888),y=e.i(302121),g=e.i(949964),b=e.i(647163),v=e.i(388654),j=e.i(211051),w=e.i(599236),N=e.i(820387),C=(e.i(726665),e.i(254664),e.i(789066)),O=e.i(960819);let S=function(e,t,n){if(!O.isBrowser)return[t,O.noop,O.noop];if(!e)throw Error("useLocalStorage key may not be falsy");var r=n?n.raw?function(e){return e}:n.deserializer:JSON.parse,a=(0,h.useRef)(function(e){try{var a=n?n.raw?String:n.serializer:JSON.stringify,i=localStorage.getItem(e);if(null!==i)return r(i);return t&&localStorage.setItem(e,a(t)),t}catch(e){return t}}),i=(0,h.useState)(function(){return a.current(e)}),s=i[0],o=i[1];(0,h.useLayoutEffect)(function(){return o(a.current(e))},[e]);var l=(0,h.useCallback)(function(t){try{var a="function"==typeof t?t(s):t;if(void 0===a)return;var i=void 0;i=n?n.raw?"string"==typeof a?a:JSON.stringify(a):n.serializer?n.serializer(a):JSON.stringify(a):JSON.stringify(a),localStorage.setItem(e,i),o(r(i))}catch(e){}},[e,o]);return[s,l,(0,h.useCallback)(function(){try{localStorage.removeItem(e),o(void 0)}catch(e){}},[e,o])]};var k=e.i(858316),A=e.i(40143),R=e.i(390644),_=e.i(262521),E=e.i(463605),B=e.i(480790),T=e.i(717560),P=e.i(811896),D=e.i(781628);function F({num:e,tit:n,numClassName:r}){return(0,t.jsxs)("div",{className:"animitem flex flex-col p-5 items-center gap-6 rounded-xl border border-primary/60",children:[(0,t.jsx)("div",{className:"text-center text-base",children:n}),(0,t.jsx)("div",{className:(0,b.cn)("text-5xl font-medium text-center",r),children:e??"-"})]})}function I({vc:e,token:n}){let{copyTextToClipboard:a}=(()=>{let[e,t]=(0,h.useState)(!1);return{copyTextToClipboard:function(e){(0,m.default)(e),t(!0),setTimeout(()=>t(!1),500),x.toast.success("Copied!")},isCopied:e}})(),c=(0,y.useLntVault)(e),p=(0,g.useFet)({key:c.result?`AethirOpsManagerData: ${e.vault}`:"",fetfn:async()=>{let t=(0,v.getPC)(e.chain),r=await t.readContract({abi:A.erc721Abi,functionName:"balanceOf",address:c.result.NFT,args:[e.vault]}),a=(0,E.parseAbi)(["function tokenIdsOfOwnerByAmount(address owner, uint256 index) view returns(uint256[])"]),i=await t.readContract({abi:u.abiLntVault,address:e.vault,functionName:"setUserRecordCount"});console.info("setUserCount:",i);let s=async()=>{let n=[],r=i/200n;for(let e=0n;e<r;e++)n.push({index:200n*e,count:200n});let a=i%200n;return a>0&&n.push({index:200n*r,count:a}),Promise.all(n.map(({index:n,count:r})=>t.readContract({abi:u.abiLntVault,address:e.vault,functionName:"setUserRecordsInfo",args:[n,r]}).then(([e,t,n,r])=>e.map((e,a)=>({tokenId:e,owner:t[a],user:n[a],isBanned:r[a]}))))).then(N.flatten)},o=async()=>t.readContract({abi:a,functionName:"tokenIdsOfOwnerByAmount",address:c.result.NFT,args:[e.vault,r]}).then(e=>e.map(e=>e.toString())),l=await (0,b.promiseAll)({vaultNft:o(),setUsers:s(),opsStats:(0,d.getOpsStatsAethir)(e.chain,n),rewards:(0,d.getOpsAethirRewards)(e.chain,n)}),p={},f=[];for(let e of l.opsStats.burners){for(let t of(e.delegated_nfts||(e.delegated_nfts=[]),e.burner_wallet=e.burner_wallet.startsWith("0x")?e.burner_wallet:`0x${e.burner_wallet}`,e.delegated_nfts))p[t]=e;f.push(e.burner_wallet)}let m={};for(let e of l.setUsers)m[e.tokenId.toString()]=e;let h=[],x=[],y=[];for(let e of l.vaultNft)p[e]?y.push(e):m[e]&&f.find(t=>(0,_.isAddressEqual)(t,m[e].user))?h.push(e):x.push(e);return{...l,pending:h,error:x,success:y,inSetUsersMap:m,inBunnerNftMap:p}}}),[{detailBuner:f,delegateTo:O,delegateIds:S,delegateExpire:R,openCofrimOrder:T,filterVaultNftIds:P},I]=(0,k.useSetState)({delegateTo:"",delegateExpire:2n**63n,openCofrimOrder:!1}),M=O??p.result?.opsStats.burners[0]?.burner_wallet??"",U=S??p.result?.error.join(",")??"",{mutate:L,isPending:W}=(0,w.useMutation)({mutationFn:async()=>(0,d.opsOrderAethir)(e.chain,n,1),onError:b.handleError,onSuccess:()=>{x.toast.success("Success!"),I({openCofrimOrder:!1}),(0,g.reFet)(p.key)}}),{data:$}=(0,D.useWalletClient)(),{mutate:H,isPending:z}=(0,w.useMutation)({mutationFn:async()=>{if(!$||!U||!M||!R)throw Error("Please input!");let t=(U??"").split(",").map(e=>e.trim()).filter(Boolean).map(BigInt),n=t.map(()=>M);await $.writeContract({abi:u.abiLntVault,address:e.vault,functionName:"batchSetUser",args:[t,n,R]})},onError:b.handleError,onSuccess:()=>{x.toast.success("Success!"),(0,g.reFet)(p.key)}}),J=p.result?.opsStats.burners??[],V=(p.result?.vaultNft??[]).reverse(),q=p.result?.inBunnerNftMap??{},K=p.result?.inSetUsersMap??{},G=(()=>{if(P)try{let e=P.trim().split(",").map(e=>e.trim()).filter(Boolean),t={};for(let n of e)t[n]=!0;return t}catch(e){return{}}})(),Q=G?V.filter(e=>G[e]):V,X="flex flex-col gap-2 p-5 bg-black/10 dark:bg-white/10 rounded-xl";return(0,g.isLoading)(p)?(0,t.jsxs)("div",{className:"flex justify-center items-center",children:[" ",(0,t.jsx)(o.Spinner,{})]}):(0,g.isError)(p)?(0,t.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,t.jsx)("div",{children:"Network error!"}),(0,t.jsx)(l.BBtn,{onClick:()=>(0,g.reFet)(p.key),children:"Refresh"})]}):(0,g.isSuccess)(p)?(0,t.jsxs)("div",{className:(0,b.cn)(X,"gap-5"),children:[(0,t.jsx)("div",{className:" font-semibold text-2xl",children:e.tit}),(0,t.jsxs)("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(240px,1fr))] gap-5",children:[(0,t.jsx)(F,{tit:"Vault Deposited",num:p.result?.vaultNft.length,numClassName:""}),(0,t.jsx)(F,{tit:"Delegate Success",num:p.result?.success.length,numClassName:"text-green-500"}),(0,t.jsx)(F,{tit:"Delegate Pending",num:p.result?.pending.length,numClassName:"text-yellow-500"}),(0,t.jsx)(F,{tit:"Not Delegate",num:p.result?.error.length,numClassName:"text-red-500"})]}),(0,t.jsxs)("div",{className:(0,b.cn)(X,"overflow-x-auto"),children:[(0,t.jsx)("div",{className:"font-semibold text-xl",children:"BurnerList"}),(0,t.jsx)(s.default,{header:["Item","Burner Address","Delegated","Remaining","Created","Expires"],data:J.map((e,n)=>{let r,i;return[`${n+1}`,(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.shortStr)(e.burner_wallet)," ",(0,t.jsx)(C.FaCopy,{className:"cursor-pointer",onClick:t=>{a(e.burner_wallet),t.stopPropagation(),t.preventDefault()}})]},"burneraddress"),`${e.delegated_nfts_count}`,(0,t.jsx)("div",{className:"",children:`${(r=e.plan_id,(p.result?.opsStats.deployments.find(e=>e.plan_id==r)?.no_of_nodes??1)*100-e.delegated_nfts_count)}`},"ramining"),(i=e.plan_id,p.result?.opsStats.deployments.find(e=>e.plan_id==i)?.start_date??"-").replaceAll("+0000","").trim(),e.expire_at.replaceAll("+0000","").trim()]}),onClickRow:e=>I({detailBuner:J[e]})})]}),(0,t.jsxs)(r.Expandable,{className:"bg-black/10 dark:bg-white/10 rounded-xl",tit:"Rewards",children:[(0,t.jsxs)("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(300px,1fr))] gap-5",children:[(0,t.jsx)(F,{tit:"Un Claim",num:(0,j.displayBalance)((0,B.parseEther)(p.result?.rewards.claimable_ath??"0")),numClassName:""}),(0,t.jsx)(F,{tit:"Claimed",num:(0,j.displayBalance)(p.result?.rewards.totalClaimed),numClassName:"text-yellow-500"}),(0,t.jsx)(F,{tit:"Un Withdraw",num:(0,j.displayBalance)(p.result?.rewards.pendingClaimed),numClassName:"text-red-500"}),(0,t.jsx)(F,{tit:"Withdrawal",num:(0,j.displayBalance)(p.result?.rewards.withdrawAmount),numClassName:"text-green-500"}),(0,t.jsx)(F,{tit:"Claim Fee",num:5*(p.result?.rewards.claims.length??0),numClassName:"text-orange-500"})]}),(0,t.jsx)("div",{children:"Un withdraw list:"}),(0,t.jsx)(s.default,{header:["OrderID","Amount","Claim At","Can Withdraw At"],data:(p.result?.rewards.claims??[]).filter(e=>!p.result?.rewards.withdrawsOrderIds.includes(e.orderId)).map((e,t)=>[`${e.orderId}`,(0,j.displayBalance)(e.amount),(0,b.fmtDate)(1e3*e.time,b.FMT.ALL),(0,b.fmtDate)((e.time+e.cliffSecond)*1e3,b.FMT.ALL)])})]}),(0,t.jsxs)(r.Expandable,{className:"bg-black/10 dark:bg-white/10 rounded-xl",tit:"Set Delegate (batchSetUser)",children:[(0,t.jsx)("input",{className:(0,b.cn)(r.inputClassname),placeholder:"Burner address",value:M,onChange:e=>I({delegateTo:e.target.value})}),(0,t.jsx)("input",{className:(0,b.cn)(r.inputClassname),placeholder:"NftIds(,分割多个)",value:U,onChange:e=>I({delegateIds:e.target.value})}),(0,t.jsx)("input",{className:(0,b.cn)(r.inputClassname),placeholder:"ExpireTime",value:R.toString(),onChange:e=>I({delegateExpire:(0,b.tryToBn)(e.target.value)})}),(0,t.jsx)(l.BBtn,{onClick:H,busy:z,disabled:z,children:"Delegate"})]}),(0,t.jsxs)("div",{className:(0,b.cn)(X,"xl:flex-row items-center gap-6"),children:[(0,t.jsx)(r.GeneralAction,{abi:u.abiLntVault,functionName:"updateCheckerNode",address:e.vault,infos:()=>(0,v.getPC)(e.chain).readContract({abi:u.abiLntVault,address:e.vault,functionName:"checkerNode"})}),(0,t.jsx)(l.BBtn,{onDoubleClick:()=>I({openCofrimOrder:!0}),children:"Order from Nodeops(Double Click)"}),(0,t.jsxs)(i.SimpleDialog,{open:T,className:"p-5",onOpenChange:e=>!e&&I({openCofrimOrder:!1}),children:[(0,t.jsx)("div",{children:"Comfirm Order"}),(0,t.jsx)("div",{children:"是否确认下单？"}),(0,t.jsx)("div",{className:"pt-8",children:(0,t.jsx)(l.BBtn,{onClick:L,busy:W,disabled:W,children:"Confrim"})})]})]}),(0,t.jsxs)("div",{className:(0,b.cn)(X,"overflow-x-auto"),children:[(0,t.jsx)("div",{className:"font-semibold text-xl",children:"Vault NFT"}),(0,t.jsx)("input",{className:(0,b.cn)(r.inputClassname),placeholder:"FilterNftIds(,分割多个)",value:P,onChange:e=>I({filterVaultNftIds:e.target.value})}),(0,t.jsx)("div",{className:"w-full overflow-y-auto max-h-[80vh]",children:(0,t.jsx)(s.default,{headerClassName:"sticky top-0 bg-black/60",header:["Lisense ID","Status","isBanned"],data:Q.map(e=>{let n=q[e]?"Sucsess":K[e]&&J.find(t=>(0,_.isAddressEqual)(t.burner_wallet,K[e].user))?"Pending":"Error";return[`${e}`,(0,t.jsx)("div",{className:(0,b.cn)("",{"text-green-500":"Sucsess"==n,"text-yellow-500":"Pending"==n,"text-red-500":"Error"==n}),children:n},"status"),`${K[e]?.isBanned??!1}`]})})})]}),(0,t.jsxs)(i.SimpleDialog,{open:!!f,className:"p-5",onOpenChange:e=>!e&&I({detailBuner:void 0}),children:[(0,t.jsx)("div",{children:"Lisense ID"}),f&&(0,t.jsx)("div",{className:"w-full max-w-[600px] grid grid-cols-[repeat(auto-fill,minmax(100px,1fr))] gap-1 p-5 max-h-[60vh] overflow-y-auto",children:f.delegated_nfts.map(e=>(0,t.jsx)("div",{className:"px-2 py-1 rounded-sm bg-primary/10",children:e},e))})]})]}):null}let M=["add","del"];function U(){let[e,i]=S("ops-token",""),{signMessageAsync:s}=(0,P.useSignMessage)(),{address:o}=(0,T.useAccount)(),u=(0,g.useFet)({key:e?"OpsAdmins":"",initResult:[],fetfn:async()=>(0,d.getOpsAdmins)(f.arbitrum.id,e)}),{mutate:m}=(0,w.useMutation)({mutationFn:async()=>{let e=await s({message:"Auth for zoofi ops"}),t=btoa(e);await (0,d.getOpsAdmins)(f.arbitrum.id,t),i(btoa(e))},onError:b.handleError}),{mutate:x,isPending:y}=(0,w.useMutation)({mutationFn:async t=>{if(!v||!(0,R.isAddress)(v))throw Error("Params errors");await (0,d.modifyOpsAdmins)(f.arbitrum.id,e,{type:t,user:v})},onSuccess:()=>(0,g.reFet)(u.key),onError:b.handleError}),[v,j]=(0,h.useState)(""),[N,C]=(0,h.useState)("add");return(0,t.jsx)(a.PageWrap,{className:"flex flex-col gap-5 max-w-6xl",children:e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.Expandable,{className:"bg-black/10 dark:bg-white/10 rounded-xl",tit:"Admins",children:[(0,t.jsx)("div",{className:"p-5 rounded-sm bg-primary/10",children:JSON.stringify(u.result,void 0,2)}),(0,t.jsx)("input",{className:(0,b.cn)(r.inputClassname),value:v,onChange:e=>j(e.target.value)}),(0,t.jsx)(c.SimpleSelect,{options:M,onChange:C}),(0,t.jsx)(l.BBtn,{className:"flex gap-5 items-center justify-center",onClick:()=>x(N),busy:y,disabled:y,children:"Modify Admins"})]}),p.LNTVAULTS_CONFIG.filter(e=>e.isAethir&&!e.test).map(n=>(0,t.jsx)(I,{vc:n,token:e},n.vault))]}):(0,t.jsx)("div",{className:"py-36 px-5",children:o?(0,t.jsx)(l.BBtn,{onClick:()=>m(),className:"",children:"Login"}):(0,t.jsx)(n.default,{})})})}e.s(["default",()=>U],640716)}]);