"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8679],{58409:function(t,e,n){var a=n(64103);e.Z=function(t){void 0===t&&(t={});var e=(0,a.useState)(t),n=e[0],s=e[1];return[n,(0,a.useCallback)(function(t){s(function(e){return Object.assign({},e,t instanceof Function?t(e):t)})},[])]}},4408:function(t,e,n){n.d(e,{p:function(){return useWalletClient}});var a=n(83037),s=n(26546),r=n(62531);async function addChain(t,{chain:e}){let{id:n,name:a,nativeCurrency:s,rpcUrls:i,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:(0,r.eC)(n),chainName:a,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:o?Object.values(o).map(({url:t})=>t):void 0}]},{dedupe:!0,retryCount:0})}var i=n(23985),o=n(89236),c=n(48135),u=n(88604),d=n(71995),l=n(43937);function assertCurrentChain({chain:t,currentChainId:e}){if(!t)throw new l.Bk;if(e!==t.id)throw new l.Yl({chain:t,currentChainId:e})}var h=n(41756),w=n(54812),f=n(57054),m=n(43174),p=n(29608),C=n(27852),y=n(43277),g=n(35330),T=n(25235);async function sendTransaction(t,e){let{account:n=t.account,chain:a=t.chain,accessList:r,authorizationList:i,blobs:l,data:q,gas:v,gasPrice:A,maxFeePerBlobGas:_,maxFeePerGas:P,maxPriorityFeePerGas:I,nonce:k,value:b,...D}=e;if(!n)throw new c.o({docsPath:"/docs/actions/wallet/sendTransaction"});let R=(0,o.T)(n);try{let n;(0,y.F)(e),null!==a&&(n=await (0,C.s)(t,s.L,"getChainId")({}),assertCurrentChain({currentChainId:n,chain:a}));let o=await (async()=>e.to?e.to:i&&i.length>0?await (0,d.z)({authorization:i[0]}).catch(()=>{throw new u.G("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if("json-rpc"===R.type){let e=t.chain?.formatters?.transactionRequest?.format,a=e||p.tG,s=a({...(0,m.K)(D,{format:e}),accessList:r,authorizationList:i,blobs:l,chainId:n,data:q,from:R.address,gas:v,gasPrice:A,maxFeePerBlobGas:_,maxFeePerGas:P,maxPriorityFeePerGas:I,nonce:k,to:o,value:b});return await t.request({method:"eth_sendTransaction",params:[s]},{retryCount:0})}if("local"===R.type){let e=await (0,C.s)(t,g.Z,"prepareTransactionRequest")({account:R,accessList:r,authorizationList:i,blobs:l,chain:a,chainId:n,data:q,gas:v,gasPrice:A,maxFeePerBlobGas:_,maxFeePerGas:P,maxPriorityFeePerGas:I,nonce:k,parameters:[...g.Q,"sidecars"],value:b,...D,to:o}),s=a?.serializers?.transaction,c=await R.signTransaction(e,{serializer:s});return await (0,C.s)(t,T.p,"sendRawTransaction")({serializedTransaction:c})}if("smart"===R.type)throw new c.Y({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new c.Y({docsPath:"/docs/actions/wallet/sendTransaction",type:R.type})}catch(t){if(t instanceof c.Y)throw t;throw function(t,{docsPath:e,...n}){let a=(()=>{let e=(0,f.k)(t,n);return e instanceof h.cj?t:e})();return new w.mk(a,{docsPath:e,...n})}(t,{...e,account:R,chain:e.chain||void 0})}}var q=n(47982);async function getAddresses(t){if(t.account?.type==="local")return[t.account.address];let e=await t.request({method:"eth_accounts"},{dedupe:!0});return e.map(t=>(0,q.x)(t))}async function getPermissions(t){let e=await t.request({method:"wallet_getPermissions"},{dedupe:!0});return e}async function requestAddresses(t){let e=await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0});return e.map(t=>(0,q.K)(t))}async function requestPermissions(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}var v=n(53930);async function signTransaction(t,e){let{account:n=t.account,chain:a=t.chain,...i}=e;if(!n)throw new c.o({docsPath:"/docs/actions/wallet/signTransaction"});let u=(0,o.T)(n);(0,y.F)({account:u,...e});let d=await (0,C.s)(t,s.L,"getChainId")({});null!==a&&assertCurrentChain({currentChainId:d,chain:a});let l=a?.formatters||t.chain?.formatters,h=l?.transactionRequest?.format||p.tG;return u.signTransaction?u.signTransaction({...i,chainId:d},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...h(i),chainId:(0,r.eC)(d),from:u.address}]},{retryCount:0})}var A=n(74907);async function signTypedData(t,e){let{account:n=t.account,domain:a,message:s,primaryType:r}=e;if(!n)throw new c.o({docsPath:"/docs/actions/wallet/signTypedData"});let i=(0,o.T)(n),u={EIP712Domain:(0,A.cj)({domain:a}),...e.types};if((0,A.iC)({domain:a,message:s,primaryType:r,types:u}),i.signTypedData)return i.signTypedData({domain:a,message:s,primaryType:r,types:u});let d=(0,A.H6)({domain:a,message:s,primaryType:r,types:u});return t.request({method:"eth_signTypedData_v4",params:[i.address,d]},{retryCount:0})}async function switchChain(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,r.eC)(e)}]},{retryCount:0})}async function watchAsset(t,e){let n=await t.request({method:"wallet_watchAsset",params:e},{retryCount:0});return n}var _=n(71996);async function writeContract(t,e){let{abi:n,address:a,args:s,dataSuffix:r,functionName:i,...o}=e,c=(0,_.R)({abi:n,args:s,functionName:i});return(0,C.s)(t,sendTransaction,"sendTransaction")({data:`${c}${r?r.replace("0x",""):""}`,to:a,...o})}function walletActions(t){return{addChain:e=>addChain(t,e),deployContract:e=>(function(t,e){let{abi:n,args:a,bytecode:s,...r}=e,o=(0,i.w)({abi:n,args:a,bytecode:s});return sendTransaction(t,{...r,data:o})})(t,e),getAddresses:()=>getAddresses(t),getChainId:()=>(0,s.L)(t),getPermissions:()=>getPermissions(t),prepareTransactionRequest:e=>(0,g.Z)(t,e),requestAddresses:()=>requestAddresses(t),requestPermissions:e=>requestPermissions(t,e),sendRawTransaction:e=>(0,T.p)(t,e),sendTransaction:e=>sendTransaction(t,e),signMessage:e=>(0,v.l)(t,e),signTransaction:e=>signTransaction(t,e),signTypedData:e=>signTypedData(t,e),switchChain:e=>switchChain(t,e),watchAsset:e=>watchAsset(t,e),writeContract:e=>writeContract(t,e)}}var P=n(97376);async function getWalletClient(t,e={}){let n=await (0,P.e)(t,e);return n.extend(walletActions),n.extend(walletActions)}var I=n(55046),k=n(64103),b=n(44178),D=n(96670),R=n(90283),E=n(57728);function useWalletClient(t={}){let{query:e={},...n}=t,s=(0,E.Z)(n),r=(0,a.NL)(),{address:i,connector:o,status:c}=(0,D.m)({config:s}),u=(0,R.x)({config:s}),{queryKey:d,...l}=function(t,e={}){return{gcTime:0,async queryFn({queryKey:n}){let{connector:a}=e,{connectorUid:s,scopeKey:r,...i}=n[1];return getWalletClient(t,{...i,connector:a})},queryKey:function(t={}){let{connector:e,...n}=t;return["walletClient",{...(0,I.O)(n),connectorUid:e?.uid}]}(e)}}(s,{...t,chainId:t.chainId??u,connector:t.connector??o}),h=!!("disconnected"!==c&&(e.enabled??!0)),w=(0,k.useRef)(i);return(0,k.useEffect)(()=>{let t=w.current;!i&&t?(r.removeQueries({queryKey:d}),w.current=void 0):i!==t&&(r.invalidateQueries({queryKey:d}),w.current=i)},[i,r]),(0,b.aM)({...e,...l,queryKey:d,enabled:h,staleTime:1/0})}}}]);