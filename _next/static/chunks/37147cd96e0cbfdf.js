(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,451697,(e,t,r)=>{var n=e.i(494561);!function(){"use strict";var r="input is invalid type",a="object"==typeof window,s=a?window:{};s.JS_SHA3_NO_WINDOW&&(a=!1);var i=!a&&"object"==typeof self;!s.JS_SHA3_NO_NODE_JS&&"object"==typeof n.default&&n.default.versions&&n.default.versions.node?s=e.g:i&&(s=self);var o=!s.JS_SHA3_NO_COMMON_JS&&t.exports,l="function"==typeof define&&define.amd,c=!s.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,u="0123456789abcdef".split(""),d=[4,1024,262144,0x4000000],h=[0,8,16,24],f=[1,0,32898,0,32906,0x80000000,0x80008000,0x80000000,32907,0,0x80000001,0,0x80008081,0x80000000,32777,0x80000000,138,0,136,0,0x80008009,0,0x8000000a,0,0x8000808b,0,139,0x80000000,32905,0x80000000,32771,0x80000000,32770,0x80000000,128,0x80000000,32778,0,0x8000000a,0x80000000,0x80008081,0x80000000,32896,0x80000000,0x80000001,0,0x80008008,0x80000000],m=[224,256,384,512],p=[128,256],x=["hex","buffer","arrayBuffer","array","digest"],g={128:168,256:136};(s.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),c&&(s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var b=function(e,t,r){return function(n){return new R(e,t,e).update(n)[r]()}},y=function(e,t,r){return function(n,a){return new R(e,t,a).update(n)[r]()}},v=function(e,t,r){return function(t,n,a,s){return j["cshake"+e].update(t,n,a,s)[r]()}},w=function(e,t,r){return function(t,n,a,s){return j["kmac"+e].update(t,n,a,s)[r]()}},N=function(e,t,r,n){for(var a=0;a<x.length;++a){var s=x[a];e[s]=t(r,n,s)}return e},E=function(e,t){var r=b(e,t,"hex");return r.create=function(){return new R(e,t,e)},r.update=function(e){return r.create().update(e)},N(r,b,e,t)},T=[{name:"keccak",padding:[1,256,65536,0x1000000],bits:m,createMethod:E},{name:"sha3",padding:[6,1536,393216,0x6000000],bits:m,createMethod:E},{name:"shake",padding:[31,7936,2031616,0x1f000000],bits:p,createMethod:function(e,t){var r=y(e,t,"hex");return r.create=function(r){return new R(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},N(r,y,e,t)}},{name:"cshake",padding:d,bits:p,createMethod:function(e,t){var r=g[e],n=v(e,t,"hex");return n.create=function(n,a,s){return a||s?new R(e,t,n).bytepad([a,s],r):j["shake"+e].create(n)},n.update=function(e,t,r,a){return n.create(t,r,a).update(e)},N(n,v,e,t)}},{name:"kmac",padding:d,bits:p,createMethod:function(e,t){var r=g[e],n=w(e,t,"hex");return n.create=function(n,a,s){return new I(e,t,a).bytepad(["KMAC",s],r).bytepad([n],r)},n.update=function(e,t,r,a){return n.create(e,r,a).update(t)},N(n,w,e,t)}}],j={},A=[],k=0;k<T.length;++k)for(var S=T[k],_=S.bits,C=0;C<_.length;++C){var B=S.name+"_"+_[C];if(A.push(B),j[B]=S.createMethod(_[C],S.padding),"sha3"!==S.name){var O=S.name+_[C];A.push(O),j[O]=j[B]}}function R(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function I(e,t,r){R.call(this,e,t,r)}R.prototype.update=function(e){if(this.finalized)throw Error("finalize already called");var t,n=typeof e;if("string"!==n){if("object"===n){if(null===e)throw Error(r);else if(c&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!c||!ArrayBuffer.isView(e)))throw Error(r)}else throw Error(r);t=!0}for(var a,s,i=this.blocks,o=this.byteCount,l=e.length,u=this.blockCount,d=0,f=this.s;d<l;){if(this.reset)for(a=1,this.reset=!1,i[0]=this.block;a<u+1;++a)i[a]=0;if(t)for(a=this.start;d<l&&a<o;++d)i[a>>2]|=e[d]<<h[3&a++];else for(a=this.start;d<l&&a<o;++d)(s=e.charCodeAt(d))<128?i[a>>2]|=s<<h[3&a++]:(s<2048?i[a>>2]|=(192|s>>6)<<h[3&a++]:(s<55296||s>=57344?i[a>>2]|=(224|s>>12)<<h[3&a++]:(s=65536+((1023&s)<<10|1023&e.charCodeAt(++d)),i[a>>2]|=(240|s>>18)<<h[3&a++],i[a>>2]|=(128|s>>12&63)<<h[3&a++]),i[a>>2]|=(128|s>>6&63)<<h[3&a++]),i[a>>2]|=(128|63&s)<<h[3&a++]);if(this.lastByteIndex=a,a>=o){for(this.start=a-o,this.block=i[u],a=0;a<u;++a)f[a]^=i[a];L(f),this.reset=!0}else this.start=a}return this},R.prototype.encode=function(e,t){var r=255&e,n=1,a=[r];for(e>>=8,r=255&e;r>0;)a.unshift(r),e>>=8,r=255&e,++n;return t?a.push(n):a.unshift(n),this.update(a),a.length},R.prototype.encodeString=function(e){var t,n=typeof e;if("string"!==n){if("object"===n){if(null===e)throw Error(r);else if(c&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!c||!ArrayBuffer.isView(e)))throw Error(r)}else throw Error(r);t=!0}var a=0,s=e.length;if(t)a=s;else for(var i=0;i<e.length;++i){var o=e.charCodeAt(i);o<128?a+=1:o<2048?a+=2:o<55296||o>=57344?a+=3:(o=65536+((1023&o)<<10|1023&e.charCodeAt(++i)),a+=4)}return a+=this.encode(8*a),this.update(e),a},R.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var a=[];return a.length=t-r%t,this.update(a),this},R.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(t=1,e[0]=e[r];t<r+1;++t)e[t]=0;for(e[r-1]|=0x80000000,t=0;t<r;++t)n[t]^=e[t];L(n)}},R.prototype.toString=R.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,a=this.extraBytes,s=0,i=0,o="";i<n;){for(s=0;s<t&&i<n;++s,++i)o+=u[(e=r[s])>>4&15]+u[15&e]+u[e>>12&15]+u[e>>8&15]+u[e>>20&15]+u[e>>16&15]+u[e>>28&15]+u[e>>24&15];i%t==0&&(L(r),s=0)}return a&&(o+=u[(e=r[s])>>4&15]+u[15&e],a>1&&(o+=u[e>>12&15]+u[e>>8&15]),a>2&&(o+=u[e>>20&15]+u[e>>16&15])),o},R.prototype.arrayBuffer=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,a=this.extraBytes,s=0,i=0,o=this.outputBits>>3,l=new Uint32Array(e=new ArrayBuffer(a?n+1<<2:o));i<n;){for(s=0;s<t&&i<n;++s,++i)l[i]=r[s];i%t==0&&L(r)}return a&&(l[s]=r[s],e=e.slice(0,o)),e},R.prototype.buffer=R.prototype.arrayBuffer,R.prototype.digest=R.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,a=this.outputBlocks,s=this.extraBytes,i=0,o=0,l=[];o<a;){for(i=0;i<r&&o<a;++i,++o)e=o<<2,t=n[i],l[e]=255&t,l[e+1]=t>>8&255,l[e+2]=t>>16&255,l[e+3]=t>>24&255;o%r==0&&L(n)}return s&&(e=o<<2,t=n[i],l[e]=255&t,s>1&&(l[e+1]=t>>8&255),s>2&&(l[e+2]=t>>16&255)),l},I.prototype=new R,I.prototype.finalize=function(){return this.encode(this.outputBits,!0),R.prototype.finalize.call(this)};var L=function(e){var t,r,n,a,s,i,o,l,c,u,d,h,m,p,x,g,b,y,v,w,N,E,T,j,A,k,S,_,C,B,O,R,I,L,P,V,F,D,M,U,z,$,H,G,Y,q,W,Z,K,J,X,Q,ee,et,er,en,ea,es,ei,eo,el,ec,eu;for(n=0;n<48;n+=2)a=e[0]^e[10]^e[20]^e[30]^e[40],s=e[1]^e[11]^e[21]^e[31]^e[41],i=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],l=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],u=e[6]^e[16]^e[26]^e[36]^e[46],d=e[7]^e[17]^e[27]^e[37]^e[47],h=e[8]^e[18]^e[28]^e[38]^e[48],m=e[9]^e[19]^e[29]^e[39]^e[49],t=h^(i<<1|o>>>31),r=m^(o<<1|i>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=a^(l<<1|c>>>31),r=s^(c<<1|l>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=i^(u<<1|d>>>31),r=o^(d<<1|u>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=l^(h<<1|m>>>31),r=c^(m<<1|h>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=u^(a<<1|s>>>31),r=d^(s<<1|a>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,p=e[0],x=e[1],q=e[11]<<4|e[10]>>>28,W=e[10]<<4|e[11]>>>28,_=e[20]<<3|e[21]>>>29,C=e[21]<<3|e[20]>>>29,eo=e[31]<<9|e[30]>>>23,el=e[30]<<9|e[31]>>>23,$=e[40]<<18|e[41]>>>14,H=e[41]<<18|e[40]>>>14,L=e[2]<<1|e[3]>>>31,P=e[3]<<1|e[2]>>>31,g=e[13]<<12|e[12]>>>20,b=e[12]<<12|e[13]>>>20,Z=e[22]<<10|e[23]>>>22,K=e[23]<<10|e[22]>>>22,B=e[33]<<13|e[32]>>>19,O=e[32]<<13|e[33]>>>19,ec=e[42]<<2|e[43]>>>30,eu=e[43]<<2|e[42]>>>30,et=e[5]<<30|e[4]>>>2,er=e[4]<<30|e[5]>>>2,V=e[14]<<6|e[15]>>>26,F=e[15]<<6|e[14]>>>26,y=e[25]<<11|e[24]>>>21,v=e[24]<<11|e[25]>>>21,J=e[34]<<15|e[35]>>>17,X=e[35]<<15|e[34]>>>17,R=e[45]<<29|e[44]>>>3,I=e[44]<<29|e[45]>>>3,j=e[6]<<28|e[7]>>>4,A=e[7]<<28|e[6]>>>4,en=e[17]<<23|e[16]>>>9,ea=e[16]<<23|e[17]>>>9,D=e[26]<<25|e[27]>>>7,M=e[27]<<25|e[26]>>>7,w=e[36]<<21|e[37]>>>11,N=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,G=e[8]<<27|e[9]>>>5,Y=e[9]<<27|e[8]>>>5,k=e[18]<<20|e[19]>>>12,S=e[19]<<20|e[18]>>>12,es=e[29]<<7|e[28]>>>25,ei=e[28]<<7|e[29]>>>25,U=e[38]<<8|e[39]>>>24,z=e[39]<<8|e[38]>>>24,E=e[48]<<14|e[49]>>>18,T=e[49]<<14|e[48]>>>18,e[0]=p^~g&y,e[1]=x^~b&v,e[10]=j^~k&_,e[11]=A^~S&C,e[20]=L^~V&D,e[21]=P^~F&M,e[30]=G^~q&Z,e[31]=Y^~W&K,e[40]=et^~en&es,e[41]=er^~ea&ei,e[2]=g^~y&w,e[3]=b^~v&N,e[12]=k^~_&B,e[13]=S^~C&O,e[22]=V^~D&U,e[23]=F^~M&z,e[32]=q^~Z&J,e[33]=W^~K&X,e[42]=en^~es&eo,e[43]=ea^~ei&el,e[4]=y^~w&E,e[5]=v^~N&T,e[14]=_^~B&R,e[15]=C^~O&I,e[24]=D^~U&$,e[25]=M^~z&H,e[34]=Z^~J&Q,e[35]=K^~X&ee,e[44]=es^~eo&ec,e[45]=ei^~el&eu,e[6]=w^~E&p,e[7]=N^~T&x,e[16]=B^~R&j,e[17]=O^~I&A,e[26]=U^~$&L,e[27]=z^~H&P,e[36]=J^~Q&G,e[37]=X^~ee&Y,e[46]=eo^~ec&et,e[47]=el^~eu&er,e[8]=E^~p&g,e[9]=T^~x&b,e[18]=R^~j&k,e[19]=I^~A&S,e[28]=$^~L&V,e[29]=H^~P&F,e[38]=Q^~G&q,e[39]=ee^~Y&W,e[48]=ec^~et&en,e[49]=eu^~er&ea,e[0]^=f[n],e[1]^=f[n+1]};if(o)t.exports=j;else{for(k=0;k<A.length;++k)s[A[k]]=j[A[k]];l&&(e.r,void 0!==j&&e.v(j))}}()},327892,(e,t,r)=>{"use strict";t.exports=function(e){if(e.length>=255)throw TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var a=e.charAt(n),s=a.charCodeAt(0);if(255!==t[s])throw TypeError(a+" is ambiguous");t[s]=n}var i=e.length,o=e.charAt(0),l=Math.log(i)/Math.log(256),c=Math.log(256)/Math.log(i);function u(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,a=0;e[r]===o;)n++,r++;for(var s=(e.length-r)*l+1>>>0,c=new Uint8Array(s);e[r];){var u=t[e.charCodeAt(r)];if(255===u)return;for(var d=0,h=s-1;(0!==u||d<a)&&-1!==h;h--,d++)u+=i*c[h]>>>0,c[h]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");a=d,r++}for(var f=s-a;f!==s&&0===c[f];)f++;for(var m=new Uint8Array(n+(s-f)),p=n;f!==s;)m[p++]=c[f++];return m}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,a=0,s=t.length;a!==s&&0===t[a];)a++,r++;for(var l=(s-a)*c+1>>>0,u=new Uint8Array(l);a!==s;){for(var d=t[a],h=0,f=l-1;(0!==d||h<n)&&-1!==f;f--,h++)d+=256*u[f]>>>0,u[f]=d%i>>>0,d=d/i>>>0;if(0!==d)throw Error("Non-zero carry");n=h,a++}for(var m=l-n;m!==l&&0===u[m];)m++;for(var p=o.repeat(r);m<l;++m)p+=e.charAt(u[m]);return p},decodeUnsafe:u,decode:function(e){var t=u(e);if(t)return t;throw Error("Non-base"+i+" character")}}}},228132,(e,t,r)=>{t.exports=e.r(327892)("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},843831,(e,t,r)=>{function n(e,t){if(!e)throw Error(t||"Assertion failed")}t.exports=n,n.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)}},129767,(e,t,r)=>{"use strict";var n=e.r(843831);function a(e){return(e>>>24|e>>>8&65280|e<<8&0xff0000|(255&e)<<24)>>>0}function s(e){return 1===e.length?"0"+e:e}function i(e){if(7===e.length)return"0"+e;if(6===e.length)return"00"+e;if(5===e.length)return"000"+e;if(4===e.length)return"0000"+e;if(3===e.length)return"00000"+e;else if(2===e.length)return"000000"+e;else if(1===e.length)return"0000000"+e;else return e}r.inherits=e.r(896812),r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e),a=0;a<e.length;a+=2)r.push(parseInt(e[a]+e[a+1],16))}else for(var n=0,a=0;a<e.length;a++){var s,i,o=e.charCodeAt(a);o<128?r[n++]=o:(o<2048?r[n++]=o>>6|192:((s=e,i=a,(64512&s.charCodeAt(i))!=55296||i<0||i+1>=s.length?1:(64512&s.charCodeAt(i+1))!=56320)?r[n++]=o>>12|224:(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++a)),r[n++]=o>>18|240,r[n++]=o>>12&63|128),r[n++]=o>>6&63|128),r[n++]=63&o|128)}else for(a=0;a<e.length;a++)r[a]=0|e[a];return r},r.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=s(e[r].toString(16));return t},r.htonl=a,r.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var s=e[n];"little"===t&&(s=a(s)),r+=i(s.toString(16))}return r},r.zero2=s,r.zero8=i,r.join32=function(e,t,r,a){var s,i=r-t;n(i%4==0);for(var o=Array(i/4),l=0,c=t;l<o.length;l++,c+=4)s="big"===a?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],o[l]=s>>>0;return o},r.split32=function(e,t){for(var r=Array(4*e.length),n=0,a=0;n<e.length;n++,a+=4){var s=e[n];"big"===t?(r[a]=s>>>24,r[a+1]=s>>>16&255,r[a+2]=s>>>8&255,r[a+3]=255&s):(r[a+3]=s>>>24,r[a+2]=s>>>16&255,r[a+1]=s>>>8&255,r[a]=255&s)}return r},r.rotr32=function(e,t){return e>>>t|e<<32-t},r.rotl32=function(e,t){return e<<t|e>>>32-t},r.sum32=function(e,t){return e+t>>>0},r.sum32_3=function(e,t,r){return e+t+r>>>0},r.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},r.sum32_5=function(e,t,r,n,a){return e+t+r+n+a>>>0},r.sum64=function(e,t,r,n){var a=e[t],s=n+e[t+1]>>>0;e[t]=+(s<n)+r+a>>>0,e[t+1]=s},r.sum64_hi=function(e,t,r,n){return+(t+n>>>0<t)+e+r>>>0},r.sum64_lo=function(e,t,r,n){return t+n>>>0},r.sum64_4_hi=function(e,t,r,n,a,s,i,o){var l,c=t;return e+r+a+i+(l=0+ +((c=c+n>>>0)<t)+ +((c=c+s>>>0)<s)+ +((c=c+o>>>0)<o))>>>0},r.sum64_4_lo=function(e,t,r,n,a,s,i,o){return t+n+s+o>>>0},r.sum64_5_hi=function(e,t,r,n,a,s,i,o,l,c){var u,d=t;return e+r+a+i+l+(u=0+ +((d=d+n>>>0)<t)+ +((d=d+s>>>0)<s)+ +((d=d+o>>>0)<o)+ +((d=d+c>>>0)<c))>>>0},r.sum64_5_lo=function(e,t,r,n,a,s,i,o,l,c){return t+n+s+o+c>>>0},r.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},r.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},r.shr64_hi=function(e,t,r){return e>>>r},r.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},344377,(e,t,r)=>{"use strict";var n=e.r(129767),a=e.r(843831);function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}r.BlockHash=s,s.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var a=0;a<e.length;a+=this._delta32)this._update(e,a,a+this._delta32)}return this},s.prototype.digest=function(e){return this.update(this._pad()),a(null===this.pending),this._digest(e)},s.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=Array(r+this.padLength);n[0]=128;for(var a=1;a<r;a++)n[a]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[a++]=0;n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=e>>>24&255,n[a++]=e>>>16&255,n[a++]=e>>>8&255,n[a++]=255&e}else for(s=8,n[a++]=255&e,n[a++]=e>>>8&255,n[a++]=e>>>16&255,n[a++]=e>>>24&255,n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=0;s<this.padLength;s++)n[a++]=0;return n}},245437,(e,t,r)=>{"use strict";var n=e.r(129767).rotr32;function a(e,t,r){return e&t^e&r^t&r}r.ft_1=function(e,t,r,n){var s;return 0===e?(s=t)&r^~s&n:1===e||3===e?t^r^n:2===e?a(t,r,n):void 0},r.ch32=function(e,t,r){return e&t^~e&r},r.maj32=a,r.p32=function(e,t,r){return e^t^r},r.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},r.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},r.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},r.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},531730,(e,t,r)=>{"use strict";var n=e.r(129767),a=e.r(344377),s=e.r(245437),i=n.rotl32,o=n.sum32,l=n.sum32_5,c=s.ft_1,u=a.BlockHash,d=[0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xca62c1d6];function h(){if(!(this instanceof h))return new h;u.call(this),this.h=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0],this.W=Array(80)}n.inherits(h,u),t.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=i(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var a=this.h[0],s=this.h[1],u=this.h[2],h=this.h[3],f=this.h[4];for(n=0;n<r.length;n++){var m=~~(n/20),p=l(i(a,5),c(m,s,u,h),f,r[n],d[m]);f=h,h=u,u=i(s,30),s=a,a=p}this.h[0]=o(this.h[0],a),this.h[1]=o(this.h[1],s),this.h[2]=o(this.h[2],u),this.h[3]=o(this.h[3],h),this.h[4]=o(this.h[4],f)},h.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},278638,(e,t,r)=>{"use strict";var n=e.r(129767),a=e.r(344377),s=e.r(245437),i=e.r(843831),o=n.sum32,l=n.sum32_4,c=n.sum32_5,u=s.ch32,d=s.maj32,h=s.s0_256,f=s.s1_256,m=s.g0_256,p=s.g1_256,x=a.BlockHash,g=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2];function b(){if(!(this instanceof b))return new b;x.call(this),this.h=[0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19],this.k=g,this.W=Array(64)}n.inherits(b,x),t.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=l(p(r[n-2]),r[n-7],m(r[n-15]),r[n-16]);var a=this.h[0],s=this.h[1],x=this.h[2],g=this.h[3],b=this.h[4],y=this.h[5],v=this.h[6],w=this.h[7];for(i(this.k.length===r.length),n=0;n<r.length;n++){var N=c(w,f(b),u(b,y,v),this.k[n],r[n]),E=o(h(a),d(a,s,x));w=v,v=y,y=b,b=o(g,N),g=x,x=s,s=a,a=o(N,E)}this.h[0]=o(this.h[0],a),this.h[1]=o(this.h[1],s),this.h[2]=o(this.h[2],x),this.h[3]=o(this.h[3],g),this.h[4]=o(this.h[4],b),this.h[5]=o(this.h[5],y),this.h[6]=o(this.h[6],v),this.h[7]=o(this.h[7],w)},b.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},972323,(e,t,r)=>{"use strict";var n=e.r(129767),a=e.r(278638);function s(){if(!(this instanceof s))return new s;a.call(this),this.h=[0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]}n.inherits(s,a),t.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},818451,(e,t,r)=>{"use strict";var n=e.r(129767),a=e.r(344377),s=e.r(843831),i=n.rotr64_hi,o=n.rotr64_lo,l=n.shr64_hi,c=n.shr64_lo,u=n.sum64,d=n.sum64_hi,h=n.sum64_lo,f=n.sum64_4_hi,m=n.sum64_4_lo,p=n.sum64_5_hi,x=n.sum64_5_lo,g=a.BlockHash,b=[0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0xfc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x6ca6351,0xe003826f,0x14292967,0xa0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x6f067aa,0x72176fba,0xa637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179],this.k=b,this.W=Array(160)}n.inherits(y,g),t.exports=y,y.blockSize=1024,y.outSize=512,y.hmacStrength=192,y.padLength=128,y.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var a=function(e,t){var r=i(e,t,19)^i(t,e,29)^l(e,t,6);return r<0&&(r+=0x100000000),r}(r[n-4],r[n-3]),s=function(e,t){var r=o(e,t,19)^o(t,e,29)^c(e,t,6);return r<0&&(r+=0x100000000),r}(r[n-4],r[n-3]),u=r[n-14],d=r[n-13],h=function(e,t){var r=i(e,t,1)^i(e,t,8)^l(e,t,7);return r<0&&(r+=0x100000000),r}(r[n-30],r[n-29]),p=function(e,t){var r=o(e,t,1)^o(e,t,8)^c(e,t,7);return r<0&&(r+=0x100000000),r}(r[n-30],r[n-29]),x=r[n-32],g=r[n-31];r[n]=f(a,s,u,d,h,p,x,g),r[n+1]=m(a,s,u,d,h,p,x,g)}},y.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],a=this.h[1],l=this.h[2],c=this.h[3],f=this.h[4],m=this.h[5],g=this.h[6],b=this.h[7],y=this.h[8],v=this.h[9],w=this.h[10],N=this.h[11],E=this.h[12],T=this.h[13],j=this.h[14],A=this.h[15];s(this.k.length===r.length);for(var k=0;k<r.length;k+=2){var S=j,_=A,C=function(e,t){var r=i(e,t,14)^i(e,t,18)^i(t,e,9);return r<0&&(r+=0x100000000),r}(y,v),B=function(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=0x100000000),r}(y,v),O=function(e,t,r,n,a){var s=e&r^~e&a;return s<0&&(s+=0x100000000),s}(y,0,w,0,E,T),R=function(e,t,r,n,a,s){var i=t&n^~t&s;return i<0&&(i+=0x100000000),i}(0,v,0,N,0,T),I=this.k[k],L=this.k[k+1],P=r[k],V=r[k+1],F=p(S,_,C,B,O,R,I,L,P,V),D=x(S,_,C,B,O,R,I,L,P,V);S=function(e,t){var r=i(e,t,28)^i(t,e,2)^i(t,e,7);return r<0&&(r+=0x100000000),r}(n,a),_=function(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=0x100000000),r}(n,a);var M=d(S,_,C=function(e,t,r,n,a){var s=e&r^e&a^r&a;return s<0&&(s+=0x100000000),s}(n,0,l,0,f,m),B=function(e,t,r,n,a,s){var i=t&n^t&s^n&s;return i<0&&(i+=0x100000000),i}(0,a,0,c,0,m)),U=h(S,_,C,B);j=E,A=T,E=w,T=N,w=y,N=v,y=d(g,b,F,D),v=h(b,b,F,D),g=f,b=m,f=l,m=c,l=n,c=a,n=d(F,D,M,U),a=h(F,D,M,U)}u(this.h,0,n,a),u(this.h,2,l,c),u(this.h,4,f,m),u(this.h,6,g,b),u(this.h,8,y,v),u(this.h,10,w,N),u(this.h,12,E,T),u(this.h,14,j,A)},y.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},530957,(e,t,r)=>{"use strict";var n=e.r(129767),a=e.r(818451);function s(){if(!(this instanceof s))return new s;a.call(this),this.h=[0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]}n.inherits(s,a),t.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},84443,(e,t,r)=>{"use strict";r.sha1=e.r(531730),r.sha224=e.r(972323),r.sha256=e.r(278638),r.sha384=e.r(530957),r.sha512=e.r(818451)},121954,(e,t,r)=>{"use strict";var n=e.r(129767),a=e.r(344377),s=n.rotl32,i=n.sum32,o=n.sum32_3,l=n.sum32_4,c=a.BlockHash;function u(){if(!(this instanceof u))return new u;c.call(this),this.h=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0],this.endian="little"}function d(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}n.inherits(u,c),r.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],a=this.h[2],c=this.h[3],u=this.h[4],x=r,g=n,b=a,y=c,v=u,w=0;w<80;w++){var N,E,T=i(s(l(r,d(w,n,a,c),e[h[w]+t],(N=w)<=15?0:N<=31?0x5a827999:N<=47?0x6ed9eba1:N<=63?0x8f1bbcdc:0xa953fd4e),m[w]),u);r=u,u=c,c=s(a,10),a=n,n=T,T=i(s(l(x,d(79-w,g,b,y),e[f[w]+t],(E=w)<=15?0x50a28be6:E<=31?0x5c4dd124:E<=47?0x6d703ef3:0x7a6d76e9*!!(E<=63)),p[w]),v),x=v,v=y,y=s(b,10),b=g,g=T}T=o(this.h[1],a,y),this.h[1]=o(this.h[2],c,v),this.h[2]=o(this.h[3],u,x),this.h[3]=o(this.h[4],r,g),this.h[4]=o(this.h[0],n,b),this.h[0]=T},u.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],f=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},698800,(e,t,r)=>{"use strict";var n=e.r(129767),a=e.r(843831);function s(e,t,r){if(!(this instanceof s))return new s(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}t.exports=s,s.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),a(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(t=0,this.inner=new this.Hash().update(e);t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},s.prototype.update=function(e,t){return this.inner.update(e,t),this},s.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},223336,(e,t,r)=>{r.utils=e.r(129767),r.common=e.r(344377),r.sha=e.r(84443),r.ripemd=e.r(121954),r.hmac=e.r(698800),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},889886,e=>{"use strict";var t,r,n,a,s,i,o,l,c,u,d,h,f,m,p,x,g,b,y=e.i(29743),v=e.i(309384);e.i(621440);var w=e.i(987884),N=e.i(950759),E=e.i(313905),T=e.i(979353),j=e.i(322285),A=e.i(388654),k=e.i(280924),S=e.i(925282),_=e.i(995979),C=e.i(40143),B=e.i(262521),O=e.i(463605),R=e.i(22245),I=e.i(995451),L=e.i(565374),P=e.i(347064),V=e.i(751755);let F=(0,O.parseAbi)(["function execute(bytes calldata commands, bytes[] calldata inputs) public payable","function execute(bytes calldata commands, bytes[] calldata inputs, uint256 deadline) public payable"]),D=(0,O.parseAbi)(["function approve(address token,address spender,uint160 amount,uint48 expiration)"]);(0,O.parseAbi)(["function modifyLiquidities(bytes calldata data,uint256 deadline) public payable"]),(0,R.parseAbiParameters)(["PoolKey","struct PoolKey { address currency0; address currency1 ;uint24 fee; int24 tickSpacing; address hooks;}"]),(0,R.parseAbiParameters)(["ModifyLiquidityParams","struct ModifyLiquidityParams { int24 tickLower; int24 tickUpper;int256 liquidityDelta;bytes32 salt;}"]);let M=(0,O.parseAbi)(["function modifyLiquidity(PoolKey memory key, ModifyLiquidityParams memory params, bytes calldata hookData) external returns (int256 callerDelta, int256 feesAccrued)","struct PoolKey { address currency0; address currency1 ;uint24 fee; int24 tickSpacing; address hooks;}","struct ModifyLiquidityParams { int24 tickLower; int24 tickUpper;int256 liquidityDelta;bytes32 salt;}"]);(0,O.parseAbi)(["function getSlot0(bytes32 poolId) external view returns(uint160 sqrtPriceX96, int24 tick, uint24 protocolFee, uint24 lpFee)","function getLiquidity(bytes32 poolId) external view returns (uint128 liquidity)"]);let U={1:{unirouter:"0x66a9893cc07d91d95644aedd05d03f95e1dba8af",permit2:"0x000000000022D473030F116dDEE9F6B43aC78BA3",poolmanager:"0x000000000004444c5dc75cB358380D2e3dE08A90"},0xaa36a7:{unirouter:"0x3a9d48ab9751398bbfa63ad67599bb04e4bdf98b",permit2:"0x000000000022D473030F116dDEE9F6B43aC78BA3",poolmanager:"0xE03A1074c86CFeDd5C142C4F04F1a1536e203543"},16601:{unirouter:"0xfa2ba0a2743ea9d60caf373482ea3a4200230dcc",permit2:"0x45B4798F3d93f3754ea2f28ea3b6449e31E53043",poolmanager:"0x5cd9e7907522016160a8ce6ad58dc8a80909e79f"},42161:{unirouter:"0xa51afafe0263b40edaef0df8781ea9aa03e381a3",permit2:"0x000000000022D473030F116dDEE9F6B43aC78BA3",poolmanager:"0x360e68faccca8ca495c1b759fd9eee466db9fb32"},[V.zeroGmainnet.id]:{unirouter:"0x550b031acbc56b309a8ef28914959115f6a97202",permit2:"0xA3eD53b6548cED609E6E7100c13D5bF129Acec57",poolmanager:"0x8d50571796c86fd7018b5711a10a498eeaf5761f"},[P.bscTestnet.id]:{unirouter:"0xa8a655b94d30ea4dfa8b68f26e426d720d9d7b81",permit2:"0x000000000022D473030F116dDEE9F6B43aC78BA3",poolmanager:"0xa2ad9ce2e8f9b0107df65fa0211d237cbab0497a"}};async function z({user:e,chainId:t,poolkey:r,is0To1:n=!0,amountIn:a,amountOutMin:s=0n,deadline:i=600,approveName:o,executeName:l}){let c=U[t],u=(0,_.encodePacked)(["uint8"],[16]),d=(0,_.encodePacked)(["uint8","uint8","uint8"],[6,12,15]),h=n?r.currency0:r.currency1,f=n?r.currency1:r.currency0,m=Math.round((0,k.now)()/1e3+i),p=["0x","0x","0x"];r.hooks||(r.hooks=L.zeroAddress),p[0]=(0,S.encodeAbiParameters)((0,R.parseAbiParameters)(["ExactInputSingleParams","struct ExactInputSingleParams { PoolKey poolKey;bool zeroForOne;uint128 amountIn;uint128 amountOutMinimum;bytes hookData;}","struct PoolKey { address currency0; address currency1 ;uint24 fee; int24 tickSpacing; address hooks;}"]),[{poolKey:r,zeroForOne:n,amountIn:a,amountOutMinimum:s,hookData:"0x"}]),p[1]=(0,S.encodeAbiParameters)([{type:"address"},{type:"uint256"}],[h,a]),p[2]=(0,S.encodeAbiParameters)([{type:"address"},{type:"uint256"}],[f,s]);let x=["0x"];return(x[0]=(0,S.encodeAbiParameters)([{type:"bytes"},{type:"bytes[]"}],[d,p]),(0,B.isAddressEqual)(h,L.zeroAddress))?[{abi:F,functionName:"execute",address:c.unirouter,args:[u,x,BigInt(m)],value:a,name:l}]:[...await (0,j.withTokenApprove)({approves:[{token:h,spender:c.permit2,amount:a,name:o}],pc:(0,A.getPC)(t),user:e,tx:{abi:D,address:c.permit2,functionName:"approve",args:[h,c.unirouter,a,m],name:o}}),{abi:F,functionName:"execute",address:c.unirouter,args:[u,x,BigInt(m)],name:l}]}function $({chainId:e,lp:t,poolkey:r,liquidity:n,amount0Max:a,amount1Max:s,tickLower:i=-1e5,tickUpper:o=1e5,hookData:l=(0,I.toHex)(0),deadline:c=600}){let u=U[e],d=Math.round((0,k.now)()/1e3+c),h={...r,hooks:r.hooks??L.zeroAddress},f={tickLower:i,tickUpper:o,liquidityDelta:n,salt:`${t}000000000000000000000000`};return 0n==n?[]:n>0n?[{abi:C.erc20Abi,address:h.currency0,functionName:"approve",args:[u.permit2,a]},{abi:C.erc20Abi,address:h.currency1,functionName:"approve",args:[u.permit2,s]},{abi:D,address:u.permit2,functionName:"approve",args:[h.currency0,u.poolmanager,a,d]},{abi:D,address:u.permit2,functionName:"approve",args:[h.currency1,u.poolmanager,s,d]},{abi:M,functionName:"modifyLiquidity",address:u.poolmanager,args:[h,f,l]}]:[{abi:C.erc20Abi,address:t,functionName:"approve",args:[u.permit2,-n]},{abi:D,address:u.permit2,functionName:"approve",args:[h.currency0,u.poolmanager,-n,d]},{abi:M,functionName:"modifyLiquidity",address:u.poolmanager,args:[h,f,l]}]}var H=e.i(472064),G=e.i(475745),Y=e.i(567543),q=e.i(302121),W=e.i(185442),Z=e.i(949964),K=e.i(647163),J=e.i(211051),X=e.i(962220),Q=e.i(4433),ee=e.i(416301),et=e.i(567353);function er(e){let t;if(e&&0!==e.length){for(let r=0;r<e.length;r++){let n=e[r];!(null==n||Number.isNaN(n))&&"symbol"!=typeof n&&(void 0===t||n<t)&&(t=n)}return t}}var en=e.i(737098),ea=e.i(330926),es=e.i(589569),ei=e.i(96932),eo=e.i(789066),el=e.i(858316),ec=e.i(58619),eu=e.i(136888),ed=e.i(717560),eh=e.i(781628),ef=e.i(390644),em=e.i(255725),ep=e.i(397995);let ex=[{inputs:[{components:[{internalType:"uint32",name:"dstEid",type:"uint32"},{internalType:"bytes32",name:"to",type:"bytes32"},{internalType:"uint256",name:"amountLD",type:"uint256"},{internalType:"uint256",name:"minAmountLD",type:"uint256"},{internalType:"bytes",name:"extraOptions",type:"bytes"},{internalType:"bytes",name:"composeMsg",type:"bytes"},{internalType:"bytes",name:"oftCmd",type:"bytes"}],internalType:"struct SendParam",name:"_sendParam",type:"tuple"},{components:[{internalType:"uint256",name:"nativeFee",type:"uint256"},{internalType:"uint256",name:"lzTokenFee",type:"uint256"}],internalType:"struct MessagingFee",name:"_fee",type:"tuple"},{internalType:"address",name:"_refundAddress",type:"address"}],name:"send",outputs:[{components:[{internalType:"bytes32",name:"guid",type:"bytes32"},{internalType:"uint64",name:"nonce",type:"uint64"},{components:[{internalType:"uint256",name:"nativeFee",type:"uint256"},{internalType:"uint256",name:"lzTokenFee",type:"uint256"}],internalType:"struct MessagingFee",name:"fee",type:"tuple"}],internalType:"struct MessagingReceipt",name:"msgReceipt",type:"tuple"},{components:[{internalType:"uint256",name:"amountSentLD",type:"uint256"},{internalType:"uint256",name:"amountReceivedLD",type:"uint256"}],internalType:"struct OFTReceipt",name:"oftReceipt",type:"tuple"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint32",name:"dstEid",type:"uint32"},{internalType:"bytes32",name:"to",type:"bytes32"},{internalType:"uint256",name:"amountLD",type:"uint256"},{internalType:"uint256",name:"minAmountLD",type:"uint256"},{internalType:"bytes",name:"extraOptions",type:"bytes"},{internalType:"bytes",name:"composeMsg",type:"bytes"},{internalType:"bytes",name:"oftCmd",type:"bytes"}],internalType:"struct SendParam",name:"_sendParam",type:"tuple"},{internalType:"bool",name:"_payInLzToken",type:"bool"}],name:"quoteSend",outputs:[{components:[{internalType:"uint256",name:"nativeFee",type:"uint256"},{internalType:"uint256",name:"lzTokenFee",type:"uint256"}],internalType:"struct MessagingFee",name:"msgFee",type:"tuple"}],stateMutability:"view",type:"function"}];var eg=e.i(572767);let eb=!1,ey=!1,ev={debug:1,default:2,info:2,warning:3,error:4,off:5},ew=ev.default,eN=null,eE=function(){try{let e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw Error("bad normalize")}catch(r){e.push(t)}}),e.length)throw Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw Error("broken implementation")}catch(e){return e.message}return null}();(t=m||(m={})).DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF",(r=p||(p={})).UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED";let eT="0123456789abcdef";class ej{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let r=e.toLowerCase();null==ev[r]&&this.throwArgumentError("invalid log level name","logLevel",e),ew>ev[r]||console.log.apply(console,t)}debug(...e){this._log(ej.levels.DEBUG,e)}info(...e){this._log(ej.levels.INFO,e)}warn(...e){this._log(ej.levels.WARNING,e)}makeError(e,t,r){if(ey)return this.makeError("censored error",t,{});t||(t=ej.errors.UNKNOWN_ERROR),r||(r={});let n=[];Object.keys(r).forEach(e=>{let t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=eT[t[e]>>4],r+=eT[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}}),n.push(`code=${t}`),n.push(`version=${this.version}`);let a=e,s="";switch(t){case p.NUMERIC_FAULT:{s="NUMERIC_FAULT";let t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":s+="-"+t;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case p.CALL_EXCEPTION:case p.INSUFFICIENT_FUNDS:case p.MISSING_NEW:case p.NONCE_EXPIRED:case p.REPLACEMENT_UNDERPRICED:case p.TRANSACTION_REPLACED:case p.UNPREDICTABLE_GAS_LIMIT:s=t}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),n.length&&(e+=" ("+n.join(", ")+")");let i=Error(e);return i.reason=a,i.code=t,Object.keys(r).forEach(function(e){i[e]=r[e]}),i}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,ej.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),eE&&this.throwError("platform missing String.prototype.normalize",ej.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:eE})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=0x1fffffffffffff)&&this.throwError(t,ej.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,ej.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,ej.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,ej.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||null==e)&&this.throwError("missing new",ej.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",ej.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||null==e)&&this.throwError("missing new",ej.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return eN||(eN=new ej("logger/5.8.0")),eN}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",ej.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),eb){if(!e)return;this.globalLogger().throwError("error censorship permanent",ej.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}ey=!!e,eb=!!t}static setLogLevel(e){let t=ev[e.toLowerCase()];null==t?ej.globalLogger().warn("invalid log level - "+e):ew=t}static from(e){return new ej(e)}}ej.errors=p,ej.levels=m;let eA=new ej("bytes/5.8.0");function ek(e){return!!e.toHexString}function eS(e){return e.slice||(e.slice=function(){let t=Array.prototype.slice.call(arguments);return eS(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function e_(e){return"number"==typeof e&&e==e&&e%1==0}function eC(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e||!e_(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){let r=e[t];if(!e_(r)||r<0||r>=256)return!1}return!0}function eB(e,t){if(t||(t={}),"number"==typeof e){eA.checkSafeUint53(e,"invalid arrayify value");let t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),eS(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),ek(e)&&(e=e.toHexString()),eI(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":eA.throwArgumentError("hex data is odd-length","value",e));let n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return eS(new Uint8Array(n))}return eC(e)?eS(new Uint8Array(e)):eA.throwArgumentError("invalid arrayify value","value",e)}function eO(e){let t=e.map(e=>eB(e)),r=new Uint8Array(t.reduce((e,t)=>e+t.length,0));return t.reduce((e,t)=>(r.set(t,e),e+t.length),0),eS(r)}function eR(e,t){(e=eB(e)).length>t&&eA.throwArgumentError("value out of range","value",arguments[0]);let r=new Uint8Array(t);return r.set(e,t-e.length),eS(r)}function eI(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&(!t||e.length===2+2*t)}let eL="0123456789abcdef";function eP(e,t){if(t||(t={}),"number"==typeof e){eA.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=eL[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),ek(e))return e.toHexString();if(eI(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":eA.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(eC(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=eL[(240&n)>>4]+eL[15&n]}return t}return eA.throwArgumentError("invalid hexlify value","value",e)}function eV(e,t){for("string"!=typeof e?e=eP(e):eI(e)||eA.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&eA.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}var eF=e.i(492711).default.BN;let eD=new ej("bignumber/5.8.0"),eM={},eU=!1;class ez{constructor(e,t){e!==eM&&eD.throwError("cannot call constructor directly; use BigNumber.from",ej.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return eH(eG(this).fromTwos(e))}toTwos(e){return eH(eG(this).toTwos(e))}abs(){return"-"===this._hex[0]?ez.from(this._hex.substring(1)):this}add(e){return eH(eG(this).add(eG(e)))}sub(e){return eH(eG(this).sub(eG(e)))}div(e){return ez.from(e).isZero()&&eY("division-by-zero","div"),eH(eG(this).div(eG(e)))}mul(e){return eH(eG(this).mul(eG(e)))}mod(e){let t=eG(e);return t.isNeg()&&eY("division-by-zero","mod"),eH(eG(this).umod(t))}pow(e){let t=eG(e);return t.isNeg()&&eY("negative-power","pow"),eH(eG(this).pow(t))}and(e){let t=eG(e);return(this.isNegative()||t.isNeg())&&eY("unbound-bitwise-result","and"),eH(eG(this).and(t))}or(e){let t=eG(e);return(this.isNegative()||t.isNeg())&&eY("unbound-bitwise-result","or"),eH(eG(this).or(t))}xor(e){let t=eG(e);return(this.isNegative()||t.isNeg())&&eY("unbound-bitwise-result","xor"),eH(eG(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&eY("negative-width","mask"),eH(eG(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&eY("negative-width","shl"),eH(eG(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&eY("negative-width","shr"),eH(eG(this).shrn(e))}eq(e){return eG(this).eq(eG(e))}lt(e){return eG(this).lt(eG(e))}lte(e){return eG(this).lte(eG(e))}gt(e){return eG(this).gt(eG(e))}gte(e){return eG(this).gte(eG(e))}isNegative(){return"-"===this._hex[0]}isZero(){return eG(this).isZero()}toNumber(){try{return eG(this).toNumber()}catch(e){eY("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return eD.throwError("this platform does not support BigInt",ej.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?eU||(eU=!0,eD.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?eD.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",ej.errors.UNEXPECTED_ARGUMENT,{}):eD.throwError("BigNumber.toString does not accept parameters",ej.errors.UNEXPECTED_ARGUMENT,{})),eG(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof ez)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new ez(eM,e$(e)):e.match(/^-?[0-9]+$/)?new ez(eM,e$(new eF(e))):eD.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&eY("underflow","BigNumber.from",e),(e>=0x1fffffffffffff||e<=-0x1fffffffffffff)&&eY("overflow","BigNumber.from",e),ez.from(String(e));if("bigint"==typeof e)return ez.from(e.toString());if(eC(e))return ez.from(eP(e));if(e)if(e.toHexString){let t=e.toHexString();if("string"==typeof t)return ez.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(eI(t)||"-"===t[0]&&eI(t.substring(1))))return ez.from(t)}return eD.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function e$(e){if("string"!=typeof e)return e$(e.toString(16));if("-"===e[0])return("-"===(e=e.substring(1))[0]&&eD.throwArgumentError("invalid hex","value",e),"0x00"===(e=e$(e)))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function eH(e){return ez.from(e$(e))}function eG(e){let t=ez.from(e).toHexString();return"-"===t[0]?new eF("-"+t.substring(3),16):new eF(t.substring(2),16)}function eY(e,t,r){let n={fault:e,operation:t};return null!=r&&(n.value=r),eD.throwError(e,ej.errors.NUMERIC_FAULT,n)}var eq=e.i(451697);new ej("rlp/5.8.0");let eW=new ej("address/5.8.0");function eZ(e){eI(e,20)||eW.throwArgumentError("invalid address","address",e);let t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);let n=eB("0x"+eq.default.keccak_256(eB(r)));for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&n[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}let eK={};for(let e=0;e<10;e++)eK[String(e)]=String(e);for(let e=0;e<26;e++)eK[String.fromCharCode(65+e)]=String(10+e);let eJ=Math.floor(Math.log10?Math.log10(0x1fffffffffffff):Math.log(0x1fffffffffffff)/Math.LN10);function eX(e){let t=null;if("string"!=typeof e&&eW.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=eZ(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&eW.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==function(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>eK[e]).join("");for(;t.length>=eJ;){let e=t.substring(0,eJ);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}(e)&&eW.throwArgumentError("bad icap checksum","address",e),t=new eF(e.substring(4),36).toString(16);t.length<40;)t="0"+t;t=eZ("0x"+t)}else eW.throwArgumentError("invalid address","address",e);return t}var eQ=e.i(228132);function e0(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}new ej("properties/5.8.0");let e1="abi/5.8.0",e2=new ej(e1);class e3{constructor(e,t,r,n){this.name=e,this.type=t,this.localName=r,this.dynamic=n}_throwError(e,t){e2.throwArgumentError(e,this.localName,t)}}class e5{constructor(e){e0(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){var e;let t;return e=this._data,t="0x",e.forEach(e=>{t+=eP(e).substring(2)}),t}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(eO(e._data))}writeBytes(e){let t=eB(e),r=t.length%this.wordSize;return r&&(t=eO([t,this._padding.slice(r)])),this._writeData(t)}_getValue(e){let t=eB(ez.from(e));return t.length>this.wordSize&&e2.throwError("value out-of-bounds",ej.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=eO([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){let e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class e4{constructor(e,t,r,n){e0(this,"_data",eB(e)),e0(this,"wordSize",t||32),e0(this,"_coerceFunc",r),e0(this,"allowLoose",n),this._offset=0}get data(){return eP(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&48>=parseInt(r[1])&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):e4.coerce(e,t)}_peekBytes(e,t,r){let n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:e2.throwError("data out-of-bounds",ej.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new e4(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return ez.from(this.readBytes(this.wordSize))}}class e6 extends e3{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=eX(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}decode(e){return eX(eV(e.readValue().toHexString(),20))}}class e8 extends e3{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}let e7=new ej(e1);function e9(e,t,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let e={};n=t.map(t=>{let n=t.localName;return n||e7.throwError("cannot encode object for signature with missing names",ej.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]&&e7.throwError("cannot encode object for signature with duplicate names",ej.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]=!0,r[n]})}else e7.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&e7.throwArgumentError("types/value length mismatch","tuple",r);let a=new e5(e.wordSize),s=new e5(e.wordSize),i=[];t.forEach((e,t)=>{let r=n[t];if(e.dynamic){let t=s.length;e.encode(s,r);let n=a.writeUpdatableValue();i.push(e=>{n(e+t)})}else e.encode(a,r)}),i.forEach(e=>{e(a.length)});let o=e.appendWriter(a);return o+e.appendWriter(s)}function te(e,t){let r=[],n=e.subReader(0);t.forEach(t=>{let a=null;if(t.dynamic){let r=e.readValue(),s=n.subReader(r.toNumber());try{a=t.decode(s)}catch(e){if(e.code===ej.errors.BUFFER_OVERRUN)throw e;(a=e).baseType=t.name,a.name=t.localName,a.type=t.type}}else try{a=t.decode(e)}catch(e){if(e.code===ej.errors.BUFFER_OVERRUN)throw e;(a=e).baseType=t.name,a.name=t.localName,a.type=t.type}void 0!=a&&r.push(a)});let a=t.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});t.forEach((e,t)=>{let n=e.localName;if(!n||1!==a[n]||("length"===n&&(n="_length"),null!=r[n]))return;let s=r[t];s instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:()=>{throw s}}):r[n]=s});for(let e=0;e<r.length;e++){let t=r[e];t instanceof Error&&Object.defineProperty(r,e,{enumerable:!0,get:()=>{throw t}})}return Object.freeze(r)}class tt extends e3{constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),this.coder=e,this.length=t}defaultValue(){let e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),e7.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let e=0;e<t.length;e++)n.push(this.coder);return e9(e,n,t)}decode(e){let t=this.length;-1===t&&32*(t=e.readValue().toNumber())>e._data.length&&e7.throwError("insufficient data length",ej.errors.BUFFER_OVERRUN,{length:e._data.length,count:t});let r=[];for(let e=0;e<t;e++)r.push(new e8(this.coder));return e.coerce(this.name,te(e,r))}}class tr extends e3{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(+!!t)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class tn extends e3{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=eB(t);let r=e.writeValue(t.length);return r+e.writeBytes(t)}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class ta extends tn{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,eP(super.decode(e)))}}class ts extends e3{constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=eB(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e.coerce(this.name,eP(e.readBytes(this.size)))}}class ti extends e3{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}let to=ez.from(-1),tl=ez.from(0),tc=ez.from(1),tu=ez.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class td extends e3{constructor(e,t,r){const n=(t?"int":"uint")+8*e;super(n,n,r,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let r=ez.from(t),n=tu.mask(8*e.wordSize);if(this.signed){let e=n.mask(8*this.size-1);(r.gt(e)||r.lt(e.add(tc).mul(to)))&&this._throwError("value out-of-bounds",t)}else(r.lt(tl)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}let th=new ej("strings/5.8.0");function tf(e,t,r,n,a){if(e===g.BAD_PREFIX||e===g.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return e===g.OVERRUN?r.length-t-1:0}(n=x||(x={})).current="",n.NFC="NFC",n.NFD="NFD",n.NFKC="NFKC",n.NFKD="NFKD",(a=g||(g={})).UNEXPECTED_CONTINUE="unexpected continuation byte",a.BAD_PREFIX="bad codepoint prefix",a.OVERRUN="string overrun",a.MISSING_CONTINUE="missing continuation byte",a.OUT_OF_RANGE="out of UTF-8 range",a.UTF16_SURROGATE="UTF-16 surrogate",a.OVERLONG="overlong representation";let tm=Object.freeze({error:function(e,t,r,n,a){return th.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:tf,replace:function(e,t,r,n,a){return e===g.OVERLONG?(n.push(a),0):(n.push(65533),tf(e,t,r,n,a))}});function tp(e,t=x.current){t!=x.current&&(th.checkNormalize(),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if((64512&n)==55296){t++;let a=e.charCodeAt(t);if(t>=e.length||(64512&a)!=56320)throw Error("invalid utf-8 string");let s=65536+((1023&n)<<10)+(1023&a);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(63&s|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return eB(r)}class tx extends tn{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,tp(t))}decode(e){return(function(e,t){null==t&&(t=tm.error),e=eB(e);let r=[],n=0;for(;n<e.length;){let a=e[n++];if(a>>7==0){r.push(a);continue}let s=null,i=null;if((224&a)==192)s=1,i=127;else if((240&a)==224)s=2,i=2047;else if((248&a)==240)s=3,i=65535;else{(192&a)==128?n+=t(g.UNEXPECTED_CONTINUE,n-1,e,r):n+=t(g.BAD_PREFIX,n-1,e,r);continue}if(n-1+s>=e.length){n+=t(g.OVERRUN,n-1,e,r);continue}let o=a&(1<<8-s-1)-1;for(let a=0;a<s;a++){let a=e[n];if((192&a)!=128){n+=t(g.MISSING_CONTINUE,n,e,r),o=null;break}o=o<<6|63&a,n++}if(null!==o){if(o>1114111){n+=t(g.OUT_OF_RANGE,n-1-s,e,r,o);continue}if(o>=55296&&o<=57343){n+=t(g.UTF16_SURROGATE,n-1-s,e,r,o);continue}if(o<=i){n+=t(g.OVERLONG,n-1-s,e,r,o);continue}r.push(o)}}return r})(super.decode(e),void 0).map(e=>e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10&1023)+55296,(1023&e)+56320)).join("")}}class tg extends e3{constructor(e,t){let r=!1;const n=[];e.forEach(e=>{e.dynamic&&(r=!0),n.push(e.type)}),super("tuple","tuple("+n.join(",")+")",t,r),this.coders=e}defaultValue(){let e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});let t=this.coders.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});return this.coders.forEach((r,n)=>{let a=r.localName;a&&1===t[a]&&("length"===a&&(a="_length"),null==e[a]&&(e[a]=e[n]))}),Object.freeze(e)}encode(e,t){return e9(e,this.coders,t)}decode(e){return e.coerce(this.name,te(e,this.coders))}}let tb=new ej(e1),ty={},tv={calldata:!0,memory:!0,storage:!0},tw={calldata:!0,memory:!0};function tN(e,t){if("bytes"===e||"string"===e){if(tv[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&tw[t])return!0;return(tv[t]||"payable"===t)&&tb.throwArgumentError("invalid modifier","name",t),!1}function tE(e,t){for(let r in t)e0(e,r,t[r])}let tT=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),tj=new RegExp(/^(.*)\[([0-9]*)\]$/);class tA{constructor(e,t){e!==ty&&tb.throwError("use fromString",ej.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),tE(this,t);let r=this.type.match(tj);r?tE(this,{arrayLength:parseInt(r[2]||"-1"),arrayChildren:tA.fromObject({type:r[1],components:this.components}),baseType:"array"}):tE(this,{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=tT.sighash),tT[e]||tb.throwArgumentError("invalid format type","format",e),e===tT.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(t)}let t="";return"array"===this.baseType?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==tT.sighash&&(t+=this.type),t+="("+this.components.map(t=>t.format(e)).join(e===tT.full?", ":",")+")"):t+=this.type,e!==tT.sighash&&(!0===this.indexed&&(t+=" indexed"),e===tT.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return"string"==typeof e?tA.fromString(e,t):tA.fromObject(e)}static fromObject(e){return tA.isParamType(e)?e:new tA(ty,{name:e.name||null,type:tV(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(tA.fromObject):null})}static fromString(e,t){var r;return r=function(e,t){let r=e;function n(t){tb.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function a(e){let r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");let s={type:"",name:"",state:{allowType:!0}},i=s;for(let r=0;r<e.length;r++){let s=e[r];switch(s){case"(":i.state.allowType&&""===i.type?i.type="tuple":i.state.allowParams||n(r),i.state.allowType=!1,i.type=tV(i.type),i.components=[a(i)],i=i.components[0];break;case")":delete i.state,"indexed"===i.name&&(t||n(r),i.indexed=!0,i.name=""),tN(i.type,i.name)&&(i.name=""),i.type=tV(i.type);let o=i;(i=i.parent)||n(r),delete o.parent,i.state.allowParams=!1,i.state.allowName=!0,i.state.allowArray=!0;break;case",":delete i.state,"indexed"===i.name&&(t||n(r),i.indexed=!0,i.name=""),tN(i.type,i.name)&&(i.name=""),i.type=tV(i.type);let l=a(i.parent);i.parent.components.push(l),delete i.parent,i=l;break;case" ":i.state.allowType&&""!==i.type&&(i.type=tV(i.type),delete i.state.allowType,i.state.allowName=!0,i.state.allowParams=!0),i.state.allowName&&""!==i.name&&("indexed"===i.name?(t||n(r),i.indexed&&n(r),i.indexed=!0,i.name=""):tN(i.type,i.name)?i.name="":i.state.allowName=!1);break;case"[":i.state.allowArray||n(r),i.type+=s,i.state.allowArray=!1,i.state.allowName=!1,i.state.readArray=!0;break;case"]":i.state.readArray||n(r),i.type+=s,i.state.readArray=!1,i.state.allowArray=!0,i.state.allowName=!0;break;default:i.state.allowType?(i.type+=s,i.state.allowParams=!0,i.state.allowArray=!0):i.state.allowName?(i.name+=s,delete i.state.allowArray):i.state.readArray?i.type+=s:n(r)}}return i.parent&&tb.throwArgumentError("unexpected eof","param",e),delete s.state,"indexed"===i.name?(t||n(r.length-7),i.indexed&&n(r.length-7),i.indexed=!0,i.name=""):tN(i.type,i.name)&&(i.name=""),s.type=tV(s.type),s}(e,!!t),tA.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components})}static isParamType(e){return!!(null!=e&&e._isParamType)}}function tk(e,t){return(function(e){e=e.trim();let t=[],r="",n=0;for(let a=0;a<e.length;a++){let s=e[a];","===s&&0===n?(t.push(r),r=""):(r+=s,"("===s?n++:")"===s&&-1==--n&&tb.throwArgumentError("unbalanced parenthesis","value",e))}return r&&t.push(r),t})(e).map(e=>tA.fromString(e,t))}class tS{constructor(e,t){e!==ty&&tb.throwError("use a static from method",ej.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),tE(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return tS.isFragment(e)?e:"string"==typeof e?tS.fromString(e):tS.fromObject(e)}static fromObject(e){if(tS.isFragment(e))return e;switch(e.type){case"function":return tI.fromObject(e);case"event":return t_.fromObject(e);case"constructor":return tR.fromObject(e);case"error":return tP.fromObject(e);case"fallback":case"receive":return null}return tb.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?t_.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?tI.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?tR.fromString(e.trim()):"error"===e.split(" ")[0]?tP.fromString(e.substring(5).trim()):tb.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class t_ extends tS{format(e){if(e||(e=tT.sighash),tT[e]||tb.throwArgumentError("invalid format type","format",e),e===tT.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==tT.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===tT.full?", ":",")+") ",e!==tT.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"==typeof e?t_.fromString(e):t_.fromObject(e)}static fromObject(e){return t_.isEventFragment(e)?e:("event"!==e.type&&tb.throwArgumentError("invalid event object","value",e),new t_(ty,{name:tD(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(tA.fromObject):[],type:"event"}))}static fromString(e){let t=e.match(tM);t||tb.throwArgumentError("invalid event string","value",e);let r=!1;return t[3].split(" ").forEach(e=>{switch(e.trim()){case"anonymous":r=!0;break;case"":break;default:tb.warn("unknown modifier: "+e)}}),t_.fromObject({name:t[1].trim(),anonymous:r,inputs:tk(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function tC(e,t){t.gas=null;let r=e.split("@");return 1!==r.length?(r.length>2&&tb.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||tb.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=ez.from(r[1]),r[0]):e}function tB(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach(e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}})}function tO(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&tb.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&tb.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||tb.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&tb.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&tb.throwArgumentError("unable to determine stateMutability","value",e),t}class tR extends tS{format(e){if(e||(e=tT.sighash),tT[e]||tb.throwArgumentError("invalid format type","format",e),e===tT.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});e===tT.sighash&&tb.throwError("cannot format a constructor for sighash",ej.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(t=>t.format(e)).join(e===tT.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"==typeof e?tR.fromString(e):tR.fromObject(e)}static fromObject(e){if(tR.isConstructorFragment(e))return e;"constructor"!==e.type&&tb.throwArgumentError("invalid constructor object","value",e);let t=tO(e);return t.constant&&tb.throwArgumentError("constructor cannot be constant","value",e),new tR(ty,{name:null,type:e.type,inputs:e.inputs?e.inputs.map(tA.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?ez.from(e.gas):null})}static fromString(e){let t={type:"constructor"},r=(e=tC(e,t)).match(tM);return r&&"constructor"===r[1].trim()||tb.throwArgumentError("invalid constructor string","value",e),t.inputs=tk(r[2].trim(),!1),tB(r[3].trim(),t),tR.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class tI extends tR{format(e){if(e||(e=tT.sighash),tT[e]||tb.throwArgumentError("invalid format type","format",e),e===tT.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==tT.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===tT.full?", ":",")+") ",e!==tT.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(t=>t.format(e)).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"==typeof e?tI.fromString(e):tI.fromObject(e)}static fromObject(e){if(tI.isFunctionFragment(e))return e;"function"!==e.type&&tb.throwArgumentError("invalid function object","value",e);let t=tO(e);return new tI(ty,{type:e.type,name:tD(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(tA.fromObject):[],outputs:e.outputs?e.outputs.map(tA.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?ez.from(e.gas):null})}static fromString(e){let t={type:"function"},r=(e=tC(e,t)).split(" returns ");r.length>2&&tb.throwArgumentError("invalid function string","value",e);let n=r[0].match(tM);if(n||tb.throwArgumentError("invalid function signature","value",e),t.name=n[1].trim(),t.name&&tD(t.name),t.inputs=tk(n[2],!1),tB(n[3].trim(),t),r.length>1){let n=r[1].match(tM);(""!=n[1].trim()||""!=n[3].trim())&&tb.throwArgumentError("unexpected tokens","value",e),t.outputs=tk(n[2],!1)}else t.outputs=[];return tI.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function tL(e){let t=e.format();return("Error(string)"===t||"Panic(uint256)"===t)&&tb.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class tP extends tS{format(e){if(e||(e=tT.sighash),tT[e]||tb.throwArgumentError("invalid format type","format",e),e===tT.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==tT.sighash&&(t+="error "),(t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===tT.full?", ":",")+") ").trim()}static from(e){return"string"==typeof e?tP.fromString(e):tP.fromObject(e)}static fromObject(e){return tP.isErrorFragment(e)?e:("error"!==e.type&&tb.throwArgumentError("invalid error object","value",e),tL(new tP(ty,{type:e.type,name:tD(e.name),inputs:e.inputs?e.inputs.map(tA.fromObject):[]})))}static fromString(e){let t={type:"error"},r=e.match(tM);return r||tb.throwArgumentError("invalid error signature","value",e),t.name=r[1].trim(),t.name&&tD(t.name),t.inputs=tk(r[2],!1),tL(tP.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&"error"===e.type}}function tV(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}let tF=RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function tD(e){return e&&e.match(tF)||tb.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}let tM=RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$"),tU=new ej(e1),tz=new RegExp(/^bytes([0-9]*)$/),t$=new RegExp(/^(u?int)([0-9]*)$/);new class{constructor(e){e0(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new e6(e.name);case"bool":return new tr(e.name);case"string":return new tx(e.name);case"bytes":return new ta(e.name);case"array":return new tt(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new tg((e.components||[]).map(e=>this._getCoder(e)),e.name);case"":return new ti(e.name)}let t=e.type.match(t$);if(t){let r=parseInt(t[2]||"256");return(0===r||r>256||r%8!=0)&&tU.throwArgumentError("invalid "+t[1]+" bit length","param",e),new td(r/8,"int"===t[1],e.name)}if(t=e.type.match(tz)){let r=parseInt(t[1]);return(0===r||r>32)&&tU.throwArgumentError("invalid bytes length","param",e),new ts(r,e.name)}return tU.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new e4(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new e5(this._getWordSize())}getDefaultValue(e){return new tg(e.map(e=>this._getCoder(tA.from(e))),"_").defaultValue()}encode(e,t){e.length!==t.length&&tU.throwError("types/values length mismatch",ej.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});let r=new tg(e.map(e=>this._getCoder(tA.from(e))),"_"),n=this._getWriter();return r.encode(n,t),n.data}decode(e,t,r){return new tg(e.map(e=>this._getCoder(tA.from(e))),"_").decode(this._getReader(eB(t),r))}},e.i(223336),(s=b||(b={})).sha256="sha256",s.sha512="sha512",new ej("sha2/5.8.0");let tH=RegExp("^bytes([0-9]+)$"),tG=RegExp("^(u?int)([0-9]*)$"),tY=RegExp("^(.*)\\[([0-9]*)\\]$"),tq=new ej("solidity/5.8.0");function tW(e,t){e.length!=t.length&&tq.throwArgumentError("wrong number of values; expected ${ types.length }","values",t);let r=[];return e.forEach(function(e,n){r.push(function e(t,r,n){switch(t){case"address":if(n)return eR(r,32);return eB(r);case"string":return tp(r);case"bytes":return eB(r);case"bool":if(r=r?"0x01":"0x00",n)return eR(r,32);return eB(r)}let a=t.match(tG);if(a){let e=parseInt(a[2]||"256");return(a[2]&&String(e)!==a[2]||e%8!=0||0===e||e>256)&&tq.throwArgumentError("invalid number type","type",t),n&&(e=256),eR(r=ez.from(r).toTwos(e),e/8)}if(a=t.match(tH)){let e=parseInt(a[1]);return((String(e)!==a[1]||0===e||e>32)&&tq.throwArgumentError("invalid bytes type","type",t),eB(r).byteLength!==e&&tq.throwArgumentError(`invalid value for ${t}`,"value",r),n)?eB((r+"0000000000000000000000000000000000000000000000000000000000000000").substring(0,66)):r}if((a=t.match(tY))&&Array.isArray(r)){let n=a[1];parseInt(a[2]||String(r.length))!=r.length&&tq.throwArgumentError(`invalid array length for ${t}`,"value",r);let s=[];return r.forEach(function(t){s.push(e(n,t,!0))}),eO(s)}return tq.throwArgumentError("invalid type","type",t)}(e,t[n]))}),eP(eO(r))}function tZ(e,t){if(!e)throw Error("Invariant failed")}function tK(e){return e.replace(/^0x/,"")}e.i(494561);var tJ=/^([1-9A-HJ-NP-Za-km-z]{32,44})$/,tX=((i=tX||{})[i.TYPE_1=1]="TYPE_1",i[i.TYPE_2=2]="TYPE_2",i[i.TYPE_3=3]="TYPE_3",i),tQ=ez.from("0xffffffffffffffffffffffffffffffff"),t0=((o=t0||{})[o.EXECUTOR=1]="EXECUTOR",o[o.VERIFIER=2]="VERIFIER",o[o.TREASURY=255]="TREASURY",o),t1=((l=t1||{})[l.LZ_RECEIVE=1]="LZ_RECEIVE",l[l.NATIVE_DROP=2]="NATIVE_DROP",l[l.COMPOSE=3]="COMPOSE",l[l.ORDERED=4]="ORDERED",l[l.LZ_READ=5]="LZ_READ",l),t2=((c=t2||{})[c.PRECRIME=1]="PRECRIME",c),t3=class e{workerOptions=[];constructor(){}static newOptions(){return new e}static fromOptions(t){let r=new e,n=eB(t),a=ez.from(n.slice(0,2)).toNumber();if(3===a){let e=2;for(;e<n.byteLength;){let t=ez.from(n.slice(e,e+1)).toNumber();e+=1;let a=ez.from(n.slice(e,e+2)).toNumber();if(e+=2,1===t){let s=ez.from(n.slice(e,e+1)).toNumber();e+=1;let i=n.slice(e,e+a-1);e+=a-1,r.addOption(t,{type:s,params:eP(i)})}else if(2===t){let s=ez.from(n.slice(e,e+1)).toNumber();e+=1;let i=ez.from(n.slice(e,e+1)).toNumber();e+=1;let o=n.slice(e,e+a-2);e+=a-2;let l={type:i,index:s,params:eP(o)};r.addOption(t,l)}}}else if(2===a){let e=ez.from(n.slice(2,34)).toBigInt(),t=ez.from(n.slice(34,66)).toBigInt(),a=eP(n.slice(66,n.byteLength));r.addExecutorLzReceiveOption(e).addExecutorNativeDropOption(t,a)}else if(1===a){let e=ez.from(n.slice(2,34)).toBigInt();r.addExecutorLzReceiveOption(e)}return r}addExecutorLzReceiveOption(e,t=0){let r=ez.from(e);tZ(r.lte(tQ),"gasLimit shouldn't be greater than MAX_UINT_128");let n=ez.from(t);return tZ(n.lte(tQ),"value shouldn't be greater than MAX_UINT_128"),this.addOption(1,{type:1,params:n.eq(0)?tW(["uint128"],[r]):tW(["uint128","uint128"],[r,n])}),this}addExecutorNativeDropOption(e,t){let r=ez.from(e);return tZ(r.lte(tQ),"nativeDrop shouldn't be greater than MAX_UINT_128"),this.addOption(1,{type:2,params:tW(["uint128","bytes32"],[r,function(e){var t;if(t=e,tJ.test(t))return eQ.default.decode(e);if(e.startsWith("0x")&&e.length<=66)return eB(eV(e,32));throw Error("Invalid address")}(t)])}),this}addExecutorComposeOption(e,t,r=0){let n=ez.from(t);tZ(n.lte(tQ),"gasLimit shouldn't be greater than MAX_UINT_128");let a=ez.from(r);tZ(a.lte(tQ),"nativeDrop shouldn't be greater than MAX_UINT_128");let s=a.gt(0)?{type:3,params:tW(["uint16","uint128","uint128"],[e,n,a])}:{type:3,params:tW(["uint16","uint128"],[e,n])};return this.addOption(1,s),this}addExecutorOrderedExecutionOption(){return this.addOption(1,{type:4,params:"0x"}),this}addExecutorLzReadOption(e,t,r=0){let n=ez.from(e),a=ez.from(t),s=ez.from(r);return this.addOption(1,{type:5,params:s.eq(0)?tW(["uint128","uint32"],[n,a]):tW(["uint128","uint32","uint128"],[n,a,s])}),this}addVerifierPrecrimeOption(e){return this.addOption(2,{type:1,index:e,params:"0x"}),this}toHex(){let e=tW(["uint16"],[3]);return this.workerOptions.forEach(t=>{for(let r of t.options)1===t.workerId?e+=tK(tW(["uint8","uint16","uint8","bytes"],[t.workerId,tK(r.params).length/2+1,r.type,r.params])):2===t.workerId&&(e+=tK(tW(["uint8","uint16","uint8","uint8","bytes"],[t.workerId,tK(r.params).length/2+2,r.index,r.type,r.params])))}),e}toBytes(){return eB(this.toHex())}addOption(e,t){let r=this.workerOptions.find(t=>t.workerId===e);r?r.options.push(t):this.workerOptions.push({workerId:e,options:[t]})}decodeExecutorLzReceiveOption(){let e=this.findOptions(1,1);if(void 0===e||Array.isArray(e)&&0===e.length)return;let t=ez.from(0).toBigInt(),r=ez.from(0).toBigInt();for(let n of e=Array.isArray(e)?e:[e]){let e=eg.Buffer.from(tK(n.params),"hex"),a=ez.from(e.subarray(0,16)).toBigInt(),s=ez.from(16===e.length?0:e.subarray(16,32)).toBigInt();t+=a,r+=s}return{gas:t,value:r}}decodeExecutorNativeDropOption(){let e=this.findOptions(1,2);return e&&0!==e.length?Object.values(e.reduce((e,t)=>{let r=eg.Buffer.from(tK(t.params),"hex"),n=ez.from(r.subarray(0,16)).toBigInt(),a=eP(r.subarray(16,48));return a in e?e[a].amount=e[a].amount+n:e[a]={amount:n,receiver:a},e},{})):[]}decodeExecutorComposeOption(){let e=this.findOptions(1,3);return e&&0!==e.length?Object.values(e.reduce((e,t)=>{let r=eg.Buffer.from(tK(t.params),"hex"),n=ez.from(r.subarray(0,2)).toNumber(),a=ez.from(r.subarray(2,18)).toBigInt(),s=(34===r.length?ez.from(r.subarray(18,34)):ez.from(0)).toBigInt();return n in e?(e[n].gas=e[n].gas+a,e[n].value=e[n].value+s):e[n]={index:n,gas:a,value:s},e},{})):[]}decodeExecutorOrderedExecutionOption(){return void 0!==this.findOptions(1,4)}decodeExecutorLzReadOption(){let e=this.findOptions(1,5);if(void 0===e||Array.isArray(e)&&0===e.length)return;let t=ez.from(0).toBigInt(),r=ez.from(0).toBigInt(),n=ez.from(0).toBigInt();for(let a of e=Array.isArray(e)?e:[e]){let e=eg.Buffer.from(tK(a.params),"hex"),s=ez.from(e.subarray(0,16)).toBigInt(),i=ez.from(e.subarray(16,20)).toBigInt(),o=ez.from(20===e.length?0:e.subarray(20,36)).toBigInt();t+=s,r+=i,n+=o}return{gas:t,dataSize:r,value:n}}findOptions(e,t){let r=this.workerOptions.find(t=>t.workerId===e);if(r)return 4===t?r.options.find(e=>e.type===t):r.options.filter(e=>e.type===t)}findVerifierOption(e,t){let r=this.workerOptions.find(e=>2===e.workerId);if(r){let n=r.options.find(r=>r.type===t&&r.index===e);if(n)return n}}},t5=((u=t5||{})[u.Timestamp=0]="Timestamp",u[u.BlockNumber=1]="BlockNumber",u),t4=((d=t4||{})[d.SingleViewFunctionEVMCall=1]="SingleViewFunctionEVMCall",d),t6=((h=t6||{})[h.OnlyMap=0]="OnlyMap",h[h.OnlyReduce=1]="OnlyReduce",h[h.MapReduce=2]="MapReduce",h),t8=((f=t8||{})[f.SingleViewFunctionEVMCall=1]="SingleViewFunctionEVMCall",f),t7=e.i(989846);function t9({disable:e,readonly:t,value:r,setValue:n,error:a,className:s}){let i=(0,ei.useRef)(null),o=r&&!/^0x[a-fA-F0-9]{40}$/.test(r)?"Invalid address format":"",l=a||o,c=!!l;return(0,y.jsx)("div",{className:(0,K.cn)("relative w-full",s),children:(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)("input",{value:r,onChange:e=>{n?.(e.target.value)},ref:i,type:"text",disabled:e,className:(0,K.cn)(t?"bg-slate-50 cursor-not-allowed dark:bg-slate-800":"bg-white dark:bg-transparent","w-full h-14 text-right px-4 font-bold text-sm border-[#4A5546] border focus:border-2 text-slate-700 rounded-lg outline-hidden dark:text-slate-50",{"border-red-400 border-2! focus:border-red-400":c}),placeholder:"0x...",maxLength:42,title:"",readOnly:t}),c&&(0,y.jsx)("div",{className:"text-sm text-white bg-red-400 rounded-sm right-0 bottom-0 absolute px-1 translate-y-1/4",children:l})]})})}async function re(e,t,r=20,n=[3e4,5e3]){let a=(0,V.getChain)(e);if(!a)throw Error(`Unsupported chainId: ${e}`);let s=a.testnet?"https://scan-testnet.layerzero-api.com/v1":"https://scan.layerzero-api.com/v1",i=0;for(;i<r;){let e=n[i]??n[n.length-1];await new Promise(t=>setTimeout(t,e));try{let e=await fetch(`${s}/messages/tx/${t}`),n=(await e.json())?.data?.[0],a=n?.status;if(a&&("DELIVERED"===a.name||"COMPLETED"===a.name))return;if(a)throw Error(`${a.name}: ${a.message}`);console.log(`Try ${i+1}/${r}: Status ${a?.name}`)}catch(e){console.error("waitLayerZeroSend:",e)}i++}throw Error("Check transaction status timed out")}let rt={[V.arbitrum.id]:30110,[V.arbitrumSepolia.id]:40231,[V.bsc.id]:30102,[V.bscTestnet.id]:40102},rr={[`${V.arbitrumSepolia.id}:0xad763df2355142dc944f24aeffdb7b1a6bf917f7`]:"0xB13038Dafc796A703A8204dD8559da1a0c27ae17",[`${V.arbitrum.id}:0x5e95358b73bafe88c8dc1350697c4cb2354c63cd`]:"0x33C42E171cFD7Ec85D3dB34D7f6d3D8121f64E63"};function rn({config:e,adapters:t}){let{address:r}=(0,ed.useAccount)(),[n,a]=e,[[s,i],o]=(0,ei.useState)([n,a]),l=V.SUPPORT_CHAINS.find(e=>e.id===s.chain),c=V.SUPPORT_CHAINS.find(e=>e.id===i.chain),[u,d]=(0,ei.useState)(""),[h,f]=(0,ei.useState)(""),m=h||r,p=(0,K.parseEthers)(u,s.decimals),x=(0,W.useBalance)(s),g=(e,t)=>(0,y.jsxs)("div",{className:"flex gap-3 relative p-4 items-center rounded-lg border border-slate-200 dark:border-slate-600 text-sm",children:[(0,y.jsx)("img",{src:e.iconUrl,className:"w-5 h-5 rounded-full"}),(0,y.jsx)("div",{className:"font-medium whitespace-nowrap",children:e.name}),(0,y.jsx)("div",{className:"absolute left-3 -top-2 bg-slate-200 dark:bg-slate-600 px-2 rounded-lg text-xs",children:t})]}),b=(t??rr)[`${s.chain}:${s.address.toLowerCase()}`]??s.address,v=async()=>{if(!r)return;let e=t3.newOptions().addExecutorLzReceiveOption(2e5,0).toHex().toString();return(0,A.getPC)(s.chain).readContract({abi:ex,address:b,functionName:"quoteSend",args:[{dstEid:rt[i.chain],to:(0,em.padHex)(r,{size:32}),amountLD:p,minAmountLD:p,extraOptions:e,composeMsg:"0x",oftCmd:"0x"},!1]})},{data:w}=(0,X.useQuery)({...(0,G.useCalcKey)(["fetbrigeTokenFee",s,i,p]),queryFn:v}),N=async({pc:e,wc:t})=>{let r=await v();if(!r)return[];let n=t3.newOptions().addExecutorLzReceiveOption(2e5,0).toHex().toString();return(0,j.withTokenApprove)({pc:e,user:t.account.address,approves:[{spender:b,token:s.address,amount:p}],tx:{abi:ex,address:b,functionName:"send",args:[{dstEid:rt[i.chain],to:(0,em.padHex)(m,{size:32}),amountLD:p,minAmountLD:p,extraOptions:n,composeMsg:"0x",oftCmd:"0x"},r,t.account.address],value:r.nativeFee}})};return(0,y.jsx)(t7.ConfigChainsProvider,{chains:[s.chain],children:(0,y.jsxs)("div",{className:"flex flex-col gap-4 text-sm w-full",children:[(0,y.jsxs)("div",{className:"animitem grid items-center gap-x-2 gap-y-4 relative",children:[g(l,"From"),g(c,"To"),(0,y.jsx)("div",{className:"cursor-pointer bg-slate-200 dark:bg-slate-600 absolute left-1/2 top-1/2 hover:scale-110 transition p-2 -translate-x-1/2 -translate-y-1/2 rounded-xl",onClick:()=>o([i,s]),children:(0,y.jsx)(eo.FaArrowDown,{className:"text-lg"})})]}),(0,y.jsx)("div",{className:"animitem",children:"Token"}),(0,y.jsx)(ep.AssetInput,{className:"animitem",asset:s.symbol,amount:u,setAmount:d,balance:x.result}),(0,y.jsx)("div",{className:"animitem",children:"To"}),(0,y.jsx)(t9,{className:"animitem",value:m,setValue:f}),(0,y.jsxs)("div",{className:"animitem",children:["Fee: ",(0,J.displayBalance)(w?.nativeFee,void 0,l.nativeCurrency.decimals)," ",l.nativeCurrency.symbol]}),(0,y.jsx)("div",{className:"animitem w-full",children:(0,y.jsx)(j.Txs,{tx:"Bridge",beforeTxSuccess:e=>re(s.chain,e[e.length-1]),onTxSuccess:()=>d(""),disabled:!m||!(0,ef.isAddress)(m),className:"w-full",txs:N})})]})})}var ra=e.i(30951);function rs({fees:e,def:t="-"}){let r="string"==typeof e,n=r?0:e.reduce((e,t)=>e+t.value,0);return(0,y.jsxs)("div",{className:"flex gap-2 text-xs font-medium leading-none",children:["Fees:",!r&&e.length>0?(0,y.jsx)(ra.Tip,{className:"underline underline-offset-2",contentClassName:"whitespace-pre-wrap",node:`$${(0,Q.round)(n,3)}`,children:e.map(e=>`${e.name}: ${(0,Q.round)(e.value,3)}`).join("\n\r")}):(0,y.jsx)("div",{children:r&&e||t})]})}var ri=e.i(147763),ro=e.i(59084),rl=e.i(570963);function rc({vc:e}){let t=e.buybackPool??e.vault,{address:r}=(0,ed.useAccount)(),n=(0,q.useLntVault)(e),a=(0,T.getTokenBy)(n.result.T,e.chain,{symbol:"T"}),s=(0,T.getTokenBy)(n.result.VT,e.chain,{symbol:"VT"}),i=(0,W.useBalance)(s),[o,l]=(0,ei.useState)(),c=(0,K.parseEthers)(o||"0",s.decimals),u=(0,Z.useFet)({key:`BuybackDatas:${e.vault}`,fetfn:async()=>{let r=(0,A.getPC)(e.chain),n=await r.readContract({abi:N.abiZeroGLntBuyback,address:t,functionName:"stakingTokenPotCount"}),a=(0,ro.range)(function(e,t=0,r){return Number.parseInt(e,t)}(n.toString())).map(e=>BigInt(e));return(0,K.promiseAll)({pots:Promise.all(a.map(e=>r.readContract({abi:N.abiZeroGLntBuyback,address:t,functionName:"stakingTokenPots",args:[e]}))),buybackDustAmountVT:r.readContract({abi:N.abiZeroGLntBuyback,address:t,functionName:"buybackDustAmountVT"}),minStakeAmountVT:r.readContract({abi:N.abiZeroGLntBuyback,address:t,functionName:"minStakeAmountVT"}),VestingRate:r.readContract({abi:N.abiLntVault,address:e.vault,functionName:"paramValue",args:[(0,I.toHex)("VestingRate",{size:32})]})})}}),d=u.result?.pots??[],h=(0,K.aarToNumber)(u.result?.VestingRate??0n,18),f=`Conversion ratio : 1 ${s.symbol} = ${(0,Q.round)(1-h,2)} ${a.symbol}`,m=u.result?.buybackDustAmountVT??0n,p=u.result?.minStakeAmountVT??0n,x=(0,Z.useFet)({key:d.length?`pendingSale:${e.vault}`:"",initResult:0n,fetfn:async()=>(0,A.getPC)(e.chain).readContract({abi:N.abiZeroGLntBuyback,address:t,functionName:"totalStakingAmountVT",args:[d[d.length-1]]})}),g=(0,Z.useFet)({key:d.length&&r?`BuybackUserPending:${e.vault}:${r}`:"",initResult:0n,fetfn:async()=>(0,A.getPC)(e.chain).readContract({abi:N.abiZeroGLntBuyback,address:t,functionName:"userStakingAmountVT",args:[d[d.length-1],r]})}),b=(0,Z.useFet)({key:d.length&&r?`BuybackUserSetteld:${e.vault}:${r}`:"",initResult:0n,fetfn:async()=>{let n=(0,A.getPC)(e.chain);return(await Promise.all(d.map(e=>n.readContract({abi:N.abiZeroGLntBuyback,address:t,functionName:"boughtAmountT",args:[e,r]})))).reduce((e,t)=>e+t,0n)}}),v=async({pc:e,wc:r})=>{if(c<p)throw Error("Stake amount too small");if(c>i.result)throw Error("Balance too low");return(0,j.withTokenApprove)({pc:e,user:r.account.address,approves:[{spender:t,token:s.address,amount:c}],tx:{abi:N.abiZeroGLntBuyback,address:t,functionName:"stake",args:[c]}})},w=async({pc:e,wc:r})=>{if(c>g.result)throw Error("Input amount too large");return[{abi:N.abiZeroGLntBuyback,address:t,functionName:"withdraw",args:[d[d.length-1],c]}]},E=async({pc:e,wc:n})=>(await Promise.all(d.map(n=>e.readContract({abi:N.abiZeroGLntBuyback,address:t,functionName:"boughtAmountT",args:[n,r]})))).map((e,t)=>({bought:e,pot:d[t]})).filter(e=>e.bought>100n).map(e=>({abi:N.abiZeroGLntBuyback,address:t,functionName:"claimBoughtT",args:[e.pot]}));return(0,y.jsxs)("div",{className:"flex flex-col gap-4 w-full text-sm",children:[(0,y.jsxs)("div",{className:"animitem text-sm font-semibold",children:["You can gradually convert VT to T here. ",(0,y.jsx)(ea.default,{href:"https://docs.zoofi.io/lnt-vault/product-design/how-does-lnt-work/vt-value-anchoring",target:"_blank",className:"underline underline-offset-2",children:"Read more"})]}),(0,y.jsxs)("div",{className:"animitem flex flex-wrap justify-between items-center gap-x-5",children:[(0,y.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,y.jsx)("div",{children:"Next batch"}),(0,y.jsx)(ri.CoinIcon,{size:14,symbol:s.symbol}),(0,y.jsx)("div",{className:"font-medium",children:(0,J.displayBalance)(m,void 0,s.decimals)})]}),(0,y.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,y.jsx)("div",{children:"Total Request"}),(0,y.jsx)("div",{className:"font-medium",children:(0,J.displayBalance)(x.result,void 0,s.decimals)}),(0,y.jsx)(ra.Tip,{children:"If the amount of VT in the pool exceeds the rewards for the current batch, participating users will receive settlement on a pro-rata basis. The remaining VT will continue to wait for the next batch of redemption until fully converted."})]})]}),(0,y.jsx)(ep.AssetInput,{className:"animitem",asset:s.symbol,decimals:s.decimals,amount:o,setAmount:l,balance:i.result,checkBalance:!1,otherInfo:(0,y.jsxs)("div",{className:"flex items-center gap-2",children:[(0,y.jsxs)("span",{children:["Pending : ",(0,J.displayBalance)(g.result,void 0,s.decimals)]}),(0,y.jsx)("button",{className:"text-primary ml-2",onClick:()=>l((0,rl.formatUnits)(g.result,s.decimals)),children:"Max"})]})}),(0,y.jsxs)("div",{className:"animitem text-center",children:[f," ",(0,y.jsx)(ra.Tip,{children:"The conversion ratio here is not 1:1 (including protocol service fee). Users can choose to accept it or wait until maturity for a 1:1 redemption(no service fee)"})]}),(0,y.jsxs)("div",{className:"animitem gap-4 grid grid-cols-[repeat(auto-fill,minmax(160px,1fr))]",children:[(0,y.jsx)(j.Txs,{tx:"Request",disabled:c<=0n,txs:v}),(0,y.jsx)(j.Txs,{tx:"Withdraw",disabled:c<=0n,txs:w}),(0,y.jsxs)("div",{className:"flex justify-center items-center",children:["Settled: ",(0,J.displayBalance)(b.result,void 0,a.decimals)]}),(0,y.jsx)(j.Txs,{tx:"Claim",disabled:0n==b.result,txs:E})]})]})}var ru=e.i(37310),rd=e.i(186680),rh=e.i(599457),rf=e.i(804907),rm=e.i(928348);function rp(e){return"number"==typeof e||e instanceof Number}var rx=e.i(95377);function rg(e,t=0){return(0,rx.decimalAdjust)("round",e,t)}var rb=e.i(719817);function ry({className:e,btnClassName:t,subClassName:r,addClassName:n,numClassName:a,value:s=0,step:i=1,min:o,max:l,integer:c=!0,decimals:u=2,title:d,onChange:h}){let f=e=>{let t=rg(e,c?0:u);return rp(o)&&t<o&&(t=o),rp(l)&&t>l&&(t=l),t},m=e=>{h?.(f(e))},p=f(s);return(0,y.jsxs)("div",{className:(0,K.cn)("flex gap-5 justify-center items-center select-none",e),children:[(0,y.jsx)("div",{className:(0,K.cn)("shrink-0 text-4xl rounded-lg hover:bg-primary/20 cursor-pointer dark:text-white",t,r),onClick:()=>m((p??0)-i),children:(0,y.jsx)(rb.IoIosRemove,{})}),(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)("input",{className:(0,K.cn)("h-14 w-14 text-center font-bold text-lg border-[#4A5546] border focus:border-2 text-slate-700 rounded-lg outline-hidden dark:text-slate-50","shrink-0 bg-white dark:bg-transparent border-slate-400  focus:border-primary",a),type:"number",value:p,onChange:e=>{let t=((e,t=0)=>{try{return(0,en.toNumber)(e)}catch(e){return t}})(e.target.value),r=c?rg(t):t;h?.(r),m(r)}}),!!d&&(0,y.jsx)("div",{className:"font-medium text-xs text-center absolute top-full leading-5 opacity-80",children:d})]}),(0,y.jsx)("div",{className:(0,K.cn)("shrink-0 text-4xl rounded-lg hover:bg-primary/20 cursor-pointer dark:text-white",t,n),onClick:()=>m((p??0)+i),children:(0,y.jsx)(rb.IoIosAdd,{})}),rp(l)&&(0,y.jsx)("div",{className:"shrink-0 text-xs font-medium cursor-pointer dark:text-white",onClick:()=>m(l),children:"Max"})]})}var rv=e.i(287336);function rw({vc:e,onSuccess:t}){let r=(0,q.useLntVault)(e),n=r.result?.aVT??0n,[a,s]=(0,el.useSetState)({}),i=(0,et.keys)(a).filter(e=>a[e]).map(e=>BigInt(e)),o=e.deposit?.chain??e.chain,l=e.deposit?.vault??e.vault,c=(0,W.useErc721Balance)(o,r.result.NFT,e.nftBalanceBy),u=(0,T.getTokenBy)(r.result.VTbyDeposit??r.result.VT,o,{symbol:"VT"}),d=(0,T.getTokenBy)(r.result.YT,o,{symbol:"YT"}),{data:h}=(0,X.useQuery)({...(0,G.useCalcKey)(["calcLntDeposit",o,i]),initialData:0n,queryFn:async()=>0==i.length?0n:(0,A.getPC)(o).readContract({abi:N.abiQueryLNT,code:E.codeQueryLNT,functionName:"calcDeposit",args:[l,i]})}),f=async({pc:t,wc:r})=>{let n=[];return await t.readContract({abi:C.erc721Abi,address:e.asset,functionName:"isApprovedForAll",args:[r.account.address,l]})||(await Promise.all(i.map(r=>t.readContract({abi:C.erc721Abi,address:e.asset,functionName:"getApproved",args:[r]})))).forEach((t,r)=>{(0,B.isAddressEqual)(t,e.vault)||n.push({abi:C.erc721Abi,address:e.asset,functionName:"approve",args:[l,i[r]],name:`Approve #${i[r].toString()}`})}),[...n,{name:"Deposit",abi:N.abiLntVault,address:l,functionName:e.deposit?.fnDepoist??"batchDeposit",enabled:i.length>0,args:e.isAethir||e.isZeroG?[i]:[i,i.map(()=>1n)]}]};return(0,y.jsxs)("div",{className:"flex flex-col gap-5 items-center p-5",children:[(0,y.jsx)("div",{className:"w-full text-start",children:"Licenses ID"}),(0,y.jsx)("div",{className:"w-lg h-72 overflow-y-auto",children:(0,y.jsx)("div",{className:"w-full gap-2 grid grid-cols-4 ",children:c.result.map(e=>(0,y.jsxs)("div",{className:(0,K.cn)("flex gap-1 items-center cursor-pointer",{"text-primary":a[e.toString()]}),onClick:()=>{a[e.toString()]?s({[e.toString()]:!1}):i.length>=30?eu.toast.error("Up to 30"):s({[e.toString()]:!0})},children:[(0,y.jsx)("div",{className:(0,K.cn)("w-3 h-3 border border-black/20 bg-[#EBEBEB] rounded-full",{"bg-primary":a[e.toString()]})}),"#",e.toString()]},e.toString()))})}),(0,y.jsx)(rm.BBtn,{className:"",onClick:()=>{if(i.length>=30)eu.toast.error("Up to 30");else{let e={};c.result.filter(e=>!a[e.toString()]).slice(0,30-i.length).forEach(t=>{e[t]=!0}),console.info("onClickAll:",e,a,i),s(e)}},children:"Select All"}),(0,y.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,y.jsx)("div",{className:"w-full",children:"Receive"}),(0,y.jsx)(ep.AssetInput,{asset:u.symbol,loading:!1,disable:!0,amount:(0,K.fmtBn)(h,u.decimals)}),e.ytEnable&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"w-full text-center",children:"And"}),(0,y.jsx)(ep.AssetInput,{asset:d.symbol,loading:!1,disable:!0,amount:(0,K.fmtBn)(H.DECIMAL*BigInt(i.length),d.decimals)})]})]}),(0,y.jsxs)("div",{className:"text-sm opacity-60 text-center flex justify-between gap-5 w-full",children:[(0,y.jsx)("div",{className:"text-left",children:e.isZeroG?`Get ${(0,J.displayBalance)(n,void 0,u.decimals)} ${u.symbol} immediately Remaining portion will be distributed on BSC`:`1 License = ${(0,J.displayBalance)(r.result?.aVT??0n,void 0,u.decimals)} ${u.symbol}`}),(0,y.jsx)("div",{children:`Operation Fees : ${e.depositFees??"5%"}`})]}),(0,y.jsx)(t7.ConfigChainsProvider,{chains:[o],children:(0,y.jsx)(j.Txs,{tx:"Deposit",onTxSuccess:()=>{let e={};i.forEach(t=>{e[t.toString()]=!1}),s(e),(0,Z.reFet)(c.key,r.key),t()},disabled:0==i.length,txs:f})})]})}function rN({vc:e,onSuccess:t}){let r=(0,q.useLntVault)(e),n=e.deposit?.chain??e.chain,a=e.deposit?.vault??e.vault,s=(0,T.getTokenBy)(r.result.VTbyDeposit??r.result.VT,n,{symbol:"VT"}),i=(0,T.getTokenBy)(r.result.YT,n,{symbol:"YT"}),o=(0,W.useBalance)(e.ytEnable?i:void 0),l=(0,W.useBalance)(s),c=(0,ee.floor)((0,en.toNumber)((0,K.fmtBn)(o.result,i.decimals))),u=r.result?.aVT??0n,d=(0,en.toNumber)((u>0n?l.result/u:0n).toString()),h=(0,en.toNumber)((r.result?.activeDepositCount??0n).toString()),[f,m]=(0,ei.useState)(0),p=e.ytEnable?er([c,d,h]):er([d,h]),x=(r.result?.aVT??0n)*BigInt(f),g=(0,q.useLntVaultWithdrawState)(e);return(0,y.jsxs)("div",{className:"flex flex-col gap-5 items-center p-5",children:[(0,y.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,y.jsx)("div",{className:" w-full",children:"Input:"}),e.ytEnable&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(ep.AssetInput,{asset:i.symbol,disable:!0,amount:f.toString(),balance:o.result}),(0,y.jsx)("div",{className:"w-full",children:"Pair With"})]}),(0,y.jsx)(ep.AssetInput,{asset:s.symbol,disable:!0,amount:(0,K.fmtBn)(x,s.decimals),balance:l.result}),(0,y.jsx)("div",{className:"mt-4 text-sm opacity-60 text-center",children:`1 License = ${(0,J.displayBalance)(r.result?.aVT??0n,void 0,s.decimals)} ${s.symbol}`}),!g.inWindow&&g.nWindow&&(0,y.jsxs)("div",{className:"text-sm opacity-60 text-center",children:["The next withdraw window is from ",(0,K.fmtDate)(1000n*g.nWindow.startTime)," to ",(0,K.fmtDate)((g.nWindow.startTime+g.nWindow.duration)*1000n),"."]})]}),(0,y.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,y.jsx)("div",{className:"w-full",children:"Receive:"}),(0,y.jsx)(ry,{title:"Licenses",min:0,max:p,value:f,onChange:m})]}),(0,y.jsx)(t7.ConfigChainsProvider,{chains:[n],children:(0,y.jsx)(j.Txs,{tx:"Withdraw",className:"mt-6",onTxSuccess:()=>{t()},disabled:f<=0||p<=0||f>p||x<0n||x>l.result||!g.inWindow,txs:[{abi:N.abiLntVault,address:a,functionName:e.deposit?.fnRedeem??"batchRedeem",args:[BigInt(f)]}]})})]})}function rE({vc:e}){let t=(0,q.useLntVaultOperators)(e);return(0,y.jsx)("div",{className:"animitem card",children:(0,y.jsx)(rh.default,{header:["Operator","Address","Delegted","Fill rate(7d)","Status"],data:t.result.map((e,t)=>[`Operator${t+1}`,(0,K.shortStr)(e.address),`${e.delegations.toString()}`,`${e.capacity>0n?(0,K.fmtPercent)(e.delegations*H.DECIMAL/e.capacity,18,2):"100%"}`,(0,y.jsx)("div",{className:"px-2 py-1 rounded-xl bg-green-400 w-fit text-white dark:text-black",children:"Active"},"status")])})})}function rT({vc:e}){let t=(0,es.useRouter)(),r=(0,q.useLntVault)(e),n=(0,q.useLntVaultLogs)(e),a="flex flex-col gap-1 font-medium text-sm shrink-0 justify-center",s="opacity-60 text-xs font-semibold",i=(0,q.useVTTotalSupply)(e),o=(0,T.getTokenBy)(r.result?.T,e.chain,{symbol:"T"}),{remainStr:l,endTimeStr:c}=(0,q.useLntVaultTimes)(e),u=(0,Y.useCurrentChain)(),d=(0,q.calcVtApy)(e,r.result,n.result);return(0,y.jsx)("div",{className:(0,K.cn)("animitem  card rounded-2xl overflow-hidden flex p-6 items-center gap-5 justify-between cursor-pointer overflow-x-auto",{}),onClick:()=>(0,v.toLntVault)(t,e.vault),children:(0,y.jsxs)("div",{className:"w-full min-w-max gap-4 grid grid-cols-[2.3fr_1.3fr_1fr_1fr_1.4fr_1fr]",children:[(0,y.jsxs)("div",{className:"flex items-center gap-2.5 shrink-0",children:[(0,y.jsx)(ri.CoinIcon,{symbol:e.projectIcon,size:40}),(0,y.jsx)("span",{className:"text-sm font-semibold",children:e.tit}),(0,y.jsx)(ru.Badge,{text:"Testnet",className:(0,K.cn)("opacity-0 absolute left-0 top-0",{"opacity-100":u.testnet||e.test})})]}),(0,y.jsx)("div",{className:a,children:e.isLVT?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:s,children:"Total Locked"}),(0,y.jsx)("div",{children:(0,J.displayBalance)(r.result?.activeDepositCount??0n,void 0,o?.decimals)})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:s,children:"Total Deposited"}),(0,y.jsx)("div",{children:(0,J.displayBalance)(r.result?.activeDepositCount??0n,0,0)})]})}),(0,y.jsxs)("div",{className:a,children:[(0,y.jsx)("div",{className:s,children:"VT Supply"}),(0,y.jsx)("div",{children:(0,J.displayBalance)(i)})]}),(0,y.jsxs)("div",{className:(0,K.cn)(a,"items-center"),children:[(0,y.jsx)("div",{className:s,children:"VT Apy"}),(0,y.jsx)("div",{children:(0,K.formatPercent)(d,2,!1)})]}),(0,y.jsxs)("div",{className:(0,K.cn)(a,"items-center"),children:[(0,y.jsx)("div",{className:s,children:"Due Date"}),r?(0,y.jsxs)("div",{className:"relative whitespace-nowrap",children:[c,(0,y.jsx)("span",{className:"opacity-60 text-xs absolute top-full left-1/2 -translate-x-1/2",children:l})]}):"-"]}),(0,y.jsxs)("div",{className:(0,K.cn)(a,"items-center"),children:[(0,y.jsx)("div",{className:s,children:"State"}),(0,y.jsx)("div",{children:r?r.result?.closed?"Closed":"Active":"-"})]})]})})}function rj({vc:e}){let t=(0,ei.useRef)(null),r=(0,ei.useRef)(null),n=(0,q.useLntVault)(e),a=(0,T.getTokenBy)(n.result.VT,e.chain,{symbol:"VT"}),s=n.result?.aVT??0n;return(0,y.jsxs)("div",{className:" flex flex-col h-full justify-between shrink-0 gap-6 w-full md:w-fit",children:[(0,y.jsxs)("div",{className:"flex items-center text-sm justify-center whitespace-nowrap",children:[(0,y.jsx)("span",{className:"",children:"Total Deposited"}),(0,y.jsx)("span",{className:"ml-8 text-base font-bold",children:(0,J.displayBalance)(n.result.activeDepositCount,0,0)}),(0,y.jsx)("span",{className:"opacity-50 ml-1",children:"Licenses"})]}),(0,y.jsxs)("div",{className:"flex flex-col gap-5 justify-between lg:px-8 my-auto",children:[(0,y.jsx)(rd.SimpleDialog,{triggerRef:t,trigger:(0,y.jsx)(rm.BBtn,{className:"shrink-0",children:"Deposit"}),children:(0,y.jsx)(rw,{vc:e,onSuccess:()=>t.current?.click()})}),!e.disWithdrawNFT&&(0,y.jsx)(rd.SimpleDialog,{triggerRef:r,trigger:(0,y.jsx)(rm.BBtn,{className:"shrink-0",children:"Withdraw"}),children:(0,y.jsx)(rN,{vc:e,onSuccess:()=>r.current?.click()})}),e.isZeroG?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"text-sm text-center",children:["1 License = 854.7 v0G (Max) ",(0,y.jsxs)(ra.Tip,{children:["Get ",(0,J.displayBalance)(s,void 0,a.decimals)," ",a.symbol," immediately",(0,y.jsx)("br",{}),"Remaining portion will be",(0,y.jsx)("br",{}),"distributed on BSC"]})]}),(0,y.jsxs)("div",{className:"flex flex-col items-center text-sm",children:[(0,y.jsxs)("span",{children:["Claimable : - ",a.symbol]}),(0,y.jsx)(j.Txs,{tx:"Claim",txs:[]})]})]}):(0,y.jsx)("div",{className:"mt-4 text-sm opacity-60 text-center",children:`1 License = ${(0,J.displayBalance)(s,void 0,a.decimals)} ${a.symbol}`})]})]})}function rA({vc:e}){let{progress:t,remainStr:r}=(0,q.useLntVaultTimes)(e),n=(0,q.useLntVault)(e),a=(0,T.getTokenBy)(n.result.T,e.chain,{symbol:"T"});return(0,y.jsxs)("div",{style:{backdropFilter:"blur(20px)"},className:"animitem card bg-white flex gap-5 h-full col-span-2 flex-wrap justify-center md:flex-nowrap",children:[(0,y.jsxs)("div",{className:"flex flex-col",children:[(0,y.jsxs)("div",{className:"flex gap-5 relative justify-center flex-wrap md:flex-nowrap",children:[(0,y.jsx)("div",{className:"text-[40px] lg:text-[160px] shrink-0 absolute left-0 top-0 lg:relative",children:(0,y.jsx)(ri.CoinIcon,{symbol:e.icon,size:"1em",className:"object-contain"})}),(0,y.jsxs)("div",{className:"flex flex-col whitespace-nowrap gap-5 h-full text-sm font-medium",children:[(0,y.jsxs)("div",{className:"flex justify-between gap-5 flex-wrap",children:[(0,y.jsx)("div",{className:"pl-12 leading-10 lg:pl-0 lg:leading-normal text-base font-semibold",children:e.tit}),(0,y.jsx)("div",{})]}),(0,y.jsx)("div",{className:"opacity-60 text-sm font-medium leading-normal whitespace-pre-wrap",children:e.info})]})]}),(0,y.jsxs)("div",{className:"my-4 flex justify-between opacity-60 mt-auto",children:["Duration ",(0,y.jsx)("span",{children:r})]}),(0,y.jsx)(rv.ProgressBar,{progress:t})]}),e.isLVT?(0,y.jsxs)("div",{className:"flex flex-col h-full items-center justify-between shrink-0 gap-2 md:gap-10 w-full pt-5 my-auto md:pt-10 px-5 md:px-10 md:w-fit",children:[(0,y.jsx)("span",{className:"",children:"Total Locked"}),(0,y.jsxs)("div",{className:"font-bold",children:[" ",(0,J.displayBalance)(n.result?.activeDepositCount,void 0,a.decimals)]}),(0,y.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,y.jsx)(ri.CoinIcon,{symbol:a.symbol,size:20}),a.symbol]})]}):(0,y.jsx)(rj,{vc:e})]})}function rk({vc:e,type:t}){let r=(0,q.useLntVault)(e),n=(0,q.useLntVaultLogs)(e),[a,s]=(0,ei.useState)(e.isIdle?"1":""),i=(0,K.parseEthers)(a),[o,l]=(0,ec.useToggle)(!0),c=(0,T.getTokenBy)(r.result.T,e.chain,{symbol:"T"}),u=(0,T.getTokenBy)(r.result.VT,e.chain,{symbol:"VT"}),d=(0,T.getTokenBy)(r.result.YT,e.chain,{symbol:"YT"}),h="vt"==t?u:d,f=o?h:c,m=o?c:h,p=(0,W.useBalance)(f),x=(0,W.useBalance)(m),[g,b]=(0,ei.useMemo)(()=>(0,K.uniSortTokens)([r.result.T,r.result.VT]),[r.result]),v=(0,q.useLntHookPoolkey)(e),w=(0,B.isAddressEqual)(f.address,g),{data:E,isFetching:k}=(0,X.useQuery)({...(0,G.useCalcKey)([`calcKey:swapVTYT:${t}`,a,w,e.chain,v.result,o]),initialData:0n,queryFn:async()=>{if("yt"==t)return 0n;let n=(0,A.getPC)(e.chain);return r.result&&!(i<=0n)&&v.result?(console.info("vd:",r.result),n.readContract({abi:N.abiLntVTSwapHook,address:r.result.vtSwapPoolHook,functionName:o?"getAmountOutVTforT":"getAmountOutTforVT",args:[i]})):0n}}),S="-";n.result&&n.result.Feerate>H.DECIMAL&&(S=`${(0,K.fmtPercent)(n.result.Feerate-H.DECIMAL,18,3)}`);let _="-",C="-",O=0,R=0;if("vt"==t){let t=(0,q.calcTPriceVT)(e,r.result,n.result);if(t>0){let a=(0,q.calcTPriceVT)(e,r.result,n.result,o?-E:i,o?i:-E);_=o?`1 ${u.symbol} = ${(0,Q.round)(1/t,2)} ${c.symbol}`:`1 ${c.symbol} = ${(0,Q.round)(t,2)} ${u.symbol}`,t>0&&(C=(0,K.formatPercent)(Math.abs(a-t)/t)),console.info("SwapVT:",t,a,O=(0,q.calcVtApy)(e,r.result,n.result),R=(0,q.calcVtApy)(e,r.result,n.result,o?-E:i,o?i:-E))}}let I="vt"!=t||i<=0n||i>p.result||E<=0n||!v.result;return(0,y.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,y.jsx)(ep.AssetInput,{asset:f.symbol,disable:e.isIdle,balance:p.result,amount:a,setAmount:s}),(0,y.jsx)(rm.Swap,{onClick:()=>l()}),(0,y.jsx)(ep.AssetInput,{checkBalance:!1,asset:m.symbol,balance:x.result,loading:k,disable:!0,amount:(0,K.fmtBn)(E,m.decimals)}),(0,y.jsxs)("div",{className:"flex justify-between items-center text-xs font-medium gap-2 flex-wrap",children:[(0,y.jsxs)("div",{children:["Price: ",_]}),(0,y.jsxs)("div",{children:["Price Impact: ",C]})]}),(0,y.jsxs)("div",{className:"flex justify-between items-center text-xs font-medium opacity-60 gap-2 flex-wrap",children:[(0,y.jsxs)("div",{className:"whitespace-nowrap",children:["Implied APY Change: ",(0,K.formatPercent)(O),"  ",(0,K.formatPercent)(R)]}),(0,y.jsx)(rs,{fees:S})]}),(0,y.jsx)(j.Txs,{className:"w-full mx-auto mt-4",tx:e.isIdle?"Coming Soon":"Swap",disabled:I||e.isIdle,txs:({wc:t})=>z({user:t.account.address,approveName:`Approve ${f.symbol}`,executeName:`Swap ${f.symbol} for ${m.symbol}`,chainId:e.chain,poolkey:v.result,amountIn:i,is0To1:w}),onTxSuccess:()=>{s(""),(0,Z.reFet)(r.key,p.key,x.key)}})]})}function rS({vc:e,type:t}){let{address:r}=(0,ed.useAccount)(),n=(0,q.useLntVault)(e),a=(0,q.useLntHookPoolkey)(e),s=(0,T.getTokenBy)(n.result.T,e.chain,{symbol:"T"}),i=(0,T.getTokenBy)(n.result.VT,e.chain,{symbol:"VT"}),o=(0,T.getTokenBy)(n.result.YT,e.chain,{symbol:"YT"}),[l,c]=(0,ei.useState)(""),u=(0,K.parseEthers)(l),[d,h]=(0,ei.useState)(""),f=(0,K.parseEthers)(d),m="vt"==t?i:o,p="vt"==t?(0,T.getTokenBy)(n.result.vtSwapPoolHook,e.chain,{symbol:"lpTVT"}):(0,T.getTokenBy)(e.lpTYT,e.chain,{symbol:"lpTYT"}),[x,g]=(0,ei.useMemo)(()=>(0,K.uniSortTokens)([n.result.T,"vt"==t?n.result.VT:n.result.YT]),[t,n.result]),b=(0,B.isAddressEqual)(x,s.address),v=(0,W.useBalance)(s),w=(0,W.useBalance)(m),[E,k]=(0,ei.useState)(["calcLPAdd"]),S=(0,ei.useMemo)(()=>(function(e,t,{signal:r,edges:n}={}){let a,s=null,i=null!=n&&n.includes("leading"),o=null==n||n.includes("trailing"),l=()=>{null!==s&&(e.apply(a,s),a=void 0,s=null)},c=null,u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,o&&l(),d()},300)},d=()=>{null!==c&&(clearTimeout(c),c=null),a=void 0,s=null},h=function(...e){if(r?.aborted)return;a=this,s=e;let t=null==c;u(),i&&t&&l()};return h.schedule=u,h.cancel=d,h.flush=()=>{l()},r?.addEventListener("abort",d,{once:!0}),h})((e,t)=>{console.info("setCalcKey:",e,t,b),k([e,t,"calcLPAdd",b])},0),[b]),{data:[_,O,R],isFetching:L}=(0,X.useQuery)({queryKey:E,staleTime:0,initialData:[0n,0n,0n],throwOnError:(e,t)=>(console.error(e),!1),queryFn:async({queryKey:r})=>{let a=[0n,0n,0n];if(r.length<=1)return a;let o=(0,A.getPC)(e.chain),l=r[0],u=r[1];if(console.info("calcLPAdd1:",l,u),"vt"!=t)return a;{let[e,t,r]=await Promise.all([o.readContract({abi:N.abiLntVTSwapHook,address:n.result.vtSwapPoolHook,functionName:"reserve0"}),o.readContract({abi:N.abiLntVTSwapHook,address:n.result.vtSwapPoolHook,functionName:"reserve1"}),o.readContract({abi:C.erc20Abi,address:n.result.vtSwapPoolHook,functionName:"totalSupply"})]);console.info("liq0,liq1:",(0,K.fmtBn)(e),(0,K.fmtBn)(t)),a=0n==e||0n==t?[u,u,u]:l?[u*r/e,u,u*t/e]:[u*r/t,u*e/t,u]}return console.info("calcLPAdd2:",l,b,u,a),b?(c((0,K.fmtBn)(a[1],s.decimals)),h((0,K.fmtBn)(a[2],i.decimals))):(c((0,K.fmtBn)(a[2],s.decimals)),h((0,K.fmtBn)(a[1],i.decimals))),a}}),P="vt"!==t||u<=0n||u>v.result||f<=0n||f>w.result,V=L&&u>0n,F=async()=>"yt"==t?$({chainId:e.chain,lp:n.result.vtSwapPoolHook,poolkey:a.result,liquidity:_,amount0Max:O,amount1Max:R}):(0,j.withTokenApprove)({approves:[{spender:n.result.vtSwapPoolHook,token:s.address,amount:u},{spender:n.result.vtSwapPoolHook,token:m.address,amount:f}],user:r,pc:(0,A.getPC)(e.chain),tx:{name:"Add Liquidity",abi:N.abiLntVTSwapHook,address:n.result.vtSwapPoolHook,functionName:"addLiquidity",args:[{amount0Desired:b?u:f,amount1Desired:b?f:u,amount0Min:0n,amount1Min:0n,deadline:(0,K.genDeadline)(),tickLower:-1e5,tickUpper:1e5,userInputSalt:(0,I.toHex)(0,{size:32})}]}});return(0,y.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,y.jsx)(ep.AssetInput,{asset:s.symbol,amount:l,balance:v.result,setAmount:e=>{S(b,(0,K.parseEthers)(e,s.decimals)),c(e)},error:""}),(0,y.jsx)(ep.AssetInput,{asset:m.symbol,amount:d,balance:w.result,setAmount:e=>{S(!b,(0,K.parseEthers)(e,m.decimals)),h(e)},error:""}),(0,y.jsx)("div",{children:"Receive"}),(0,y.jsx)(ep.AssetInput,{asset:p.symbol,loading:V,disable:!0,amount:(0,K.fmtBn)(_,p.decimals)}),(0,y.jsx)(j.Txs,{className:"mx-auto mt-4",tx:"Add",disabled:P,txs:F,onTxSuccess:()=>{c(""),h(""),S(!1,0n),(0,Z.reFet)(n.key,v.key,v.key)}})]})}function r_({vc:e,type:t}){let r=(0,q.useLntVault)(e),n=(0,q.useLntHookPoolkey)(e),[a,s]=(0,ei.useState)(""),i=(0,K.parseEthers)(a),o=(0,T.getTokenBy)(r.result.T,e.chain,{symbol:"T"}),l=(0,T.getTokenBy)(r.result.VT,e.chain,{symbol:"VT"}),c=(0,T.getTokenBy)(r.result.YT,e.chain,{symbol:"YT"}),u="vt"==t?(0,T.getTokenBy)(r.result.vtSwapPoolHook,e.chain,{symbol:"lpTVT"}):(0,T.getTokenBy)(e.lpTYT,e.chain,{symbol:"lpTYT"}),d="vt"==t?l:c,[h,f]=(0,ei.useMemo)(()=>(0,K.uniSortTokens)([r.result.T,"vt"==t?r.result.VT:r.result.YT]),[t,r.result]),m=(0,B.isAddressEqual)(h,o.address),p=(0,W.useBalance)(u),x=(0,W.useTotalSupply)(u),{data:[g,b],isFetching:v}=(0,X.useQuery)({...(0,G.useCalcKey)(["calcLpRemove",e.vault,i,m]),initialData:[0n,0n],queryFn:async()=>{if(i<=0n)return[0n,0n];let n=(0,A.getPC)(e.chain);if("yt"==t)return[0n,0n];let[a,s,o]=await Promise.all([n.readContract({abi:N.abiLntVTSwapHook,address:r.result.vtSwapPoolHook,functionName:"reserve0"}),n.readContract({abi:N.abiLntVTSwapHook,address:r.result.vtSwapPoolHook,functionName:"reserve1"}),n.readContract({abi:C.erc20Abi,address:r.result.vtSwapPoolHook,functionName:"totalSupply"})]);return 0n==a||0n==s?[0n,0n]:m?[i*a/o,i*s/o]:[i*s/o,i*a/o]}}),w="vt"!=t||i<=0n||i>p.result,E=x.result>0n?p.result*H.DECIMAL/x.result:0n,k=`Pool share: ${(0,K.fmtPercent)(E,u.decimals,2)}`;return(0,y.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,y.jsx)(ep.AssetInput,{asset:u.symbol,amount:a,balance:p.result,setAmount:s,error:"",otherInfo:k}),(0,y.jsx)("div",{children:"Receive"}),(0,y.jsx)(ep.AssetInput,{asset:o.symbol,loading:v&&i>0n,disable:!0,amount:(0,K.fmtBn)(g,o.decimals)}),(0,y.jsx)(ep.AssetInput,{asset:d.symbol,loading:v&&i>0n,disable:!0,amount:(0,K.fmtBn)(b,d.decimals)}),(0,y.jsx)(j.Txs,{className:"mx-auto mt-4",tx:"Remove",disabled:w,txs:()=>"yt"==t?$({chainId:e.chain,poolkey:n.result,lp:r.result.vtSwapPoolHook,liquidity:-i}):[{name:"Remove Liquidity",abi:N.abiLntVTSwapHook,address:r.result.vtSwapPoolHook,functionName:"removeLiquidity",args:[{liquidity:i,amount0Min:0n,amount1Min:0n,deadline:(0,K.genDeadline)(),tickLower:-1e5,tickUpper:1e5,userInputSalt:(0,I.toHex)(0,{size:32})}]}],onTxSuccess:()=>{s(""),(0,Z.reFet)(r.key,p.key)}})]})}function rC({vc:e}){let t=(0,q.useLntVault)(e),r=(0,q.useLntVaultLogs)(e),n=(0,q.calcVtApy)(e,t.result,r.result),a=(0,T.getTokenBy)(t.result.VT,e.chain,{symbol:"VT"}),s=(0,T.getTokenBy)(t.result.T,e.chain,{symbol:"T"}),{data:i}=(0,eh.useWalletClient)(),o=(0,q.useVTTotalSupply)(e),l=(0,es.useRouter)();return(0,y.jsxs)("div",{className:"flex flex-col gap-4 w-full",children:[(0,y.jsxs)("div",{className:"animitem card p-0! overflow-hidden w-full",children:[(0,y.jsxs)("div",{className:"flex p-5 bg-[#A3D395] gap-5 relative",children:[(0,y.jsx)(ri.CoinIcon,{size:48,symbol:a.symbol}),(0,y.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,y.jsx)("div",{className:"text-xl leading-6 text-black font-semibold",children:a.symbol}),(0,y.jsxs)("div",{className:"text-xs leading-none text-black/60 font-medium",children:["1 ",a.symbol," is equal to 1 ",s.symbol," at maturity"]})]}),e.deposit&&(0,y.jsxs)("div",{className:"text-sm text-black absolute top-5 right-5",children:[(0,y.jsx)("span",{onClick:()=>(0,v.toLntVault)(l,e.vault,"bridge"),className:"cursor-pointer underline underline-offset-2",children:"Bridge"})," "," to ",(0,V.getChain)(e.chain).name," first"]})]}),(0,y.jsxs)("div",{className:"flex whitespace-nowrap flex-wrap items-baseline justify-between px-2.5 pt-2 gap-2.5",children:[(0,y.jsxs)("div",{className:"flex justify-between gap-2.5 items-baseline",children:[(0,y.jsx)("div",{className:"text-lg font-medium",children:(0,K.formatPercent)(n)}),(0,y.jsx)("div",{className:"text-xs font-semibold opacity-60",children:"Fixed APY"})]}),(0,y.jsxs)("div",{className:"flex justify-between gap-2.5 items-baseline",children:[(0,y.jsx)("div",{className:"text-xs font-semibold opacity-60",children:"Circulation amount"}),(0,y.jsx)("div",{className:"text-lg font-medium",children:(0,J.displayBalance)(o,void 0,a.decimals)})]})]}),(0,y.jsx)("div",{className:"flex px-2 pb-4",children:(0,y.jsx)("button",{className:"btn-link ml-auto text-primary text-xs underline-offset-2",onClick:()=>{i?.watchAsset({type:"ERC20",options:a}).catch(K.handleError)},children:"Add to wallet"})})]}),(0,y.jsx)("div",{className:"animitem card p-4! min-h-[390px]",children:e.vtActive?(0,y.jsx)(rf.SimpleTabs,{listClassName:"p-0 gap-6 mb-4",triggerClassName:'text-base font-bold leading-none data-[state="active"]:text-black',data:[{tab:"Swap",content:(0,y.jsx)(rk,{vc:e,type:"vt"})},{tab:"Add Liquidity",content:(0,y.jsx)(rS,{vc:e,type:"vt"})},{tab:"Remove Liquidity",content:(0,y.jsx)(r_,{vc:e,type:"vt"})}]}):(0,y.jsx)("div",{className:"w-full py-[150px] text-center text-base font-semibold",children:"Swap Coming Soon"})})]})}function rB({vc:e}){let{data:t}=(0,eh.useWalletClient)(),r=(0,q.useLntVault)(e),n=(0,T.getTokenBy)(r.result.YT,e.chain,{symbol:"YT"}),a=(0,T.getTokenBy)(r.result.T,e.chain,{symbol:"T"});return(0,y.jsxs)("div",{className:"flex flex-col gap-4 w-full",children:[(0,y.jsxs)("div",{className:"animitem card p-0! overflow-hidden w-full",children:[(0,y.jsxs)("div",{className:"flex p-5 bg-[#F0D187] gap-5",children:[(0,y.jsx)(ri.CoinIcon,{size:48,symbol:n.symbol}),(0,y.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,y.jsx)("div",{className:"text-xl leading-6 text-black font-semibold",children:n.symbol}),(0,y.jsxs)("div",{className:"text-xs leading-none text-black/60 font-medium",children:["1 ",n.symbol," is equal to 1 ",a.symbol," at maturity"]})]})]}),(0,y.jsxs)("div",{className:"flex whitespace-nowrap items-baseline justify-between px-2.5 pt-2 gap-2.5",children:[(0,y.jsx)("div",{className:"text-lg font-medium",children:(0,K.formatPercent)(1)}),(0,y.jsx)("div",{className:"text-xs font-semibold opacity-60",children:"Fixed APY"}),(0,y.jsx)("div",{className:"text-xs font-semibold opacity-60 ml-auto",children:"Circulation amount"}),(0,y.jsx)("div",{className:"text-lg font-medium",children:(0,J.displayBalance)(0n)})]}),(0,y.jsx)("div",{className:"flex px-2 pb-4",children:(0,y.jsx)("button",{className:"btn-link ml-auto text-primary text-xs underline-offset-2",onClick:()=>{t?.watchAsset({type:"ERC20",options:n}).catch(K.handleError)},children:"Add to wallet"})})]}),(0,y.jsx)("div",{className:"animitem card p-4!",children:(0,y.jsx)(rf.SimpleTabs,{listClassName:"p-0 gap-6 mb-4",triggerClassName:'text-base font-bold leading-none data-[state="active"]:text-black',data:[{tab:"Swap",content:(0,y.jsx)(rk,{vc:e,type:"yt"})},{tab:"Add Liquidity",content:(0,y.jsx)(rS,{vc:e,type:"yt"})},{tab:"Remove Liquidity",content:(0,y.jsx)(r_,{vc:e,type:"yt"})}]})})]})}function rO({vc:e,tab:t}){let r=(0,es.useRouter)(),n=(0,q.useLntVault)(e),a=(0,T.getTokenBy)(n.result.VT,e.chain,{symbol:"VT"}),s=(0,T.getTokenBy)(n.result.VTbyDeposit,e.deposit?.chain,{symbol:"VT"}),i=[{tab:"Vesting Token",content:(0,y.jsx)(rC,{vc:e})},...e.ytEnable?[{tab:"Yield Token",content:(0,y.jsx)(rB,{vc:e})}]:[],...e.buyback?[{tab:"Put Option",content:(0,y.jsx)(rc,{vc:e})}]:[],...s?[{tab:"Bridge",content:(0,y.jsx)(rn,{config:[s,a]})}]:[]],o=i.find(e=>(0,K.tabToSearchParams)(e.tab)===t)?.tab;return(0,y.jsx)("div",{className:"animitem card bg-white",children:(0,y.jsx)(rf.SimpleTabs,{currentTab:o,onTabChange:t=>(0,v.toLntVault)(r,e.vault,t),listClassName:"p-0 gap-4 mb-4 w-full",triggerClassName:e=>'text-lg font-semibold leading-none data-[state="active"]:underline underline-offset-2',data:i})})}function rR({vc:e}){let{address:t}=(0,ed.useAccount)();if("0G AI Alignment Node"!==e.tit||!e.isZeroG||!e.test)return null;let r=async()=>[{abi:w.abiMockERC721,address:e.asset,functionName:e.test?"safeMint":"mint",args:[t]}];return(0,y.jsxs)("div",{className:"flex justify-end items-center gap-5 lg:gap-10 text-sm lg:text-base",children:[e.test&&(0,y.jsxs)(ea.default,{href:"https://faucet.0g.ai/",target:"_blank",className:"flex items-center gap-2 underline underline-offset-2",children:[(0,y.jsx)(ri.CoinIcon,{symbol:"ZeroG",size:32,className:"object-contain"}),"Faucet"]}),(0,y.jsx)(j.Txs,{tx:"Mint Test Node",className:"w-[180px]",txs:r,disabled:!t})]})}function rI({vc:e}){return e.isAethir?(0,y.jsxs)("div",{className:"flex justify-end items-center gap-5 lg:gap-10 text-sm lg:text-base",children:[(0,y.jsxs)(ea.default,{href:"https://youtu.be/mK2ZBujbuR4",target:"_blank",className:"flex items-center gap-2 underline underline-offset-2",children:[(0,y.jsx)(eo.FaYoutube,{className:"text-[1.5em] text-red-500"}),"Tutorial"]}),(0,y.jsxs)(ea.default,{href:"https://opensea.io/collection/aethir-checker-license",target:"_blank",className:"flex items-center gap-2 underline underline-offset-2",children:[(0,y.jsx)(ri.CoinIcon,{symbol:"Opensea",size:"1.5em",className:"object-contain"}),"Buy Node on Opensea"]})]}):null}var rL=e.i(875219),rP=e.i(392861);function rV({className:e,itemClassname:t,currentPage:r=1,pages:n=0,onPageChange:a}){if(n<2)return null;let s=[];for(let e=0;e<n;e++)e>=1&&e<=r-1-2-1&&r>=6||e>=r-1+2+1&&e<=n-2&&r<=n-1-2-2?"..."!==s[s.length-1]&&s.push("..."):s.push(e+1);return(0,y.jsx)("div",{className:(0,K.cn)("flex items-center justify-center gap-1",e),children:s.map((e,n)=>(0,y.jsx)("div",{className:(0,K.cn)("text-sm w-9 h-9 flex items-center justify-center rounded-lg bg-primary/10",{"bg-primary text-white":e==r},{"hover:bg-primary/30":e!=r&&"number"==typeof e},{"cursor-pointer":"number"==typeof e},t),onClick:()=>{r!==e&&"number"==typeof e&&a?.(e)},children:e},"pageitem_"+n))})}function rF({vc:e}){let t=(0,ei.useRef)(0),r=function(e,t=20){let[r,n]=(0,ei.useState)(1);return(0,ei.useMemo)(()=>({pages:Math.ceil(e/t),currentPage:r,onPageChange:e=>n(e)}),[r,e,t])}(t.current,20),n=(0,Z.useFet)({key:`LntVaultActivity:${e.vault}:${r.currentPage}`,initResult:{items:[],total:0},fetfn:async()=>(0,rL.getLntVaultActivityPage)(e.chain,e.vault,r.currentPage,20).then(e=>(t.current=e.total,e))});return(0,y.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,y.jsx)("div",{className:"animitem font-semibold text-2xl leading-none",children:"Activity"}),(0,y.jsxs)("div",{className:"animitem card overflow-x-auto",children:[(0,Z.isLoading)(n)&&(0,y.jsx)("div",{className:"flex justify-center items-center pt-10 w-full h-[765px]",children:(0,y.jsx)(rP.Spinner,{})}),(0,Z.isSuccess)(n)&&(0,y.jsx)(rh.default,{header:["License ID","Activity","From/to","Time"],data:n.result.items.map(t=>[`#${t.tokenId}`,(0,y.jsx)("div",{className:"Deposit"==t.type?"text-green-500":"text-red-500",children:"Deposit"==t.type?t.type:"Withdraw"},"action"),`${(0,K.shortStr)(t.user)}`,(0,y.jsx)(ea.default,{target:"_blank",href:`${(0,V.getChain)(e.chain).blockExplorers?.default.url}/tx/${t.tx}`,className:"underline underline-offset-2",children:(0,K.fmtDate)(new Date(t.block_time).getTime(),K.FMT.ALL)},"time")])}),(0,y.jsx)(rV,{...r})]})]})}e.i(711581);var rD=e.i(392978),rM=e.i(62870),rU=e.i(729188);let rz=(e,t=18)=>(0,Q.round)(parseFloat((0,rl.formatUnits)(BigInt(e),t)),5);function r$({tit:e,types:t,vc:r,data:n,yFormater:a}){let[s,i]=(0,ei.useState)(t[0]),[o,l]=(0,ec.useToggle)(!0),{options:c}=(0,ei.useMemo)(()=>({options:{title:{show:!1},animation:!0,animationDuration:200,tooltip:{trigger:"axis",valueFormatter:a},grid:{left:0,top:0,right:0,bottom:0,show:!1},toolbox:{show:!1},xAxis:{type:"category",boundaryGap:!1,axisLine:{onZero:!1}},yAxis:{type:"value",boundaryGap:[0,"100%"],splitLine:{show:!1},max:e=>(e.max-e.min)*.1+e.max,min:e=>e.min-(e.max-e.min)*.1,axisLabel:{formatter:a,showMinLabel:!1,showMaxLabel:!1}},dataZoom:[{type:"inside",start:0,end:100,minValueSpan:10},{show:!1}],series:[{name:s,type:"line",symbol:"none",sampling:"lttb",itemStyle:{color:"rgb(30, 202, 83)"},areaStyle:{origin:"start",color:new rD.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(30, 202, 83, 0.26)"},{offset:1,color:"rgba(30, 202, 83, 0.07)"}])},data:n}]}}),[o,s,n]);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"flex justify-between gap-2 items-center",children:[(0,y.jsxs)("span",{className:"text-base font-bold",children:[e," Chart"]}),(0,y.jsx)(rM.SimpleSelect,{className:"text-sm",options:t,onChange:e=>i(e)})]}),(0,y.jsx)(rU.default,{option:c,style:{height:240}})]})}function rH({vc:e}){let t=Math.round((0,k.now)()/1e3),r=Math.round(t-7776e3),n=(0,Z.useFet)({key:`LntVaultVTChartData:${e.vault}`,initResult:[],fetfn:async()=>(0,rL.getLntVaultVTPriceApy)(e.chain,e.vault,r,t)}),a=n.result.map(e=>[(0,K.fmtDate)(1e3*e.time,K.FMT.ALL),(rz(e.apy)+1)**2-1]),s=n.result.map(e=>[(0,K.fmtDate)(1e3*e.time,K.FMT.ALL),rz(e.price)]);return(0,y.jsxs)("div",{className:"animitem card bg-white p-4 mx-auto max-w-4xl w-full min-w-0 flex flex-col gap-5 shrink-0",children:[(0,y.jsx)(r$,{tit:"APY",types:e.ytEnable?["YT APY","VT APY"]:["VT APY"],vc:e,data:a,yFormater:e=>(0,K.formatPercent)(e,2,!1)}),(0,y.jsx)(r$,{tit:"Price",types:e.ytEnable?["YT Price","VT Price"]:["VT Price"],vc:e,data:s})]})}function rG({token:e,amount:t,size:r,className:n,symbolClassName:a,amountClassName:s}){return e?(0,y.jsxs)("div",{className:(0,K.cn)("flex gap-2 items-center font-medium text-xs",n),children:[(0,y.jsx)(ri.CoinIcon,{size:r||16,symbol:e.symbol}),(0,y.jsx)("span",{className:(0,K.cn)("opacity-60",a),children:e.symbol}),(0,y.jsx)("span",{className:(0,K.cn)("ml-1",s),children:(0,J.displayBalance)(t,void 0,e.decimals)})]}):null}let rY=(0,O.parseAbi)(["function getUserRewards(address user) external view returns (uint256[] memory rewardAmounts)","function getRewardTokens() public view returns (address[] memory rewardTokens)","function claimRewards(address user) external","function updateRewardIndexes() external","function updateUserRewards(address user) external"]),rq=({...e})=>(0,y.jsx)(rG,{className:"font-bold text-sm",symbolClassName:"opacity-100",...e});function rW({t:e,size:t=32,className:r}){return e?(0,y.jsxs)("div",{className:(0,K.cn)("flex gap-2 items-center font-semibold",r),children:[(0,y.jsx)(ri.CoinIcon,{symbol:e.symbol,size:t}),e.symbol]}):null}function rZ({vc:e}){let t=(0,Y.useCurrentChainId)(),{address:r}=(0,ed.useAccount)(),n=(0,q.useLntVault)(e),a=(0,q.useLntVaultLogs)(e),s=(0,q.calcVtApy)(e,n.result,a.result),i=(0,T.getTokenBy)(n.result?.VT,t,{symbol:"VT"}),o=(0,T.getTokenBy)(n.result?.VTbyDeposit,e.deposit?.chain,{symbol:"VT"}),l=(0,T.getTokenBy)(n.result?.T,t,{symbol:"T"}),c=(0,W.useBalance)(i),u=(0,W.useBalance)(o),d=n.result?[[(0,y.jsx)(rW,{t:i},"vt"),(0,y.jsx)(ei.Fragment,{children:o?(0,y.jsxs)(ra.Tip,{node:(0,y.jsx)("div",{className:"underline underline-offset-2",children:(0,J.displayBalance)(c.result+u.result,void 0,i.decimals)}),children:[(0,y.jsxs)("div",{children:[(0,V.getChainName)(e.chain),": ",(0,J.displayBalance)(c.result,void 0,i.decimals)]}),(0,y.jsxs)("div",{children:[(0,V.getChainName)(e.deposit.chain),": ",(0,J.displayBalance)(u.result,void 0,i.decimals)]})]}):(0,J.displayBalance)(c.result,void 0,i.decimals)},"vtValue"),(0,K.formatPercent)(s),n.result.closed?"Mature":"Active",n.result.closed?(0,y.jsx)(rq,{token:l,amount:c.result},"redeemable"):`1 ${i.symbol} is equal to 1 ${l.symbol} at maturity`,(0,y.jsx)(j.ApproveAndTx,{disabled:n.result.aVT>0n||c.result<=0n||!r,disabledHidden:!0,onTxSuccess:()=>(0,Z.reFet)(n.key,c.key),className:"w-28 font-semibold h-7",tx:"Claim",config:{abi:N.abiLntVault,functionName:"redeemT",address:e.vault,args:[c.result]}},"claim")]]:[],h=["VT","Value","APY","Status","Redeemable",""];return(0,y.jsx)("div",{className:"animitem card p-4! bg-white overflow-x-auto",children:(0,y.jsx)(rh.default,{headerClassName:"text-left font-semibold border-b-0",headerItemClassName:e=>0==e?"py-1 px-0 text-base":"py-1 px-4 text-base",cellClassName:(e,t)=>0==t?"py-2 px-0":"py-2 px-4",rowClassName:"text-left text-black text-sm leading-none font-medium",header:h,span:{2:1.6,3:2,[h.length-1]:1.3},data:d})})}function rK({vc:e}){let t=(0,Y.useCurrentChainId)(),{address:r}=(0,ed.useAccount)(),n=(0,q.useLntVault)(e),a=(0,q.useLntVaultYTRewards)(e),s=(0,T.getTokenBy)(n.result?.YT,t,{symbol:"YT"}),i=(0,W.useBalance)(s),o=["YT","Value","Status","Yield","Airdrops",""],l=n.result&&a.result?[[(0,y.jsx)(rW,{t:s},"yt"),(0,J.displayBalance)(i.result,void 0,s.decimals),n.result.closed?"Mature":"Active",(0,y.jsx)("div",{children:a.result.map(([e,r])=>(0,y.jsx)(rq,{token:(0,T.getTokenBy)(e,t,{symbol:"T"}),amount:r},`rewards_${e}`))},"yield"),"",(0,y.jsx)(j.ApproveAndTx,{disabled:!a.result.length||!r,disabledHidden:!0,onTxSuccess:()=>(0,Z.reFet)(n.key,a.key),className:"w-28 font-semibold h-7",tx:"Claim",config:{abi:rY,functionName:"claimRewards",address:s.address,args:[r]}},"claim")]]:[];return(0,y.jsx)("div",{className:"animitem card p-4! bg-white overflow-x-auto",children:(0,y.jsx)(rh.default,{headerClassName:"text-left font-semibold border-b-0",headerItemClassName:e=>0==e?"py-1 px-0 text-base":"py-1 px-4 text-base",cellClassName:(e,t)=>0==t?"py-2 px-0":"py-2 px-4",rowClassName:"text-left text-black text-sm leading-none font-medium",header:o,span:{2:1.6,[o.length-1]:1.3},data:l})})}function rJ({vc:e}){let t=(0,Y.useCurrentChainId)(),{address:r}=(0,ed.useAccount)(),n=(0,q.useLntVault)(e),a=(0,q.useLntVaultLogs)(e),s=(0,q.useLntVaultSwapFee7Days)(e),{apy:i,items:o}=(0,q.calcLPApy)(e,n.result,a.result,s.result),l=(0,T.getTokenBy)(n.result?.vtSwapPoolHook,t,{symbol:"lpTVT"}),c=(0,W.useBalance)(l),u=n.result?[[(0,y.jsx)(rW,{t:l},"lpTVT"),(0,J.displayBalance)(c.result,void 0,l.decimals),(0,y.jsx)(ra.Tip,{node:(0,y.jsx)("div",{className:"underline underline-offset-2",children:(0,K.formatPercent)(i)}),children:o.map(e=>(0,y.jsxs)("div",{className:"",children:[e.name,": ",(0,K.formatPercent)(e.value)]},e.name))},"apy"),"","","",e.lpYields?(0,y.jsx)(j.ApproveAndTx,{disabled:!0,disabledHidden:!0,onTxSuccess:()=>(0,Z.reFet)(n.key,c.key),className:"w-28 font-semibold h-7",tx:"Claim",config:{abi:rY,functionName:"claimRewards",address:l.address,args:[r]}},"claim"):""]]:[],d=["LP","Value","APY","",e.lpYields?"Yield":"",e.lpYields?"Airdrops":"",""];return(0,y.jsx)("div",{className:"animitem card p-4! bg-white overflow-x-auto",children:(0,y.jsx)(rh.default,{headerClassName:"text-left font-semibold border-b-0",headerItemClassName:e=>0==e?"py-1 px-0 text-base":"py-1 px-4 text-base",cellClassName:(e,t)=>0==t?"py-2 px-0":"py-2 px-4",rowClassName:"text-left text-black text-sm leading-none font-medium",header:d,span:{2:1.6,[d.length-1]:1.3},data:u})})}function rX({vc:e}){return(0,y.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,y.jsx)("div",{className:"font-semibold text-2xl leading-none",children:"My Positions"}),(0,y.jsx)(rZ,{vc:e}),e.ytEnable&&(0,y.jsx)(rK,{vc:e}),(0,y.jsx)(rJ,{vc:e})]})}var rQ=e.i(833957),r0=e.i(502791),r1=e.i(74992);function r2(e){return(0,r1.GenIcon)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M428 224H288a48 48 0 0 1-48-48V36a4 4 0 0 0-4-4h-92a64 64 0 0 0-64 64v320a64 64 0 0 0 64 64h224a64 64 0 0 0 64-64V228a4 4 0 0 0-4-4zm-92 160H176a16 16 0 0 1 0-32h160a16 16 0 0 1 0 32zm0-80H176a16 16 0 0 1 0-32h160a16 16 0 0 1 0 32z"},child:[]},{tag:"path",attr:{d:"M419.22 188.59 275.41 44.78a2 2 0 0 0-3.41 1.41V176a16 16 0 0 0 16 16h129.81a2 2 0 0 0 1.41-3.41z"},child:[]}]})(e)}function r3({vc:e,tab:t}){let r=(0,q.useLntVault)(e);return(0,y.jsxs)("div",{className:"flex flex-col w-full gap-5 pt-6",children:[(0,Z.isError)(r)&&"Opps! Network Error!",(0,Z.isLoading)(r)&&(0,y.jsx)(rP.Spinner,{className:"mt-10 mx-auto text-black dark:text-white"}),(0,Z.isSuccess)(r)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(rR,{vc:e}),(0,y.jsx)(rI,{vc:e}),(0,y.jsx)(rA,{vc:e}),(0,y.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[1.2fr_1fr] gap-4 xl:gap-5",children:[(0,y.jsx)(rH,{vc:e}),(0,y.jsx)(rO,{vc:e,tab:t})]}),(0,y.jsx)(rX,{vc:e}),e.MockNodeDelegator&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"animitem",children:"Operators"}),(0,y.jsx)(rE,{vc:e})]}),e.isAethir&&(0,y.jsx)(rF,{vc:e})]})]})}function r5({type:e="lnt"}){let t=r0.LNTVAULTS_CONFIG.filter(t=>{let r=!t.onEnv||t.onEnv.includes(H.ENV),n=(t.isLVT?"lvt":"lnt")==e;return r&&n}),r=(0,es.useSearchParams)(),n=r.get("vault"),a=r.get("tab"),s=t.find(e=>e.vault==n);return(0,y.jsx)(rQ.PageWrap,{children:(0,y.jsx)("div",{className:"w-full max-w-[1160px] px-4 mx-auto md:pb-8 relative",children:s?(0,y.jsx)(t7.ConfigChainsProvider,{chains:[s.chain],children:(0,y.jsx)(r3,{vc:s,tab:a})}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"page-title",children:[e.toUpperCase(),"-Vaults"]}),"lnt"==e&&(0,y.jsxs)("div",{className:"flex flex-col  md:flex-row justify-between text-sm font-semibold gap-2 md:gap-10 pt-6 pb-4",children:[(0,y.jsx)("div",{children:"LNT (Liquid Node Token) Vault is a decentralized protocol designed to facilitate the issuance and management of node-based assets through Non-Fungible Tokens (NFTs) and derivative financial instruments."}),(0,y.jsxs)("div",{className:"flex  items-center gap-2.5 whitespace-nowrap",children:[(0,y.jsx)(r2,{className:"text-xl"}),(0,y.jsx)(ea.default,{href:"https://docs.zoofi.io/lnt-vault/background",target:"_blank",className:"underline underline-offset-2",children:"Learn More"})]})]}),"lvt"==e&&(0,y.jsxs)("div",{className:"flex flex-col  md:flex-row justify-between text-sm font-semibold gap-2 md:gap-10 pt-6 pb-4",children:[(0,y.jsx)("div",{children:"LVT (Liquid Vesting Token) Vault is a smart new way to make locked-up tokens in crypto projects tradeable right away, without breaking the rules or the project's long-term plans."}),(0,y.jsxs)("div",{className:"flex  items-center gap-2.5 whitespace-nowrap",children:[(0,y.jsx)(r2,{className:"text-xl"}),(0,y.jsx)(ea.default,{href:"https://docs.zoofi.io/lvt-vault/background",target:"_blank",className:"underline underline-offset-2",children:"Learn More"})]})]}),(0,y.jsx)("div",{className:"flex flex-col gap-5 mt-4",children:t.map((e,t)=>(0,y.jsx)(t7.ConfigChainsProvider,{chains:[e.chain],children:(0,y.jsx)(rT,{vc:e})},`group_vault_item_${t}`))})]})})})}e.s(["default",()=>r5],889886)}]);