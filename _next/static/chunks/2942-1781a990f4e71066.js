"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2942],{12687:function(e,t,n){n.d(t,{v:function(){return ApproveAndTx},L:function(){return NftApproveAndTx}});var c=n(31113),r=n(19757),a=n(26361),s=n(22818),o=n(83978),i=n.n(o),l=n(64103),u=n(47259),d=n(58714),p=n(96670),g=n(4408),f=n(59175);let v={},useApproves=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10000000000n*10n**18n,{address:c}=(0,p.m)(),o=(0,f.p)(),{data:i}=(0,g.p)(),[h,m]=(0,l.useState)(!1),x=(0,l.useMemo)(()=>Object.keys(e).filter(e=>e!==r.K8),[e]),[b,w]=(0,l.useState)(t&&v[t]||{}),updateAllownce=(e,n)=>{t&&(v[t]={...v[t]||{},[e]:n},w(t=>({...t,[e]:n})))};(0,l.useEffect)(()=>{c&&t&&o&&x.forEach(e=>{(0,s.B)(o).readContract({abi:d.Wo,address:e,functionName:"allowance",args:[c,t]}).then(t=>updateAllownce(e,t||0n)).catch(console.error)})},[x,o,c]);let[A,E]=(0,l.useState)(!1),N=(0,l.useMemo)(()=>x.filter(t=>(0,a.ok)(e,t)>0n&&(0,a.ok)(e,t)>(0,a.ok)(b,t)),[e,x,b]),approve=async()=>{if(0!=N.length&&t)try{E(!0),m(!1);for(let c=0;c<N.length;c++){let r=N[c],a=!1===n?e[r]:n,l=await (null==i?void 0:i.writeContract({abi:d.Wo,address:r,functionName:"approve",args:[t,a]}));l&&await (0,s.B)(o).waitForTransactionReceipt({hash:l}),updateAllownce(r,a)}u.A.success("Approve success"),E(!1),m(!0)}catch(e){u.A.error((0,a.az)(e)),E(!1),m(!1)}};return{approve,loading:A,shouldApprove:N.length>0,isSuccess:h}},h={},useNftApproves=(e,t)=>{let{address:n}=(0,p.m)(),c=(0,f.p)(),{data:r}=(0,g.p)(),[o,v]=(0,l.useState)(!1),m=i().keys(e),[x,b]=(0,l.useState)(t&&h[t]||{}),updateAllownce=(e,n)=>{t&&(h[t]={...h[t]||{},[e]:n},b(t=>({...t,[e]:n})))};(0,l.useEffect)(()=>{n&&t&&c&&m.forEach(e=>{(0,s.B)(c).readContract({abi:d.Hr,address:e,functionName:"isApprovedForAll",args:[n,t]}).then(t=>t!==x[e]&&updateAllownce(e,t)).catch(console.error)})},[m,c,n]);let[w,A]=(0,l.useState)(!1),E=(0,l.useMemo)(()=>m.filter(e=>!x[e]),[e,m,x]),approve=async()=>{if(0!=E.length&&t)try{A(!0),v(!1);for(let e=0;e<E.length;e++){let n=E[e],a=await (null==r?void 0:r.writeContract({abi:d.Hr,address:n,functionName:"setApprovalForAll",args:[t,!0]}));a&&await (0,s.B)(c).waitForTransactionReceipt({hash:a}),updateAllownce(n,!0)}u.A.success("Approve success"),A(!1),v(!0)}catch(e){u.A.error((0,a.az)(e)),A(!1),v(!1)}};return{approve,loading:w,shouldApprove:E.length>0,isSuccess:o}};function useWrapContractWrite(e,t){let{autoToast:n=!0,onSuccess:c}=t||{},[r,o]=(0,l.useState)(!1),[i,d]=(0,l.useState)(!1),{data:p}=(0,g.p)(),v=(0,f.p)(),h=!p||!p.account||r||!e||p.chain.id!==v,write=async()=>{if(!h){o(!0),d(!1);try{let r="function"==typeof e?await e():e,a=(0,s.B)(v),o={account:p.account,...r};if(!(null==t?void 0:t.skipSimulate)){let e=await a.simulateContract(o);o=e.request}let i=await p.writeContract(o),l=await a.waitForTransactionReceipt({hash:i,confirmations:null==t?void 0:t.confirmations});if("success"!==l.status)throw"Transaction reverted";d(!0),c&&c(l),n&&u.A.success("Transaction success")}catch(e){n&&u.A.error((0,a.az)(e))}o(!1)}};return{write,isDisabled:h,isLoading:r,isSuccess:i}}var m=n(88501),x=n(60689);function ApproveAndTx(e){let{className:t,tx:n,busyShowTxet:r=!0,approves:a,spender:s,requestAmount:o,config:i,toast:u=!0,skipSimulate:d=!1,disabled:p,confirmations:g,onTxSuccess:v,onApproveSuccess:h}=e,{write:b,isDisabled:w,isLoading:A}=useWrapContractWrite(i,{onSuccess:e=>v&&v(e),autoToast:u,skipSimulate:d,confirmations:g}),E=p||w||A||!1===i.enabled,{approve:N,shouldApprove:C,loading:y,isSuccess:B}=useApproves(a||{},s,o),k=(0,l.useRef)();k.current=h,(0,l.useEffect)(()=>{k.current&&B&&k.current()},[B]);let T=(0,f.t)();return C?(0,c.jsx)(x.k,{className:(0,m.m)("flex items-center justify-center gap-4",t),onClick:N,busy:y,disabled:p||!N||y||T,children:"Approve"}):(0,c.jsx)(x.k,{className:(0,m.m)("flex items-center justify-center gap-4",t),onClick:()=>b(),busy:A,busyShowContent:r,disabled:E,children:n})}function NftApproveAndTx(e){let{className:t,tx:n,busyShowTxet:r=!0,approves:a,spender:s,requestAmount:o,config:i,toast:u=!0,skipSimulate:d=!1,disabled:p,confirmations:g,onTxSuccess:v,onApproveSuccess:h}=e,{write:b,isDisabled:w,isLoading:A}=useWrapContractWrite(i,{onSuccess:e=>v&&v(e),autoToast:u,skipSimulate:d,confirmations:g}),E=p||w||A||!1===i.enabled,{approve:N,shouldApprove:C,loading:y,isSuccess:B}=useNftApproves(null!=a?a:{},s),k=(0,l.useRef)();k.current=h,(0,l.useEffect)(()=>{k.current&&B&&k.current()},[B]);let T=(0,f.t)();return C?(0,c.jsx)(x.k,{className:(0,m.m)("flex items-center justify-center gap-4",t),onClick:N,busy:y,disabled:p||!N||y||T,children:"Approve"}):(0,c.jsx)(x.k,{className:(0,m.m)("flex items-center justify-center gap-4",t),onClick:()=>b(),busy:A,busyShowContent:r,disabled:E,children:n})}},95702:function(e,t,n){n.d(t,{cL:function(){return CoinIcon},rw:function(){return DoubleCoinIcon}});var c=n(31113),r=n(26758),a=n(26361);let s={BERA:"BERA.svg",balance:"balance.png",berachain:"berachain.svg",berahub:"berahub.svg",bg_home:"bg_home.svg",blackLine:"blackLine.svg",Bull:"Bull.svg",coin:"coin.png",discord:"discord.png",discount:"discount.png",ETH:"ETH.svg",ethfi:"ethfi.png",ETHx:"ETHx.svg",galxe:"galxe.png",gift:"gift.png",gold:"gold.png",greenCycle:"greenCycle.png",GreenDot:"GreenDot.svg","HONEY-USDC":"HONEY-USDC.svg","USDC-HONEY":"HONEY-USDC.svg","HONEY-WBERA":"HONEY-WBERA.webp","HONEY-WBTC":"HONEY-WBTC.svg","HONEY-WETH":"HONEY-WETH.svg",HONEY:"HONEY.svg",iBGT:"iBGT.webp",iRED:"iRED.svg","logo-alt":"logo-alt.svg",Panda:"Panda.svg",piRED:"piRED.svg","status-green":"status-green.svg","status-red":"status-red.svg",twitter:"twitter.png",USDC:"USDC.svg",USDCx:"USDCx.svg",USDT:"USDT.svg",Venom:"Venom.svg",WBERA:"WBERA.svg",WBTC:"WBTC.svg",WBTCx:"WBTCx.svg",weeth:"weeth.png",weETH:"weETH.svg",weETHx:"weETHx.svg",WETH:"WETH.svg",xBERA:"xBERA.svg",xiBGT:"xiBGT.svg",yiRED:"yiRED.svg",ZUSD:"ZUSD.svg",BYUSD:"BYUSD.webp",Fire:"Fire.png",Lnfi:"lnfi.png",Reppo:"reppo.png",Enreach:"enreach.svg",Aethir:"Aethir.svg",Nodeops:"Nodeops.svg",ReppoNft:"ReppoNft.png"};function CoinIconImpl(e){let{symbol:t,size:n=48,url:o,style:i,...l}=e,u=s[t],d="".concat(r.G,"/").concat(u);return u||o?(0,c.jsx)("img",{...l,style:{width:n,height:n,...i||{}},className:(0,a.cn)(l.className),width:n,height:n,src:u?d:o,alt:t}):(0,c.jsxs)("svg",{...l,width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,c.jsx)("text",{className:"fill-primary/60",width:"20",x:"12",y:"12",textAnchor:"middle",fontSize:12,dominantBaseline:"middle",children:t.slice(0,2)}),(0,c.jsx)("circle",{className:"stroke-primary/60",cx:"12",cy:"12",r:"11.5",strokeWidth:1})]})}let o=["logo-alt","status-green","status-red"];function DoubleCoinIcon(e){let{symbol1:t,symbol2:n,size:r=48,url1:s,url2:o,className:i}=e;return(0,c.jsxs)("div",{className:(0,a.cn)("flex items-center",i),children:[(0,c.jsx)(CoinIconImpl,{symbol:t,size:r,url:s}),(0,c.jsx)(CoinIconImpl,{symbol:n,size:r,url:o,style:{marginLeft:"-30%"}})]})}function CoinIcon(e){let{symbol:t,size:n=48,url:r,...a}=e;if(t.includes("-")&&!o.includes(t)){let[e,r]=t.split("-");return(0,c.jsx)(DoubleCoinIcon,{...a,symbol1:e,symbol2:r,size:n})}return(0,c.jsx)(CoinIconImpl,{...a,symbol:t,size:n,url:r})}},6868:function(e,t,n){n.d(t,{B:function(){return Demo},K:function(){return Noti}});var c=n(31113),r=n(26361),a=n(63114);function Noti(e){let{data:t,className:n}=e;return(0,c.jsxs)("div",{className:(0,r.cn)("w-full mt-2 mb-3 md:mt-4 md:mb-6 flex text-[24px] md:text-[14px] text-[#64748B] dark:text-slate-50/60 font-medium leading-[24px] md:leading-[14px]",n),children:[(0,c.jsx)("div",{className:"",children:(0,c.jsx)(a.pMA,{size:20})}),(0,c.jsx)("div",{className:"text-sm ml-1 ",children:t})]})}function Demo(e){let{className:t}=e;return(0,c.jsx)("div",{className:(0,r.cn)("text-xs px-1.5 text-center py-[1px] rounded-full bg-red-500 text-slate-50",t),children:"DEMO"})}},44939:function(e,t,n){n.d(t,{E:function(){return PageWrap}});var c=n(31113),r=n(26361);n(64103);var a=n(12045);function PageWrap(e){let{children:t,className:n}=e;return(0,a.l)(e=>e.theme),(0,c.jsx)("div",{className:(0,r.cn)("h-auto pt-[30px] pb-6",n),children:t})}},36762:function(e,t,n){n.d(t,{$:function(){return Spinner}});var c=n(31113),r=n(26361);let Spinner=e=>{let{className:t}=e;return(0,c.jsxs)("svg",{fill:"none",className:(0,r.cn)("animate-spin h-5 w-5 2-ml-1 2mr-3",t),viewBox:"0 0 24 24",children:[(0,c.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,c.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}},60689:function(e,t,n){n.d(t,{k:function(){return BBtn}});var c=n(31113),r=n(26361),a=n(83978),s=n.n(a),o=n(64103),i=n(36762);function BBtn(e){let{borderWidth:t=1,children:n,busy:a,busyShowContent:l=!0,className:u,hiddenBorder:d,...p}=e,g=(0,o.useRef)(null),[f,v]=(0,o.useState)("0_0"),h="unset",m="unset";if(g.current&&!d){let e=g.current,n=e.clientWidth,c=e.clientHeight,r=parseInt(getComputedStyle(e).borderRadius.replace("px","")),a="A".concat(r-t," ").concat(r-t," 0, 0, 1, ").concat(r," ").concat(t,"L").concat(n-r," ").concat(t),o="A".concat(r-t," ").concat(r-t," 0, 0, 1, ").concat(n-t," ").concat(r,"L").concat(n-t," ").concat(c-r),i="A".concat(r-t," ").concat(r-t," 0, 0, 1, ").concat(n-r," ").concat(c-t,"L").concat(r," ").concat(c-t," "),l="A".concat(r-t," ").concat(r-t," 0, 0, 1, ").concat(t," ").concat(c-r,"L").concat(t," ").concat(r),u="M ".concat(t," ").concat(r," ").concat(a," ").concat(o," ").concat(i," ").concat(l),d="M 0 0 L 0 ".concat(c," L ").concat(n," ").concat(c," L ").concat(n," 0 L 0 0 ").concat(u," Z");h="path('".concat(d,"')");let p=2*n,tranP=e=>s().round(e/2,2);m="radial-gradient(122.5% ".concat(s().round(122.5/(n/c),2),"% at ").concat(s().round((52.9*n+50*p-50*n)/p,2),"% ").concat(s().round((16.25*c+50*p-50*c)/p,2),"%, #15d264 0%, #2cbd35 ").concat(tranP(36.26),"%, #dcf45d ").concat(tranP(92.54),"%)")}return(0,o.useEffect)(()=>{let e=new ResizeObserver(()=>{var e,t;v("".concat((null===(e=g.current)||void 0===e?void 0:e.clientWidth)||0,"_").concat((null===(t=g.current)||void 0===t?void 0:t.clientWidth)||0))});return g.current&&e.observe(g.current),()=>{g.current&&e.unobserve(g.current)}},[g.current]),(0,c.jsxs)("button",{...p,ref:g,className:(0,r.cn)("group/bbtn relative px-3 cursor-pointer w-full transition-all leading-[2.375] ring-0 text-base text-black dark:text-white font-medium h-10 rounded-lg disabled:opacity-60 disabled:cursor-not-allowed bg-btn  dark:bg-btndark",{"hover:bg-btnhover dark:hover:bg-btndarkhover":!e.disabled},u),children:[!d&&(0,c.jsx)("div",{className:"absolute w-full h-full left-0 top-0 flex justify-center items-center rounded-lg overflow-hidden",style:{visibility:g.current?"visible":"hidden",clipPath:h},children:(0,c.jsx)("div",{className:(0,r.cn)("w-[200%] aspect-square shrink-0",{"dark:group-hover/bbtn:opacity-60":!e.disabled}),style:{background:m}})}),a&&(0,c.jsx)(i.$,{}),(l||!a)&&n]})}}}]);