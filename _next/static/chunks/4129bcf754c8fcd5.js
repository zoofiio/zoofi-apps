(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,829256,301953,267550,e=>{"use strict";var t=e.i(322285),r=e.i(388654),a=e.i(280924),n=e.i(925282),i=e.i(995979),s=e.i(40143),o=e.i(262521),l=e.i(463605),c=e.i(22245),u=e.i(995451),d=e.i(565374),f=e.i(347064),h=e.i(751755);let m=(0,l.parseAbi)(["function execute(bytes calldata commands, bytes[] calldata inputs) public payable","function execute(bytes calldata commands, bytes[] calldata inputs, uint256 deadline) public payable"]),p=(0,l.parseAbi)(["function approve(address token,address spender,uint160 amount,uint48 expiration)"]);(0,l.parseAbi)(["function modifyLiquidities(bytes calldata data,uint256 deadline) public payable"]),(0,c.parseAbiParameters)(["PoolKey","struct PoolKey { address currency0; address currency1 ;uint24 fee; int24 tickSpacing; address hooks;}"]),(0,c.parseAbiParameters)(["ModifyLiquidityParams","struct ModifyLiquidityParams { int24 tickLower; int24 tickUpper;int256 liquidityDelta;bytes32 salt;}"]);let x=(0,l.parseAbi)(["function modifyLiquidity(PoolKey memory key, ModifyLiquidityParams memory params, bytes calldata hookData) external returns (int256 callerDelta, int256 feesAccrued)","struct PoolKey { address currency0; address currency1 ;uint24 fee; int24 tickSpacing; address hooks;}","struct ModifyLiquidityParams { int24 tickLower; int24 tickUpper;int256 liquidityDelta;bytes32 salt;}"]);(0,l.parseAbi)(["function getSlot0(bytes32 poolId) external view returns(uint160 sqrtPriceX96, int24 tick, uint24 protocolFee, uint24 lpFee)","function getLiquidity(bytes32 poolId) external view returns (uint128 liquidity)"]);let g={1:{unirouter:"0x66a9893cc07d91d95644aedd05d03f95e1dba8af",permit2:"0x000000000022D473030F116dDEE9F6B43aC78BA3",poolmanager:"0x000000000004444c5dc75cB358380D2e3dE08A90"},0xaa36a7:{unirouter:"0x3a9d48ab9751398bbfa63ad67599bb04e4bdf98b",permit2:"0x000000000022D473030F116dDEE9F6B43aC78BA3",poolmanager:"0xE03A1074c86CFeDd5C142C4F04F1a1536e203543"},16601:{unirouter:"0xfa2ba0a2743ea9d60caf373482ea3a4200230dcc",permit2:"0x45B4798F3d93f3754ea2f28ea3b6449e31E53043",poolmanager:"0x5cd9e7907522016160a8ce6ad58dc8a80909e79f"},[h.arbitrum.id]:{unirouter:"0xa51afafe0263b40edaef0df8781ea9aa03e381a3",permit2:"0x000000000022D473030F116dDEE9F6B43aC78BA3",poolmanager:"0x360e68faccca8ca495c1b759fd9eee466db9fb32"},[h.zeroGmainnet.id]:{unirouter:"0x550b031acbc56b309a8ef28914959115f6a97202",permit2:"0xA3eD53b6548cED609E6E7100c13D5bF129Acec57",poolmanager:"0x8d50571796c86fd7018b5711a10a498eeaf5761f"},[f.bscTestnet.id]:{unirouter:"0xa8a655b94d30ea4dfa8b68f26e426d720d9d7b81",permit2:"0x000000000022D473030F116dDEE9F6B43aC78BA3",poolmanager:"0xa2ad9ce2e8f9b0107df65fa0211d237cbab0497a"},[h.bsc.id]:{unirouter:"0x1906c1d672b88cd1b9ac7593301ca990f94eae07",permit2:"0x000000000022D473030F116dDEE9F6B43aC78BA3",poolmanager:"0x28e2ea090877bf75740558f6bfb36a5ffee9e9df"},[h.base.id]:{unirouter:"0x6ff5693b99212da76ad316178a184ab56d299b43",permit2:"0x000000000022D473030F116dDEE9F6B43aC78BA3",poolmanager:"0x498581ff718922c3f8e6a244956af099b2652b2b"},[h.story.id]:{unirouter:"0x8d50571796c86fd7018b5711a10a498eeaf5761f",permit2:"0x000000000022d473030f116ddee9f6b43ac78ba3",poolmanager:"0x170e0c91ffa71dc3c16d43f754b3aece688470c8"},[h.sei.id]:{unirouter:"0x8d50571796c86fd7018b5711a10a498eeaf5761f",permit2:"0x000000000022d473030f116ddee9f6b43ac78ba3",poolmanager:"0x170e0c91ffa71dc3c16d43f754b3aece688470c8"}};async function b({user:e,chainId:s,poolkey:l,is0To1:u=!0,amountIn:f,amountOutMin:h=0n,deadline:x=600,approveName:b,executeName:y}){let v=g[s],w=(0,i.encodePacked)(["uint8"],[16]),N=(0,i.encodePacked)(["uint8","uint8","uint8"],[6,12,15]),j=u?l.currency0:l.currency1,T=u?l.currency1:l.currency0,E=Math.round((0,a.now)()/1e3+x),k=["0x","0x","0x"];l.hooks||(l.hooks=d.zeroAddress),k[0]=(0,n.encodeAbiParameters)((0,c.parseAbiParameters)(["ExactInputSingleParams","struct ExactInputSingleParams { PoolKey poolKey;bool zeroForOne;uint128 amountIn;uint128 amountOutMinimum;bytes hookData;}","struct PoolKey { address currency0; address currency1 ;uint24 fee; int24 tickSpacing; address hooks;}"]),[{poolKey:l,zeroForOne:u,amountIn:f,amountOutMinimum:h,hookData:"0x"}]),k[1]=(0,n.encodeAbiParameters)([{type:"address"},{type:"uint256"}],[j,f]),k[2]=(0,n.encodeAbiParameters)([{type:"address"},{type:"uint256"}],[T,h]);let A=["0x"];return(A[0]=(0,n.encodeAbiParameters)([{type:"bytes"},{type:"bytes[]"}],[N,k]),(0,o.isAddressEqual)(j,d.zeroAddress))?[{abi:m,functionName:"execute",address:v.unirouter,args:[w,A,BigInt(E)],value:f,name:y}]:[...await (0,t.withTokenApprove)({approves:[{token:j,spender:v.permit2,amount:f,name:b}],pc:(0,r.getPC)(s),user:e,tx:{abi:p,address:v.permit2,functionName:"approve",args:[j,v.unirouter,f,E],name:b}}),{abi:m,functionName:"execute",address:v.unirouter,args:[w,A,BigInt(E)],name:y}]}function y({chainId:e,lp:t,poolkey:r,liquidity:n,amount0Max:i,amount1Max:o,tickLower:l=-1e5,tickUpper:c=1e5,hookData:f=(0,u.toHex)(0),deadline:h=600}){let m=g[e],b=Math.round((0,a.now)()/1e3+h),y={...r,hooks:r.hooks??d.zeroAddress},v={tickLower:l,tickUpper:c,liquidityDelta:n,salt:`${t}000000000000000000000000`};return 0n==n?[]:n>0n?[{abi:s.erc20Abi,address:y.currency0,functionName:"approve",args:[m.permit2,i]},{abi:s.erc20Abi,address:y.currency1,functionName:"approve",args:[m.permit2,o]},{abi:p,address:m.permit2,functionName:"approve",args:[y.currency0,m.poolmanager,i,b]},{abi:p,address:m.permit2,functionName:"approve",args:[y.currency1,m.poolmanager,o,b]},{abi:x,functionName:"modifyLiquidity",address:m.poolmanager,args:[y,v,f]}]:[{abi:s.erc20Abi,address:t,functionName:"approve",args:[m.permit2,-n]},{abi:p,address:m.permit2,functionName:"approve",args:[y.currency0,m.poolmanager,-n,b]},{abi:x,functionName:"modifyLiquidity",address:m.poolmanager,args:[y,v,f]}]}function v(e,t,{signal:r,edges:a}={}){let n,i=null,s=null!=a&&a.includes("leading"),o=null==a||a.includes("trailing"),l=()=>{null!==i&&(e.apply(n,i),n=void 0,i=null)},c=null,u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,o&&l(),d()},t)},d=()=>{null!==c&&(clearTimeout(c),c=null),n=void 0,i=null},f=function(...e){if(r?.aborted)return;n=this,i=e;let t=null==c;u(),s&&t&&l()};return f.schedule=u,f.cancel=d,f.flush=()=>{l()},r?.addEventListener("abort",d,{once:!0}),f}function w(e){let t;if(e&&0!==e.length){for(let r=0;r<e.length;r++){let a=e[r];!(null==a||Number.isNaN(a))&&"symbol"!=typeof a&&(void 0===t||a<t)&&(t=a)}return t}}e.s(["encodeModifyLP",()=>y,"encodeSingleSwap",()=>b],829256),e.s(["debounce",()=>v],301953),e.s(["min",()=>w],267550)},173192,e=>{"use strict";var t=e.i(29743);function r({node:e,disableAnim:r}){return(0,t.jsxs)("svg",{className:"mx-auto bg-no-repeat bg-contain bg-center bg-[url(/bg_lnt_icon2.svg)] dark:bg-[url(/bg_lnt_icon.svg)]",width:"100%",viewBox:"0 0 368 284",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[!r&&(0,t.jsx)("circle",{cx:"184",cy:"228",r:"183","transform-origin":"center 228",transform:"scale(1 .3)",stroke:"url(#paint0_linear_57_1167)",strokeWidth:"2",strokeDasharray:"4 10",strokeDashoffset:"0",children:(0,t.jsx)("animate",{attributeName:"stroke-dashoffset",from:"0",to:"-140",dur:"1.5s",repeatCount:"indefinite"})}),e?(0,t.jsxs)("g",{children:[(0,t.jsx)("animateTransform",{attributeName:"transform",type:"translate",values:"0 0;0 -5;0 15;0 0",dur:"2s",repeatCount:"indefinite"}),(0,t.jsx)("foreignObject",{x:"184",y:"45",width:"80",height:"80",transform:"translate(-40,-40)",children:e})]}):(0,t.jsxs)("g",{children:[(0,t.jsx)("animateTransform",{attributeName:"transform",type:"translate",values:"0 0;0 -5;0 15;0 0",dur:"2s",repeatCount:"indefinite"}),(0,t.jsx)("foreignObject",{x:"184",y:"45",width:"96",height:"110",transform:"translate(-48,-40)",children:(0,t.jsx)("img",{className:"w-full h-full",src:"/lnt_icon.svg"})})]}),(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"paint0_linear_57_1167",x1:"184",y1:"113",x2:"184",y2:"283",gradientUnits:"userSpaceOnUse",children:[(0,t.jsx)("stop",{stopColor:"#006A1F",stopOpacity:"0"}),(0,t.jsx)("stop",{offset:"1",stopColor:"#1ECA53"})]})})]})}function a({node:e,disableAnim:r=!1}){return(0,t.jsxs)("svg",{className:"bg-no-repeat bg-contain bg-center bg-[url(/bg_lvt_icon2.svg)] dark:bg-[url(/bg_lvt_icon.svg)]",width:"100%",viewBox:"0 0 366 349",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[!r&&(0,t.jsx)("circle",{cx:"182",cy:"293",r:"182","transform-origin":"center 293",transform:"scale(1 .3)",stroke:"url(#paint_0_linear_57_1168)",strokeWidth:"2",strokeDasharray:"4 10",strokeDashoffset:"0",children:(0,t.jsx)("animate",{attributeName:"stroke-dashoffset",from:"0",to:"-140",dur:"1.5s",repeatCount:"indefinite"})}),e?(0,t.jsxs)("g",{children:[(0,t.jsx)("animateTransform",{attributeName:"transform",type:"translate",values:"0 0;0 20;0 0",dur:"2s",repeatCount:"indefinite"}),(0,t.jsx)("foreignObject",{x:"184",y:"100",width:"80",height:"80",transform:"translate(-40,-40)",children:e})]}):(0,t.jsxs)("g",{children:[(0,t.jsx)("animateTransform",{attributeName:"transform",type:"translate",values:"0 0;0 -20;0 0",dur:"2s",repeatCount:"indefinite"}),(0,t.jsx)("foreignObject",{x:"184",y:"100",width:"144",height:"130",transform:"translate(-72,-20)",children:(0,t.jsx)("img",{className:"w-full h-full",src:"/lvt_icon.svg"})})]}),(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"paint_0_linear_57_1168",x1:"184",y1:"179",x2:"184",y2:"349",gradientUnits:"userSpaceOnUse",children:[(0,t.jsx)("stop",{stopColor:"#8C6F00",stopOpacity:"0"}),(0,t.jsx)("stop",{offset:"1",stopColor:"#FDD849"})]})})]})}e.s(["LntNodeSvg",()=>r,"LvtNodeSvg",()=>a])},451697,(e,t,r)=>{var a=e.i(494561);!function(){"use strict";var r="input is invalid type",n="object"==typeof window,i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&"object"==typeof self;!i.JS_SHA3_NO_NODE_JS&&"object"==typeof a.default&&a.default.versions&&a.default.versions.node?i=e.g:s&&(i=self);var o=!i.JS_SHA3_NO_COMMON_JS&&t.exports,l="function"==typeof define&&define.amd,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,u="0123456789abcdef".split(""),d=[4,1024,262144,0x4000000],f=[0,8,16,24],h=[1,0,32898,0,32906,0x80000000,0x80008000,0x80000000,32907,0,0x80000001,0,0x80008081,0x80000000,32777,0x80000000,138,0,136,0,0x80008009,0,0x8000000a,0,0x8000808b,0,139,0x80000000,32905,0x80000000,32771,0x80000000,32770,0x80000000,128,0x80000000,32778,0,0x8000000a,0x80000000,0x80008081,0x80000000,32896,0x80000000,0x80000001,0,0x80008008,0x80000000],m=[224,256,384,512],p=[128,256],x=["hex","buffer","arrayBuffer","array","digest"],g={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var b=function(e,t,r){return function(a){return new O(e,t,e).update(a)[r]()}},y=function(e,t,r){return function(a,n){return new O(e,t,n).update(a)[r]()}},v=function(e,t,r){return function(t,a,n,i){return E["cshake"+e].update(t,a,n,i)[r]()}},w=function(e,t,r){return function(t,a,n,i){return E["kmac"+e].update(t,a,n,i)[r]()}},N=function(e,t,r,a){for(var n=0;n<x.length;++n){var i=x[n];e[i]=t(r,a,i)}return e},j=function(e,t){var r=b(e,t,"hex");return r.create=function(){return new O(e,t,e)},r.update=function(e){return r.create().update(e)},N(r,b,e,t)},T=[{name:"keccak",padding:[1,256,65536,0x1000000],bits:m,createMethod:j},{name:"sha3",padding:[6,1536,393216,0x6000000],bits:m,createMethod:j},{name:"shake",padding:[31,7936,2031616,0x1f000000],bits:p,createMethod:function(e,t){var r=y(e,t,"hex");return r.create=function(r){return new O(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},N(r,y,e,t)}},{name:"cshake",padding:d,bits:p,createMethod:function(e,t){var r=g[e],a=v(e,t,"hex");return a.create=function(a,n,i){return n||i?new O(e,t,a).bytepad([n,i],r):E["shake"+e].create(a)},a.update=function(e,t,r,n){return a.create(t,r,n).update(e)},N(a,v,e,t)}},{name:"kmac",padding:d,bits:p,createMethod:function(e,t){var r=g[e],a=w(e,t,"hex");return a.create=function(a,n,i){return new R(e,t,n).bytepad(["KMAC",i],r).bytepad([a],r)},a.update=function(e,t,r,n){return a.create(e,r,n).update(t)},N(a,w,e,t)}}],E={},k=[],A=0;A<T.length;++A)for(var S=T[A],_=S.bits,C=0;C<_.length;++C){var B=S.name+"_"+_[C];if(k.push(B),E[B]=S.createMethod(_[C],S.padding),"sha3"!==S.name){var L=S.name+_[C];k.push(L),E[L]=E[B]}}function O(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var a=0;a<50;++a)this.s[a]=0}function R(e,t,r){O.call(this,e,t,r)}O.prototype.update=function(e){if(this.finalized)throw Error("finalize already called");var t,a=typeof e;if("string"!==a){if("object"===a){if(null===e)throw Error(r);else if(c&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!c||!ArrayBuffer.isView(e)))throw Error(r)}else throw Error(r);t=!0}for(var n,i,s=this.blocks,o=this.byteCount,l=e.length,u=this.blockCount,d=0,h=this.s;d<l;){if(this.reset)for(n=1,this.reset=!1,s[0]=this.block;n<u+1;++n)s[n]=0;if(t)for(n=this.start;d<l&&n<o;++d)s[n>>2]|=e[d]<<f[3&n++];else for(n=this.start;d<l&&n<o;++d)(i=e.charCodeAt(d))<128?s[n>>2]|=i<<f[3&n++]:(i<2048?s[n>>2]|=(192|i>>6)<<f[3&n++]:(i<55296||i>=57344?s[n>>2]|=(224|i>>12)<<f[3&n++]:(i=65536+((1023&i)<<10|1023&e.charCodeAt(++d)),s[n>>2]|=(240|i>>18)<<f[3&n++],s[n>>2]|=(128|i>>12&63)<<f[3&n++]),s[n>>2]|=(128|i>>6&63)<<f[3&n++]),s[n>>2]|=(128|63&i)<<f[3&n++]);if(this.lastByteIndex=n,n>=o){for(this.start=n-o,this.block=s[u],n=0;n<u;++n)h[n]^=s[n];I(h),this.reset=!0}else this.start=n}return this},O.prototype.encode=function(e,t){var r=255&e,a=1,n=[r];for(e>>=8,r=255&e;r>0;)n.unshift(r),e>>=8,r=255&e,++a;return t?n.push(a):n.unshift(a),this.update(n),n.length},O.prototype.encodeString=function(e){var t,a=typeof e;if("string"!==a){if("object"===a){if(null===e)throw Error(r);else if(c&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!c||!ArrayBuffer.isView(e)))throw Error(r)}else throw Error(r);t=!0}var n=0,i=e.length;if(t)n=i;else for(var s=0;s<e.length;++s){var o=e.charCodeAt(s);o<128?n+=1:o<2048?n+=2:o<55296||o>=57344?n+=3:(o=65536+((1023&o)<<10|1023&e.charCodeAt(++s)),n+=4)}return n+=this.encode(8*n),this.update(e),n},O.prototype.bytepad=function(e,t){for(var r=this.encode(t),a=0;a<e.length;++a)r+=this.encodeString(e[a]);var n=[];return n.length=t-r%t,this.update(n),this},O.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,a=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(t=1,e[0]=e[r];t<r+1;++t)e[t]=0;for(e[r-1]|=0x80000000,t=0;t<r;++t)a[t]^=e[t];I(a)}},O.prototype.toString=O.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,a=this.outputBlocks,n=this.extraBytes,i=0,s=0,o="";s<a;){for(i=0;i<t&&s<a;++i,++s)o+=u[(e=r[i])>>4&15]+u[15&e]+u[e>>12&15]+u[e>>8&15]+u[e>>20&15]+u[e>>16&15]+u[e>>28&15]+u[e>>24&15];s%t==0&&(I(r),i=0)}return n&&(o+=u[(e=r[i])>>4&15]+u[15&e],n>1&&(o+=u[e>>12&15]+u[e>>8&15]),n>2&&(o+=u[e>>20&15]+u[e>>16&15])),o},O.prototype.arrayBuffer=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,a=this.outputBlocks,n=this.extraBytes,i=0,s=0,o=this.outputBits>>3,l=new Uint32Array(e=new ArrayBuffer(n?a+1<<2:o));s<a;){for(i=0;i<t&&s<a;++i,++s)l[s]=r[i];s%t==0&&I(r)}return n&&(l[i]=r[i],e=e.slice(0,o)),e},O.prototype.buffer=O.prototype.arrayBuffer,O.prototype.digest=O.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,a=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,o=0,l=[];o<n;){for(s=0;s<r&&o<n;++s,++o)e=o<<2,t=a[s],l[e]=255&t,l[e+1]=t>>8&255,l[e+2]=t>>16&255,l[e+3]=t>>24&255;o%r==0&&I(a)}return i&&(e=o<<2,t=a[s],l[e]=255&t,i>1&&(l[e+1]=t>>8&255),i>2&&(l[e+2]=t>>16&255)),l},R.prototype=new O,R.prototype.finalize=function(){return this.encode(this.outputBits,!0),O.prototype.finalize.call(this)};var I=function(e){var t,r,a,n,i,s,o,l,c,u,d,f,m,p,x,g,b,y,v,w,N,j,T,E,k,A,S,_,C,B,L,O,R,I,V,P,D,F,U,M,z,$,H,q,W,G,Y,K,J,X,Z,Q,ee,et,er,ea,en,ei,es,eo,el,ec,eu;for(a=0;a<48;a+=2)n=e[0]^e[10]^e[20]^e[30]^e[40],i=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],l=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],u=e[6]^e[16]^e[26]^e[36]^e[46],d=e[7]^e[17]^e[27]^e[37]^e[47],f=e[8]^e[18]^e[28]^e[38]^e[48],m=e[9]^e[19]^e[29]^e[39]^e[49],t=f^(s<<1|o>>>31),r=m^(o<<1|s>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=n^(l<<1|c>>>31),r=i^(c<<1|l>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=s^(u<<1|d>>>31),r=o^(d<<1|u>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=l^(f<<1|m>>>31),r=c^(m<<1|f>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=u^(n<<1|i>>>31),r=d^(i<<1|n>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,p=e[0],x=e[1],G=e[11]<<4|e[10]>>>28,Y=e[10]<<4|e[11]>>>28,_=e[20]<<3|e[21]>>>29,C=e[21]<<3|e[20]>>>29,eo=e[31]<<9|e[30]>>>23,el=e[30]<<9|e[31]>>>23,$=e[40]<<18|e[41]>>>14,H=e[41]<<18|e[40]>>>14,I=e[2]<<1|e[3]>>>31,V=e[3]<<1|e[2]>>>31,g=e[13]<<12|e[12]>>>20,b=e[12]<<12|e[13]>>>20,K=e[22]<<10|e[23]>>>22,J=e[23]<<10|e[22]>>>22,B=e[33]<<13|e[32]>>>19,L=e[32]<<13|e[33]>>>19,ec=e[42]<<2|e[43]>>>30,eu=e[43]<<2|e[42]>>>30,et=e[5]<<30|e[4]>>>2,er=e[4]<<30|e[5]>>>2,P=e[14]<<6|e[15]>>>26,D=e[15]<<6|e[14]>>>26,y=e[25]<<11|e[24]>>>21,v=e[24]<<11|e[25]>>>21,X=e[34]<<15|e[35]>>>17,Z=e[35]<<15|e[34]>>>17,O=e[45]<<29|e[44]>>>3,R=e[44]<<29|e[45]>>>3,E=e[6]<<28|e[7]>>>4,k=e[7]<<28|e[6]>>>4,ea=e[17]<<23|e[16]>>>9,en=e[16]<<23|e[17]>>>9,F=e[26]<<25|e[27]>>>7,U=e[27]<<25|e[26]>>>7,w=e[36]<<21|e[37]>>>11,N=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,q=e[8]<<27|e[9]>>>5,W=e[9]<<27|e[8]>>>5,A=e[18]<<20|e[19]>>>12,S=e[19]<<20|e[18]>>>12,ei=e[29]<<7|e[28]>>>25,es=e[28]<<7|e[29]>>>25,M=e[38]<<8|e[39]>>>24,z=e[39]<<8|e[38]>>>24,j=e[48]<<14|e[49]>>>18,T=e[49]<<14|e[48]>>>18,e[0]=p^~g&y,e[1]=x^~b&v,e[10]=E^~A&_,e[11]=k^~S&C,e[20]=I^~P&F,e[21]=V^~D&U,e[30]=q^~G&K,e[31]=W^~Y&J,e[40]=et^~ea&ei,e[41]=er^~en&es,e[2]=g^~y&w,e[3]=b^~v&N,e[12]=A^~_&B,e[13]=S^~C&L,e[22]=P^~F&M,e[23]=D^~U&z,e[32]=G^~K&X,e[33]=Y^~J&Z,e[42]=ea^~ei&eo,e[43]=en^~es&el,e[4]=y^~w&j,e[5]=v^~N&T,e[14]=_^~B&O,e[15]=C^~L&R,e[24]=F^~M&$,e[25]=U^~z&H,e[34]=K^~X&Q,e[35]=J^~Z&ee,e[44]=ei^~eo&ec,e[45]=es^~el&eu,e[6]=w^~j&p,e[7]=N^~T&x,e[16]=B^~O&E,e[17]=L^~R&k,e[26]=M^~$&I,e[27]=z^~H&V,e[36]=X^~Q&q,e[37]=Z^~ee&W,e[46]=eo^~ec&et,e[47]=el^~eu&er,e[8]=j^~p&g,e[9]=T^~x&b,e[18]=O^~E&A,e[19]=R^~k&S,e[28]=$^~I&P,e[29]=H^~V&D,e[38]=Q^~q&G,e[39]=ee^~W&Y,e[48]=ec^~et&ea,e[49]=eu^~er&en,e[0]^=h[a],e[1]^=h[a+1]};if(o)t.exports=E;else{for(A=0;A<k.length;++A)i[k[A]]=E[k[A]];l&&(e.r,void 0!==E&&e.v(E))}}()},327892,(e,t,r)=>{"use strict";t.exports=function(e){if(e.length>=255)throw TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var a=0;a<e.length;a++){var n=e.charAt(a),i=n.charCodeAt(0);if(255!==t[i])throw TypeError(n+" is ambiguous");t[i]=a}var s=e.length,o=e.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function u(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,a=0,n=0;e[r]===o;)a++,r++;for(var i=(e.length-r)*l+1>>>0,c=new Uint8Array(i);e[r];){var u=t[e.charCodeAt(r)];if(255===u)return;for(var d=0,f=i-1;(0!==u||d<n)&&-1!==f;f--,d++)u+=s*c[f]>>>0,c[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");n=d,r++}for(var h=i-n;h!==i&&0===c[h];)h++;for(var m=new Uint8Array(a+(i-h)),p=a;h!==i;)m[p++]=c[h++];return m}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,a=0,n=0,i=t.length;n!==i&&0===t[n];)n++,r++;for(var l=(i-n)*c+1>>>0,u=new Uint8Array(l);n!==i;){for(var d=t[n],f=0,h=l-1;(0!==d||f<a)&&-1!==h;h--,f++)d+=256*u[h]>>>0,u[h]=d%s>>>0,d=d/s>>>0;if(0!==d)throw Error("Non-zero carry");a=f,n++}for(var m=l-a;m!==l&&0===u[m];)m++;for(var p=o.repeat(r);m<l;++m)p+=e.charAt(u[m]);return p},decodeUnsafe:u,decode:function(e){var t=u(e);if(t)return t;throw Error("Non-base"+s+" character")}}}},228132,(e,t,r)=>{t.exports=e.r(327892)("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},843831,(e,t,r)=>{function a(e,t){if(!e)throw Error(t||"Assertion failed")}t.exports=a,a.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)}},129767,(e,t,r)=>{"use strict";var a=e.r(843831);function n(e){return(e>>>24|e>>>8&65280|e<<8&0xff0000|(255&e)<<24)>>>0}function i(e){return 1===e.length?"0"+e:e}function s(e){if(7===e.length)return"0"+e;if(6===e.length)return"00"+e;if(5===e.length)return"000"+e;if(4===e.length)return"0000"+e;if(3===e.length)return"00000"+e;else if(2===e.length)return"000000"+e;else if(1===e.length)return"0000000"+e;else return e}r.inherits=e.r(896812),r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var a=0,n=0;n<e.length;n++){var i,s,o=e.charCodeAt(n);o<128?r[a++]=o:(o<2048?r[a++]=o>>6|192:((i=e,s=n,(64512&i.charCodeAt(s))!=55296||s<0||s+1>=i.length?1:(64512&i.charCodeAt(s+1))!=56320)?r[a++]=o>>12|224:(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n)),r[a++]=o>>18|240,r[a++]=o>>12&63|128),r[a++]=o>>6&63|128),r[a++]=63&o|128)}else for(n=0;n<e.length;n++)r[n]=0|e[n];return r},r.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=i(e[r].toString(16));return t},r.htonl=n,r.toHex32=function(e,t){for(var r="",a=0;a<e.length;a++){var i=e[a];"little"===t&&(i=n(i)),r+=s(i.toString(16))}return r},r.zero2=i,r.zero8=s,r.join32=function(e,t,r,n){var i,s=r-t;a(s%4==0);for(var o=Array(s/4),l=0,c=t;l<o.length;l++,c+=4)i="big"===n?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],o[l]=i>>>0;return o},r.split32=function(e,t){for(var r=Array(4*e.length),a=0,n=0;a<e.length;a++,n+=4){var i=e[a];"big"===t?(r[n]=i>>>24,r[n+1]=i>>>16&255,r[n+2]=i>>>8&255,r[n+3]=255&i):(r[n+3]=i>>>24,r[n+2]=i>>>16&255,r[n+1]=i>>>8&255,r[n]=255&i)}return r},r.rotr32=function(e,t){return e>>>t|e<<32-t},r.rotl32=function(e,t){return e<<t|e>>>32-t},r.sum32=function(e,t){return e+t>>>0},r.sum32_3=function(e,t,r){return e+t+r>>>0},r.sum32_4=function(e,t,r,a){return e+t+r+a>>>0},r.sum32_5=function(e,t,r,a,n){return e+t+r+a+n>>>0},r.sum64=function(e,t,r,a){var n=e[t],i=a+e[t+1]>>>0;e[t]=+(i<a)+r+n>>>0,e[t+1]=i},r.sum64_hi=function(e,t,r,a){return+(t+a>>>0<t)+e+r>>>0},r.sum64_lo=function(e,t,r,a){return t+a>>>0},r.sum64_4_hi=function(e,t,r,a,n,i,s,o){var l,c=t;return e+r+n+s+(l=0+ +((c=c+a>>>0)<t)+ +((c=c+i>>>0)<i)+ +((c=c+o>>>0)<o))>>>0},r.sum64_4_lo=function(e,t,r,a,n,i,s,o){return t+a+i+o>>>0},r.sum64_5_hi=function(e,t,r,a,n,i,s,o,l,c){var u,d=t;return e+r+n+s+l+(u=0+ +((d=d+a>>>0)<t)+ +((d=d+i>>>0)<i)+ +((d=d+o>>>0)<o)+ +((d=d+c>>>0)<c))>>>0},r.sum64_5_lo=function(e,t,r,a,n,i,s,o,l,c){return t+a+i+o+c>>>0},r.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},r.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},r.shr64_hi=function(e,t,r){return e>>>r},r.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},344377,(e,t,r)=>{"use strict";var a=e.r(129767),n=e.r(843831);function i(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}r.BlockHash=i,i.prototype.update=function(e,t){if(e=a.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=a.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},i.prototype.digest=function(e){return this.update(this._pad()),n(null===this.pending),this._digest(e)},i.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,a=Array(r+this.padLength);a[0]=128;for(var n=1;n<r;n++)a[n]=0;if(e<<=3,"big"===this.endian){for(var i=8;i<this.padLength;i++)a[n++]=0;a[n++]=0,a[n++]=0,a[n++]=0,a[n++]=0,a[n++]=e>>>24&255,a[n++]=e>>>16&255,a[n++]=e>>>8&255,a[n++]=255&e}else for(i=8,a[n++]=255&e,a[n++]=e>>>8&255,a[n++]=e>>>16&255,a[n++]=e>>>24&255,a[n++]=0,a[n++]=0,a[n++]=0,a[n++]=0;i<this.padLength;i++)a[n++]=0;return a}},245437,(e,t,r)=>{"use strict";var a=e.r(129767).rotr32;function n(e,t,r){return e&t^e&r^t&r}r.ft_1=function(e,t,r,a){var i;return 0===e?(i=t)&r^~i&a:1===e||3===e?t^r^a:2===e?n(t,r,a):void 0},r.ch32=function(e,t,r){return e&t^~e&r},r.maj32=n,r.p32=function(e,t,r){return e^t^r},r.s0_256=function(e){return a(e,2)^a(e,13)^a(e,22)},r.s1_256=function(e){return a(e,6)^a(e,11)^a(e,25)},r.g0_256=function(e){return a(e,7)^a(e,18)^e>>>3},r.g1_256=function(e){return a(e,17)^a(e,19)^e>>>10}},531730,(e,t,r)=>{"use strict";var a=e.r(129767),n=e.r(344377),i=e.r(245437),s=a.rotl32,o=a.sum32,l=a.sum32_5,c=i.ft_1,u=n.BlockHash,d=[0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xca62c1d6];function f(){if(!(this instanceof f))return new f;u.call(this),this.h=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0],this.W=Array(80)}a.inherits(f,u),t.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(e,t){for(var r=this.W,a=0;a<16;a++)r[a]=e[t+a];for(;a<r.length;a++)r[a]=s(r[a-3]^r[a-8]^r[a-14]^r[a-16],1);var n=this.h[0],i=this.h[1],u=this.h[2],f=this.h[3],h=this.h[4];for(a=0;a<r.length;a++){var m=~~(a/20),p=l(s(n,5),c(m,i,u,f),h,r[a],d[m]);h=f,f=u,u=s(i,30),i=n,n=p}this.h[0]=o(this.h[0],n),this.h[1]=o(this.h[1],i),this.h[2]=o(this.h[2],u),this.h[3]=o(this.h[3],f),this.h[4]=o(this.h[4],h)},f.prototype._digest=function(e){return"hex"===e?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},278638,(e,t,r)=>{"use strict";var a=e.r(129767),n=e.r(344377),i=e.r(245437),s=e.r(843831),o=a.sum32,l=a.sum32_4,c=a.sum32_5,u=i.ch32,d=i.maj32,f=i.s0_256,h=i.s1_256,m=i.g0_256,p=i.g1_256,x=n.BlockHash,g=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2];function b(){if(!(this instanceof b))return new b;x.call(this),this.h=[0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19],this.k=g,this.W=Array(64)}a.inherits(b,x),t.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(e,t){for(var r=this.W,a=0;a<16;a++)r[a]=e[t+a];for(;a<r.length;a++)r[a]=l(p(r[a-2]),r[a-7],m(r[a-15]),r[a-16]);var n=this.h[0],i=this.h[1],x=this.h[2],g=this.h[3],b=this.h[4],y=this.h[5],v=this.h[6],w=this.h[7];for(s(this.k.length===r.length),a=0;a<r.length;a++){var N=c(w,h(b),u(b,y,v),this.k[a],r[a]),j=o(f(n),d(n,i,x));w=v,v=y,y=b,b=o(g,N),g=x,x=i,i=n,n=o(N,j)}this.h[0]=o(this.h[0],n),this.h[1]=o(this.h[1],i),this.h[2]=o(this.h[2],x),this.h[3]=o(this.h[3],g),this.h[4]=o(this.h[4],b),this.h[5]=o(this.h[5],y),this.h[6]=o(this.h[6],v),this.h[7]=o(this.h[7],w)},b.prototype._digest=function(e){return"hex"===e?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},972323,(e,t,r)=>{"use strict";var a=e.r(129767),n=e.r(278638);function i(){if(!(this instanceof i))return new i;n.call(this),this.h=[0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]}a.inherits(i,n),t.exports=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(e){return"hex"===e?a.toHex32(this.h.slice(0,7),"big"):a.split32(this.h.slice(0,7),"big")}},818451,(e,t,r)=>{"use strict";var a=e.r(129767),n=e.r(344377),i=e.r(843831),s=a.rotr64_hi,o=a.rotr64_lo,l=a.shr64_hi,c=a.shr64_lo,u=a.sum64,d=a.sum64_hi,f=a.sum64_lo,h=a.sum64_4_hi,m=a.sum64_4_lo,p=a.sum64_5_hi,x=a.sum64_5_lo,g=n.BlockHash,b=[0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0xfc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x6ca6351,0xe003826f,0x14292967,0xa0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x6f067aa,0x72176fba,0xa637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179],this.k=b,this.W=Array(160)}a.inherits(y,g),t.exports=y,y.blockSize=1024,y.outSize=512,y.hmacStrength=192,y.padLength=128,y.prototype._prepareBlock=function(e,t){for(var r=this.W,a=0;a<32;a++)r[a]=e[t+a];for(;a<r.length;a+=2){var n=function(e,t){var r=s(e,t,19)^s(t,e,29)^l(e,t,6);return r<0&&(r+=0x100000000),r}(r[a-4],r[a-3]),i=function(e,t){var r=o(e,t,19)^o(t,e,29)^c(e,t,6);return r<0&&(r+=0x100000000),r}(r[a-4],r[a-3]),u=r[a-14],d=r[a-13],f=function(e,t){var r=s(e,t,1)^s(e,t,8)^l(e,t,7);return r<0&&(r+=0x100000000),r}(r[a-30],r[a-29]),p=function(e,t){var r=o(e,t,1)^o(e,t,8)^c(e,t,7);return r<0&&(r+=0x100000000),r}(r[a-30],r[a-29]),x=r[a-32],g=r[a-31];r[a]=h(n,i,u,d,f,p,x,g),r[a+1]=m(n,i,u,d,f,p,x,g)}},y.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,a=this.h[0],n=this.h[1],l=this.h[2],c=this.h[3],h=this.h[4],m=this.h[5],g=this.h[6],b=this.h[7],y=this.h[8],v=this.h[9],w=this.h[10],N=this.h[11],j=this.h[12],T=this.h[13],E=this.h[14],k=this.h[15];i(this.k.length===r.length);for(var A=0;A<r.length;A+=2){var S=E,_=k,C=function(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=0x100000000),r}(y,v),B=function(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=0x100000000),r}(y,v),L=function(e,t,r,a,n){var i=e&r^~e&n;return i<0&&(i+=0x100000000),i}(y,0,w,0,j,T),O=function(e,t,r,a,n,i){var s=t&a^~t&i;return s<0&&(s+=0x100000000),s}(0,v,0,N,0,T),R=this.k[A],I=this.k[A+1],V=r[A],P=r[A+1],D=p(S,_,C,B,L,O,R,I,V,P),F=x(S,_,C,B,L,O,R,I,V,P);S=function(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=0x100000000),r}(a,n),_=function(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=0x100000000),r}(a,n);var U=d(S,_,C=function(e,t,r,a,n){var i=e&r^e&n^r&n;return i<0&&(i+=0x100000000),i}(a,0,l,0,h,m),B=function(e,t,r,a,n,i){var s=t&a^t&i^a&i;return s<0&&(s+=0x100000000),s}(0,n,0,c,0,m)),M=f(S,_,C,B);E=j,k=T,j=w,T=N,w=y,N=v,y=d(g,b,D,F),v=f(b,b,D,F),g=h,b=m,h=l,m=c,l=a,c=n,a=d(D,F,U,M),n=f(D,F,U,M)}u(this.h,0,a,n),u(this.h,2,l,c),u(this.h,4,h,m),u(this.h,6,g,b),u(this.h,8,y,v),u(this.h,10,w,N),u(this.h,12,j,T),u(this.h,14,E,k)},y.prototype._digest=function(e){return"hex"===e?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},530957,(e,t,r)=>{"use strict";var a=e.r(129767),n=e.r(818451);function i(){if(!(this instanceof i))return new i;n.call(this),this.h=[0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]}a.inherits(i,n),t.exports=i,i.blockSize=1024,i.outSize=384,i.hmacStrength=192,i.padLength=128,i.prototype._digest=function(e){return"hex"===e?a.toHex32(this.h.slice(0,12),"big"):a.split32(this.h.slice(0,12),"big")}},84443,(e,t,r)=>{"use strict";r.sha1=e.r(531730),r.sha224=e.r(972323),r.sha256=e.r(278638),r.sha384=e.r(530957),r.sha512=e.r(818451)},121954,(e,t,r)=>{"use strict";var a=e.r(129767),n=e.r(344377),i=a.rotl32,s=a.sum32,o=a.sum32_3,l=a.sum32_4,c=n.BlockHash;function u(){if(!(this instanceof u))return new u;c.call(this),this.h=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0],this.endian="little"}function d(e,t,r,a){return e<=15?t^r^a:e<=31?t&r|~t&a:e<=47?(t|~r)^a:e<=63?t&a|r&~a:t^(r|~a)}a.inherits(u,c),r.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(e,t){for(var r=this.h[0],a=this.h[1],n=this.h[2],c=this.h[3],u=this.h[4],x=r,g=a,b=n,y=c,v=u,w=0;w<80;w++){var N,j,T=s(i(l(r,d(w,a,n,c),e[f[w]+t],(N=w)<=15?0:N<=31?0x5a827999:N<=47?0x6ed9eba1:N<=63?0x8f1bbcdc:0xa953fd4e),m[w]),u);r=u,u=c,c=i(n,10),n=a,a=T,T=s(i(l(x,d(79-w,g,b,y),e[h[w]+t],(j=w)<=15?0x50a28be6:j<=31?0x5c4dd124:j<=47?0x6d703ef3:0x7a6d76e9*!!(j<=63)),p[w]),v),x=v,v=y,y=i(b,10),b=g,g=T}T=o(this.h[1],n,y),this.h[1]=o(this.h[2],c,v),this.h[2]=o(this.h[3],u,x),this.h[3]=o(this.h[4],r,g),this.h[4]=o(this.h[0],a,b),this.h[0]=T},u.prototype._digest=function(e){return"hex"===e?a.toHex32(this.h,"little"):a.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},698800,(e,t,r)=>{"use strict";var a=e.r(129767),n=e.r(843831);function i(e,t,r){if(!(this instanceof i))return new i(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(a.toArray(t,r))}t.exports=i,i.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),n(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(t=0,this.inner=new this.Hash().update(e);t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},i.prototype.update=function(e,t){return this.inner.update(e,t),this},i.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},223336,(e,t,r)=>{r.utils=e.r(129767),r.common=e.r(344377),r.sha=e.r(84443),r.ripemd=e.r(121954),r.hmac=e.r(698800),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},530267,449814,151879,964118,116638,784865,e=>{"use strict";var t,r,a,n,i,s,o,l,c,u,d,f,h,m,p,x,g,b,y=e.i(29743);let v=[{inputs:[{components:[{internalType:"uint32",name:"dstEid",type:"uint32"},{internalType:"bytes32",name:"to",type:"bytes32"},{internalType:"uint256",name:"amountLD",type:"uint256"},{internalType:"uint256",name:"minAmountLD",type:"uint256"},{internalType:"bytes",name:"extraOptions",type:"bytes"},{internalType:"bytes",name:"composeMsg",type:"bytes"},{internalType:"bytes",name:"oftCmd",type:"bytes"}],internalType:"struct SendParam",name:"_sendParam",type:"tuple"},{components:[{internalType:"uint256",name:"nativeFee",type:"uint256"},{internalType:"uint256",name:"lzTokenFee",type:"uint256"}],internalType:"struct MessagingFee",name:"_fee",type:"tuple"},{internalType:"address",name:"_refundAddress",type:"address"}],name:"send",outputs:[{components:[{internalType:"bytes32",name:"guid",type:"bytes32"},{internalType:"uint64",name:"nonce",type:"uint64"},{components:[{internalType:"uint256",name:"nativeFee",type:"uint256"},{internalType:"uint256",name:"lzTokenFee",type:"uint256"}],internalType:"struct MessagingFee",name:"fee",type:"tuple"}],internalType:"struct MessagingReceipt",name:"msgReceipt",type:"tuple"},{components:[{internalType:"uint256",name:"amountSentLD",type:"uint256"},{internalType:"uint256",name:"amountReceivedLD",type:"uint256"}],internalType:"struct OFTReceipt",name:"oftReceipt",type:"tuple"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint32",name:"dstEid",type:"uint32"},{internalType:"bytes32",name:"to",type:"bytes32"},{internalType:"uint256",name:"amountLD",type:"uint256"},{internalType:"uint256",name:"minAmountLD",type:"uint256"},{internalType:"bytes",name:"extraOptions",type:"bytes"},{internalType:"bytes",name:"composeMsg",type:"bytes"},{internalType:"bytes",name:"oftCmd",type:"bytes"}],internalType:"struct SendParam",name:"_sendParam",type:"tuple"},{internalType:"bool",name:"_payInLzToken",type:"bool"}],name:"quoteSend",outputs:[{components:[{internalType:"uint256",name:"nativeFee",type:"uint256"},{internalType:"uint256",name:"lzTokenFee",type:"uint256"}],internalType:"struct MessagingFee",name:"msgFee",type:"tuple"}],stateMutability:"view",type:"function"}];var w=e.i(751755);async function N(e,t,r=20,a=[3e4,5e3]){let n=(0,w.getChain)(e);if(!n)throw Error(`Unsupported chainId: ${e}`);let i=n.testnet?"https://scan-testnet.layerzero-api.com/v1":"https://scan.layerzero-api.com/v1",s=0;for(;s<r;){let e=a[s]??a[a.length-1];await new Promise(t=>setTimeout(t,e));try{let e=await fetch(`${i}/messages/tx/${t}`),a=(await e.json())?.data?.[0],n=a?.status;if(n&&("DELIVERED"===n.name||"COMPLETED"===n.name))return;if(n)throw Error(`${n.name}: ${n.message}`);console.log(`Try ${s+1}/${r}: Status ${n?.name}`)}catch(e){console.error("waitLayerZeroSend:",e)}s++}throw Error("Check transaction status timed out")}var j=e.i(475745),T=e.i(185442),E=e.i(647163),k=e.i(388654),A=e.i(211051),S=e.i(572767);let _=!1,C=!1,B={debug:1,default:2,info:2,warning:3,error:4,off:5},L=B.default,O=null,R=function(){try{let e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw Error("bad normalize")}catch(r){e.push(t)}}),e.length)throw Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw Error("broken implementation")}catch(e){return e.message}return null}();(t=m||(m={})).DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF",(r=p||(p={})).UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED";let I="0123456789abcdef";class V{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let r=e.toLowerCase();null==B[r]&&this.throwArgumentError("invalid log level name","logLevel",e),L>B[r]||console.log.apply(console,t)}debug(...e){this._log(V.levels.DEBUG,e)}info(...e){this._log(V.levels.INFO,e)}warn(...e){this._log(V.levels.WARNING,e)}makeError(e,t,r){if(C)return this.makeError("censored error",t,{});t||(t=V.errors.UNKNOWN_ERROR),r||(r={});let a=[];Object.keys(r).forEach(e=>{let t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=I[t[e]>>4],r+=I[15&t[e]];a.push(e+"=Uint8Array(0x"+r+")")}else a.push(e+"="+JSON.stringify(t))}catch(t){a.push(e+"="+JSON.stringify(r[e].toString()))}}),a.push(`code=${t}`),a.push(`version=${this.version}`);let n=e,i="";switch(t){case p.NUMERIC_FAULT:{i="NUMERIC_FAULT";let t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":i+="-"+t;break;case"negative-power":case"negative-width":i+="-unsupported";break;case"unbound-bitwise-result":i+="-unbound-result"}break}case p.CALL_EXCEPTION:case p.INSUFFICIENT_FUNDS:case p.MISSING_NEW:case p.NONCE_EXPIRED:case p.REPLACEMENT_UNDERPRICED:case p.TRANSACTION_REPLACED:case p.UNPREDICTABLE_GAS_LIMIT:i=t}i&&(e+=" [ See: https://links.ethers.org/v5-errors-"+i+" ]"),a.length&&(e+=" ("+a.join(", ")+")");let s=Error(e);return s.reason=n,s.code=t,Object.keys(r).forEach(function(e){s[e]=r[e]}),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,V.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,a){e||this.throwError(t,r,a)}assertArgument(e,t,r,a){e||this.throwArgumentError(t,r,a)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),R&&this.throwError("platform missing String.prototype.normalize",V.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:R})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=0x1fffffffffffff)&&this.throwError(t,V.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,V.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,V.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,V.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||null==e)&&this.throwError("missing new",V.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",V.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||null==e)&&this.throwError("missing new",V.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return O||(O=new V("logger/5.8.0")),O}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",V.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_){if(!e)return;this.globalLogger().throwError("error censorship permanent",V.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}C=!!e,_=!!t}static setLogLevel(e){let t=B[e.toLowerCase()];null==t?V.globalLogger().warn("invalid log level - "+e):L=t}static from(e){return new V(e)}}V.errors=p,V.levels=m;let P=new V("bytes/5.8.0");function D(e){return!!e.toHexString}function F(e){return e.slice||(e.slice=function(){let t=Array.prototype.slice.call(arguments);return F(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function U(e){return"number"==typeof e&&e==e&&e%1==0}function M(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e||!U(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){let r=e[t];if(!U(r)||r<0||r>=256)return!1}return!0}function z(e,t){if(t||(t={}),"number"==typeof e){P.checkSafeUint53(e,"invalid arrayify value");let t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),F(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),D(e)&&(e=e.toHexString()),q(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":P.throwArgumentError("hex data is odd-length","value",e));let a=[];for(let e=0;e<r.length;e+=2)a.push(parseInt(r.substring(e,e+2),16));return F(new Uint8Array(a))}return M(e)?F(new Uint8Array(e)):P.throwArgumentError("invalid arrayify value","value",e)}function $(e){let t=e.map(e=>z(e)),r=new Uint8Array(t.reduce((e,t)=>e+t.length,0));return t.reduce((e,t)=>(r.set(t,e),e+t.length),0),F(r)}function H(e,t){(e=z(e)).length>t&&P.throwArgumentError("value out of range","value",arguments[0]);let r=new Uint8Array(t);return r.set(e,t-e.length),F(r)}function q(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&(!t||e.length===2+2*t)}let W="0123456789abcdef";function G(e,t){if(t||(t={}),"number"==typeof e){P.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=W[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),D(e))return e.toHexString();if(q(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":P.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(M(e)){let t="0x";for(let r=0;r<e.length;r++){let a=e[r];t+=W[(240&a)>>4]+W[15&a]}return t}return P.throwArgumentError("invalid hexlify value","value",e)}function Y(e,t){for("string"!=typeof e?e=G(e):q(e)||P.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&P.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}var K=e.i(492711).default.BN;let J=new V("bignumber/5.8.0"),X={},Z=!1;class Q{constructor(e,t){e!==X&&J.throwError("cannot call constructor directly; use BigNumber.from",V.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return et(er(this).fromTwos(e))}toTwos(e){return et(er(this).toTwos(e))}abs(){return"-"===this._hex[0]?Q.from(this._hex.substring(1)):this}add(e){return et(er(this).add(er(e)))}sub(e){return et(er(this).sub(er(e)))}div(e){return Q.from(e).isZero()&&ea("division-by-zero","div"),et(er(this).div(er(e)))}mul(e){return et(er(this).mul(er(e)))}mod(e){let t=er(e);return t.isNeg()&&ea("division-by-zero","mod"),et(er(this).umod(t))}pow(e){let t=er(e);return t.isNeg()&&ea("negative-power","pow"),et(er(this).pow(t))}and(e){let t=er(e);return(this.isNegative()||t.isNeg())&&ea("unbound-bitwise-result","and"),et(er(this).and(t))}or(e){let t=er(e);return(this.isNegative()||t.isNeg())&&ea("unbound-bitwise-result","or"),et(er(this).or(t))}xor(e){let t=er(e);return(this.isNegative()||t.isNeg())&&ea("unbound-bitwise-result","xor"),et(er(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&ea("negative-width","mask"),et(er(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&ea("negative-width","shl"),et(er(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&ea("negative-width","shr"),et(er(this).shrn(e))}eq(e){return er(this).eq(er(e))}lt(e){return er(this).lt(er(e))}lte(e){return er(this).lte(er(e))}gt(e){return er(this).gt(er(e))}gte(e){return er(this).gte(er(e))}isNegative(){return"-"===this._hex[0]}isZero(){return er(this).isZero()}toNumber(){try{return er(this).toNumber()}catch(e){ea("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return J.throwError("this platform does not support BigInt",V.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?Z||(Z=!0,J.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?J.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",V.errors.UNEXPECTED_ARGUMENT,{}):J.throwError("BigNumber.toString does not accept parameters",V.errors.UNEXPECTED_ARGUMENT,{})),er(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Q)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new Q(X,ee(e)):e.match(/^-?[0-9]+$/)?new Q(X,ee(new K(e))):J.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&ea("underflow","BigNumber.from",e),(e>=0x1fffffffffffff||e<=-0x1fffffffffffff)&&ea("overflow","BigNumber.from",e),Q.from(String(e));if("bigint"==typeof e)return Q.from(e.toString());if(M(e))return Q.from(G(e));if(e)if(e.toHexString){let t=e.toHexString();if("string"==typeof t)return Q.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(q(t)||"-"===t[0]&&q(t.substring(1))))return Q.from(t)}return J.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function ee(e){if("string"!=typeof e)return ee(e.toString(16));if("-"===e[0])return("-"===(e=e.substring(1))[0]&&J.throwArgumentError("invalid hex","value",e),"0x00"===(e=ee(e)))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function et(e){return Q.from(ee(e))}function er(e){let t=Q.from(e).toHexString();return"-"===t[0]?new K("-"+t.substring(3),16):new K(t.substring(2),16)}function ea(e,t,r){let a={fault:e,operation:t};return null!=r&&(a.value=r),J.throwError(e,V.errors.NUMERIC_FAULT,a)}var en=e.i(451697);new V("rlp/5.8.0");let ei=new V("address/5.8.0");function es(e){q(e,20)||ei.throwArgumentError("invalid address","address",e);let t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);let a=z("0x"+en.default.keccak_256(z(r)));for(let e=0;e<40;e+=2)a[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&a[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}let eo={};for(let e=0;e<10;e++)eo[String(e)]=String(e);for(let e=0;e<26;e++)eo[String.fromCharCode(65+e)]=String(10+e);let el=Math.floor(Math.log10?Math.log10(0x1fffffffffffff):Math.log(0x1fffffffffffff)/Math.LN10);function ec(e){let t=null;if("string"!=typeof e&&ei.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=es(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&ei.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==function(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>eo[e]).join("");for(;t.length>=el;){let e=t.substring(0,el);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}(e)&&ei.throwArgumentError("bad icap checksum","address",e),t=new K(e.substring(4),36).toString(16);t.length<40;)t="0"+t;t=es("0x"+t)}else ei.throwArgumentError("invalid address","address",e);return t}var eu=e.i(228132);function ed(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}new V("properties/5.8.0");let ef="abi/5.8.0",eh=new V(ef);class em{constructor(e,t,r,a){this.name=e,this.type=t,this.localName=r,this.dynamic=a}_throwError(e,t){eh.throwArgumentError(e,this.localName,t)}}class ep{constructor(e){ed(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){var e;let t;return e=this._data,t="0x",e.forEach(e=>{t+=G(e).substring(2)}),t}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData($(e._data))}writeBytes(e){let t=z(e),r=t.length%this.wordSize;return r&&(t=$([t,this._padding.slice(r)])),this._writeData(t)}_getValue(e){let t=z(Q.from(e));return t.length>this.wordSize&&eh.throwError("value out-of-bounds",V.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=$([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){let e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class ex{constructor(e,t,r,a){ed(this,"_data",z(e)),ed(this,"wordSize",t||32),ed(this,"_coerceFunc",r),ed(this,"allowLoose",a),this._offset=0}get data(){return G(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&48>=parseInt(r[1])&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):ex.coerce(e,t)}_peekBytes(e,t,r){let a=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+a>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?a=t:eh.throwError("data out-of-bounds",V.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+a})),this._data.slice(this._offset,this._offset+a)}subReader(e){return new ex(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return Q.from(this.readBytes(this.wordSize))}}class eg extends em{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=ec(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}decode(e){return ec(Y(e.readValue().toHexString(),20))}}class eb extends em{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}let ey=new V(ef);function ev(e,t,r){let a=null;if(Array.isArray(r))a=r;else if(r&&"object"==typeof r){let e={};a=t.map(t=>{let a=t.localName;return a||ey.throwError("cannot encode object for signature with missing names",V.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[a]&&ey.throwError("cannot encode object for signature with duplicate names",V.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[a]=!0,r[a]})}else ey.throwArgumentError("invalid tuple value","tuple",r);t.length!==a.length&&ey.throwArgumentError("types/value length mismatch","tuple",r);let n=new ep(e.wordSize),i=new ep(e.wordSize),s=[];t.forEach((e,t)=>{let r=a[t];if(e.dynamic){let t=i.length;e.encode(i,r);let a=n.writeUpdatableValue();s.push(e=>{a(e+t)})}else e.encode(n,r)}),s.forEach(e=>{e(n.length)});let o=e.appendWriter(n);return o+e.appendWriter(i)}function ew(e,t){let r=[],a=e.subReader(0);t.forEach(t=>{let n=null;if(t.dynamic){let r=e.readValue(),i=a.subReader(r.toNumber());try{n=t.decode(i)}catch(e){if(e.code===V.errors.BUFFER_OVERRUN)throw e;(n=e).baseType=t.name,n.name=t.localName,n.type=t.type}}else try{n=t.decode(e)}catch(e){if(e.code===V.errors.BUFFER_OVERRUN)throw e;(n=e).baseType=t.name,n.name=t.localName,n.type=t.type}void 0!=n&&r.push(n)});let n=t.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});t.forEach((e,t)=>{let a=e.localName;if(!a||1!==n[a]||("length"===a&&(a="_length"),null!=r[a]))return;let i=r[t];i instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw i}}):r[a]=i});for(let e=0;e<r.length;e++){let t=r[e];t instanceof Error&&Object.defineProperty(r,e,{enumerable:!0,get:()=>{throw t}})}return Object.freeze(r)}class eN extends em{constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),this.coder=e,this.length=t}defaultValue(){let e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),ey.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let e=0;e<t.length;e++)a.push(this.coder);return ev(e,a,t)}decode(e){let t=this.length;-1===t&&32*(t=e.readValue().toNumber())>e._data.length&&ey.throwError("insufficient data length",V.errors.BUFFER_OVERRUN,{length:e._data.length,count:t});let r=[];for(let e=0;e<t;e++)r.push(new eb(this.coder));return e.coerce(this.name,ew(e,r))}}class ej extends em{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(+!!t)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class eT extends em{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=z(t);let r=e.writeValue(t.length);return r+e.writeBytes(t)}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class eE extends eT{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,G(super.decode(e)))}}class ek extends em{constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=z(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e.coerce(this.name,G(e.readBytes(this.size)))}}class eA extends em{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}let eS=Q.from(-1),e_=Q.from(0),eC=Q.from(1),eB=Q.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class eL extends em{constructor(e,t,r){const a=(t?"int":"uint")+8*e;super(a,a,r,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let r=Q.from(t),a=eB.mask(8*e.wordSize);if(this.signed){let e=a.mask(8*this.size-1);(r.gt(e)||r.lt(e.add(eC).mul(eS)))&&this._throwError("value out-of-bounds",t)}else(r.lt(e_)||r.gt(a.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}let eO=new V("strings/5.8.0");function eR(e,t,r,a,n){if(e===g.BAD_PREFIX||e===g.UNEXPECTED_CONTINUE){let e=0;for(let a=t+1;a<r.length&&r[a]>>6==2;a++)e++;return e}return e===g.OVERRUN?r.length-t-1:0}(a=x||(x={})).current="",a.NFC="NFC",a.NFD="NFD",a.NFKC="NFKC",a.NFKD="NFKD",(n=g||(g={})).UNEXPECTED_CONTINUE="unexpected continuation byte",n.BAD_PREFIX="bad codepoint prefix",n.OVERRUN="string overrun",n.MISSING_CONTINUE="missing continuation byte",n.OUT_OF_RANGE="out of UTF-8 range",n.UTF16_SURROGATE="UTF-16 surrogate",n.OVERLONG="overlong representation";let eI=Object.freeze({error:function(e,t,r,a,n){return eO.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:eR,replace:function(e,t,r,a,n){return e===g.OVERLONG?(a.push(n),0):(a.push(65533),eR(e,t,r,a,n))}});function eV(e,t=x.current){t!=x.current&&(eO.checkNormalize(),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){let a=e.charCodeAt(t);if(a<128)r.push(a);else if(a<2048)r.push(a>>6|192),r.push(63&a|128);else if((64512&a)==55296){t++;let n=e.charCodeAt(t);if(t>=e.length||(64512&n)!=56320)throw Error("invalid utf-8 string");let i=65536+((1023&a)<<10)+(1023&n);r.push(i>>18|240),r.push(i>>12&63|128),r.push(i>>6&63|128),r.push(63&i|128)}else r.push(a>>12|224),r.push(a>>6&63|128),r.push(63&a|128)}return z(r)}class eP extends eT{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,eV(t))}decode(e){return(function(e,t){null==t&&(t=eI.error),e=z(e);let r=[],a=0;for(;a<e.length;){let n=e[a++];if(n>>7==0){r.push(n);continue}let i=null,s=null;if((224&n)==192)i=1,s=127;else if((240&n)==224)i=2,s=2047;else if((248&n)==240)i=3,s=65535;else{(192&n)==128?a+=t(g.UNEXPECTED_CONTINUE,a-1,e,r):a+=t(g.BAD_PREFIX,a-1,e,r);continue}if(a-1+i>=e.length){a+=t(g.OVERRUN,a-1,e,r);continue}let o=n&(1<<8-i-1)-1;for(let n=0;n<i;n++){let n=e[a];if((192&n)!=128){a+=t(g.MISSING_CONTINUE,a,e,r),o=null;break}o=o<<6|63&n,a++}if(null!==o){if(o>1114111){a+=t(g.OUT_OF_RANGE,a-1-i,e,r,o);continue}if(o>=55296&&o<=57343){a+=t(g.UTF16_SURROGATE,a-1-i,e,r,o);continue}if(o<=s){a+=t(g.OVERLONG,a-1-i,e,r,o);continue}r.push(o)}}return r})(super.decode(e),void 0).map(e=>e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10&1023)+55296,(1023&e)+56320)).join("")}}class eD extends em{constructor(e,t){let r=!1;const a=[];e.forEach(e=>{e.dynamic&&(r=!0),a.push(e.type)}),super("tuple","tuple("+a.join(",")+")",t,r),this.coders=e}defaultValue(){let e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});let t=this.coders.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});return this.coders.forEach((r,a)=>{let n=r.localName;n&&1===t[n]&&("length"===n&&(n="_length"),null==e[n]&&(e[n]=e[a]))}),Object.freeze(e)}encode(e,t){return ev(e,this.coders,t)}decode(e){return e.coerce(this.name,ew(e,this.coders))}}let eF=new V(ef),eU={},eM={calldata:!0,memory:!0,storage:!0},ez={calldata:!0,memory:!0};function e$(e,t){if("bytes"===e||"string"===e){if(eM[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&ez[t])return!0;return(eM[t]||"payable"===t)&&eF.throwArgumentError("invalid modifier","name",t),!1}function eH(e,t){for(let r in t)ed(e,r,t[r])}let eq=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),eW=new RegExp(/^(.*)\[([0-9]*)\]$/);class eG{constructor(e,t){e!==eU&&eF.throwError("use fromString",V.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),eH(this,t);let r=this.type.match(eW);r?eH(this,{arrayLength:parseInt(r[2]||"-1"),arrayChildren:eG.fromObject({type:r[1],components:this.components}),baseType:"array"}):eH(this,{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=eq.sighash),eq[e]||eF.throwArgumentError("invalid format type","format",e),e===eq.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(t)}let t="";return"array"===this.baseType?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==eq.sighash&&(t+=this.type),t+="("+this.components.map(t=>t.format(e)).join(e===eq.full?", ":",")+")"):t+=this.type,e!==eq.sighash&&(!0===this.indexed&&(t+=" indexed"),e===eq.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return"string"==typeof e?eG.fromString(e,t):eG.fromObject(e)}static fromObject(e){return eG.isParamType(e)?e:new eG(eU,{name:e.name||null,type:e5(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(eG.fromObject):null})}static fromString(e,t){var r;return r=function(e,t){let r=e;function a(t){eF.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function n(e){let r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");let i={type:"",name:"",state:{allowType:!0}},s=i;for(let r=0;r<e.length;r++){let i=e[r];switch(i){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||a(r),s.state.allowType=!1,s.type=e5(s.type),s.components=[n(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(t||a(r),s.indexed=!0,s.name=""),e$(s.type,s.name)&&(s.name=""),s.type=e5(s.type);let o=s;(s=s.parent)||a(r),delete o.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(t||a(r),s.indexed=!0,s.name=""),e$(s.type,s.name)&&(s.name=""),s.type=e5(s.type);let l=n(s.parent);s.parent.components.push(l),delete s.parent,s=l;break;case" ":s.state.allowType&&""!==s.type&&(s.type=e5(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(t||a(r),s.indexed&&a(r),s.indexed=!0,s.name=""):e$(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||a(r),s.type+=i,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||a(r),s.type+=i,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=i,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=i,delete s.state.allowArray):s.state.readArray?s.type+=i:a(r)}}return s.parent&&eF.throwArgumentError("unexpected eof","param",e),delete i.state,"indexed"===s.name?(t||a(r.length-7),s.indexed&&a(r.length-7),s.indexed=!0,s.name=""):e$(s.type,s.name)&&(s.name=""),i.type=e5(i.type),i}(e,!!t),eG.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components})}static isParamType(e){return!!(null!=e&&e._isParamType)}}function eY(e,t){return(function(e){e=e.trim();let t=[],r="",a=0;for(let n=0;n<e.length;n++){let i=e[n];","===i&&0===a?(t.push(r),r=""):(r+=i,"("===i?a++:")"===i&&-1==--a&&eF.throwArgumentError("unbalanced parenthesis","value",e))}return r&&t.push(r),t})(e).map(e=>eG.fromString(e,t))}class eK{constructor(e,t){e!==eU&&eF.throwError("use a static from method",V.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),eH(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return eK.isFragment(e)?e:"string"==typeof e?eK.fromString(e):eK.fromObject(e)}static fromObject(e){if(eK.isFragment(e))return e;switch(e.type){case"function":return e1.fromObject(e);case"event":return eJ.fromObject(e);case"constructor":return e0.fromObject(e);case"error":return e3.fromObject(e);case"fallback":case"receive":return null}return eF.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?eJ.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?e1.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?e0.fromString(e.trim()):"error"===e.split(" ")[0]?e3.fromString(e.substring(5).trim()):eF.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class eJ extends eK{format(e){if(e||(e=eq.sighash),eq[e]||eF.throwArgumentError("invalid format type","format",e),e===eq.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==eq.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===eq.full?", ":",")+") ",e!==eq.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"==typeof e?eJ.fromString(e):eJ.fromObject(e)}static fromObject(e){return eJ.isEventFragment(e)?e:("event"!==e.type&&eF.throwArgumentError("invalid event object","value",e),new eJ(eU,{name:e6(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(eG.fromObject):[],type:"event"}))}static fromString(e){let t=e.match(e8);t||eF.throwArgumentError("invalid event string","value",e);let r=!1;return t[3].split(" ").forEach(e=>{switch(e.trim()){case"anonymous":r=!0;break;case"":break;default:eF.warn("unknown modifier: "+e)}}),eJ.fromObject({name:t[1].trim(),anonymous:r,inputs:eY(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function eX(e,t){t.gas=null;let r=e.split("@");return 1!==r.length?(r.length>2&&eF.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||eF.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=Q.from(r[1]),r[0]):e}function eZ(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach(e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}})}function eQ(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&eF.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&eF.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||eF.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&eF.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&eF.throwArgumentError("unable to determine stateMutability","value",e),t}class e0 extends eK{format(e){if(e||(e=eq.sighash),eq[e]||eF.throwArgumentError("invalid format type","format",e),e===eq.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});e===eq.sighash&&eF.throwError("cannot format a constructor for sighash",V.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(t=>t.format(e)).join(e===eq.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"==typeof e?e0.fromString(e):e0.fromObject(e)}static fromObject(e){if(e0.isConstructorFragment(e))return e;"constructor"!==e.type&&eF.throwArgumentError("invalid constructor object","value",e);let t=eQ(e);return t.constant&&eF.throwArgumentError("constructor cannot be constant","value",e),new e0(eU,{name:null,type:e.type,inputs:e.inputs?e.inputs.map(eG.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?Q.from(e.gas):null})}static fromString(e){let t={type:"constructor"},r=(e=eX(e,t)).match(e8);return r&&"constructor"===r[1].trim()||eF.throwArgumentError("invalid constructor string","value",e),t.inputs=eY(r[2].trim(),!1),eZ(r[3].trim(),t),e0.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class e1 extends e0{format(e){if(e||(e=eq.sighash),eq[e]||eF.throwArgumentError("invalid format type","format",e),e===eq.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==eq.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===eq.full?", ":",")+") ",e!==eq.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(t=>t.format(e)).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"==typeof e?e1.fromString(e):e1.fromObject(e)}static fromObject(e){if(e1.isFunctionFragment(e))return e;"function"!==e.type&&eF.throwArgumentError("invalid function object","value",e);let t=eQ(e);return new e1(eU,{type:e.type,name:e6(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(eG.fromObject):[],outputs:e.outputs?e.outputs.map(eG.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?Q.from(e.gas):null})}static fromString(e){let t={type:"function"},r=(e=eX(e,t)).split(" returns ");r.length>2&&eF.throwArgumentError("invalid function string","value",e);let a=r[0].match(e8);if(a||eF.throwArgumentError("invalid function signature","value",e),t.name=a[1].trim(),t.name&&e6(t.name),t.inputs=eY(a[2],!1),eZ(a[3].trim(),t),r.length>1){let a=r[1].match(e8);(""!=a[1].trim()||""!=a[3].trim())&&eF.throwArgumentError("unexpected tokens","value",e),t.outputs=eY(a[2],!1)}else t.outputs=[];return e1.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function e2(e){let t=e.format();return("Error(string)"===t||"Panic(uint256)"===t)&&eF.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class e3 extends eK{format(e){if(e||(e=eq.sighash),eq[e]||eF.throwArgumentError("invalid format type","format",e),e===eq.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==eq.sighash&&(t+="error "),(t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===eq.full?", ":",")+") ").trim()}static from(e){return"string"==typeof e?e3.fromString(e):e3.fromObject(e)}static fromObject(e){return e3.isErrorFragment(e)?e:("error"!==e.type&&eF.throwArgumentError("invalid error object","value",e),e2(new e3(eU,{type:e.type,name:e6(e.name),inputs:e.inputs?e.inputs.map(eG.fromObject):[]})))}static fromString(e){let t={type:"error"},r=e.match(e8);return r||eF.throwArgumentError("invalid error signature","value",e),t.name=r[1].trim(),t.name&&e6(t.name),t.inputs=eY(r[2],!1),e2(e3.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&"error"===e.type}}function e5(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}let e4=RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function e6(e){return e&&e.match(e4)||eF.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}let e8=RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$"),e7=new V(ef),e9=new RegExp(/^bytes([0-9]*)$/),te=new RegExp(/^(u?int)([0-9]*)$/);new class{constructor(e){ed(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new eg(e.name);case"bool":return new ej(e.name);case"string":return new eP(e.name);case"bytes":return new eE(e.name);case"array":return new eN(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new eD((e.components||[]).map(e=>this._getCoder(e)),e.name);case"":return new eA(e.name)}let t=e.type.match(te);if(t){let r=parseInt(t[2]||"256");return(0===r||r>256||r%8!=0)&&e7.throwArgumentError("invalid "+t[1]+" bit length","param",e),new eL(r/8,"int"===t[1],e.name)}if(t=e.type.match(e9)){let r=parseInt(t[1]);return(0===r||r>32)&&e7.throwArgumentError("invalid bytes length","param",e),new ek(r,e.name)}return e7.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new ex(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new ep(this._getWordSize())}getDefaultValue(e){return new eD(e.map(e=>this._getCoder(eG.from(e))),"_").defaultValue()}encode(e,t){e.length!==t.length&&e7.throwError("types/values length mismatch",V.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});let r=new eD(e.map(e=>this._getCoder(eG.from(e))),"_"),a=this._getWriter();return r.encode(a,t),a.data}decode(e,t,r){return new eD(e.map(e=>this._getCoder(eG.from(e))),"_").decode(this._getReader(z(t),r))}},e.i(223336),(i=b||(b={})).sha256="sha256",i.sha512="sha512",new V("sha2/5.8.0");let tt=RegExp("^bytes([0-9]+)$"),tr=RegExp("^(u?int)([0-9]*)$"),ta=RegExp("^(.*)\\[([0-9]*)\\]$"),tn=new V("solidity/5.8.0");function ti(e,t){e.length!=t.length&&tn.throwArgumentError("wrong number of values; expected ${ types.length }","values",t);let r=[];return e.forEach(function(e,a){r.push(function e(t,r,a){switch(t){case"address":if(a)return H(r,32);return z(r);case"string":return eV(r);case"bytes":return z(r);case"bool":if(r=r?"0x01":"0x00",a)return H(r,32);return z(r)}let n=t.match(tr);if(n){let e=parseInt(n[2]||"256");return(n[2]&&String(e)!==n[2]||e%8!=0||0===e||e>256)&&tn.throwArgumentError("invalid number type","type",t),a&&(e=256),H(r=Q.from(r).toTwos(e),e/8)}if(n=t.match(tt)){let e=parseInt(n[1]);return((String(e)!==n[1]||0===e||e>32)&&tn.throwArgumentError("invalid bytes type","type",t),z(r).byteLength!==e&&tn.throwArgumentError(`invalid value for ${t}`,"value",r),a)?z((r+"0000000000000000000000000000000000000000000000000000000000000000").substring(0,66)):r}if((n=t.match(ta))&&Array.isArray(r)){let a=n[1];parseInt(n[2]||String(r.length))!=r.length&&tn.throwArgumentError(`invalid array length for ${t}`,"value",r);let i=[];return r.forEach(function(t){i.push(e(a,t,!0))}),$(i)}return tn.throwArgumentError("invalid type","type",t)}(e,t[a]))}),G($(r))}function ts(e,t){if(!e)throw Error("Invariant failed")}function to(e){return e.replace(/^0x/,"")}e.i(494561);var tl=/^([1-9A-HJ-NP-Za-km-z]{32,44})$/,tc=((s=tc||{})[s.TYPE_1=1]="TYPE_1",s[s.TYPE_2=2]="TYPE_2",s[s.TYPE_3=3]="TYPE_3",s),tu=Q.from("0xffffffffffffffffffffffffffffffff"),td=((o=td||{})[o.EXECUTOR=1]="EXECUTOR",o[o.VERIFIER=2]="VERIFIER",o[o.TREASURY=255]="TREASURY",o),tf=((l=tf||{})[l.LZ_RECEIVE=1]="LZ_RECEIVE",l[l.NATIVE_DROP=2]="NATIVE_DROP",l[l.COMPOSE=3]="COMPOSE",l[l.ORDERED=4]="ORDERED",l[l.LZ_READ=5]="LZ_READ",l),th=((c=th||{})[c.PRECRIME=1]="PRECRIME",c),tm=class e{workerOptions=[];constructor(){}static newOptions(){return new e}static fromOptions(t){let r=new e,a=z(t),n=Q.from(a.slice(0,2)).toNumber();if(3===n){let e=2;for(;e<a.byteLength;){let t=Q.from(a.slice(e,e+1)).toNumber();e+=1;let n=Q.from(a.slice(e,e+2)).toNumber();if(e+=2,1===t){let i=Q.from(a.slice(e,e+1)).toNumber();e+=1;let s=a.slice(e,e+n-1);e+=n-1,r.addOption(t,{type:i,params:G(s)})}else if(2===t){let i=Q.from(a.slice(e,e+1)).toNumber();e+=1;let s=Q.from(a.slice(e,e+1)).toNumber();e+=1;let o=a.slice(e,e+n-2);e+=n-2;let l={type:s,index:i,params:G(o)};r.addOption(t,l)}}}else if(2===n){let e=Q.from(a.slice(2,34)).toBigInt(),t=Q.from(a.slice(34,66)).toBigInt(),n=G(a.slice(66,a.byteLength));r.addExecutorLzReceiveOption(e).addExecutorNativeDropOption(t,n)}else if(1===n){let e=Q.from(a.slice(2,34)).toBigInt();r.addExecutorLzReceiveOption(e)}return r}addExecutorLzReceiveOption(e,t=0){let r=Q.from(e);ts(r.lte(tu),"gasLimit shouldn't be greater than MAX_UINT_128");let a=Q.from(t);return ts(a.lte(tu),"value shouldn't be greater than MAX_UINT_128"),this.addOption(1,{type:1,params:a.eq(0)?ti(["uint128"],[r]):ti(["uint128","uint128"],[r,a])}),this}addExecutorNativeDropOption(e,t){let r=Q.from(e);return ts(r.lte(tu),"nativeDrop shouldn't be greater than MAX_UINT_128"),this.addOption(1,{type:2,params:ti(["uint128","bytes32"],[r,function(e){var t;if(t=e,tl.test(t))return eu.default.decode(e);if(e.startsWith("0x")&&e.length<=66)return z(Y(e,32));throw Error("Invalid address")}(t)])}),this}addExecutorComposeOption(e,t,r=0){let a=Q.from(t);ts(a.lte(tu),"gasLimit shouldn't be greater than MAX_UINT_128");let n=Q.from(r);ts(n.lte(tu),"nativeDrop shouldn't be greater than MAX_UINT_128");let i=n.gt(0)?{type:3,params:ti(["uint16","uint128","uint128"],[e,a,n])}:{type:3,params:ti(["uint16","uint128"],[e,a])};return this.addOption(1,i),this}addExecutorOrderedExecutionOption(){return this.addOption(1,{type:4,params:"0x"}),this}addExecutorLzReadOption(e,t,r=0){let a=Q.from(e),n=Q.from(t),i=Q.from(r);return this.addOption(1,{type:5,params:i.eq(0)?ti(["uint128","uint32"],[a,n]):ti(["uint128","uint32","uint128"],[a,n,i])}),this}addVerifierPrecrimeOption(e){return this.addOption(2,{type:1,index:e,params:"0x"}),this}toHex(){let e=ti(["uint16"],[3]);return this.workerOptions.forEach(t=>{for(let r of t.options)1===t.workerId?e+=to(ti(["uint8","uint16","uint8","bytes"],[t.workerId,to(r.params).length/2+1,r.type,r.params])):2===t.workerId&&(e+=to(ti(["uint8","uint16","uint8","uint8","bytes"],[t.workerId,to(r.params).length/2+2,r.index,r.type,r.params])))}),e}toBytes(){return z(this.toHex())}addOption(e,t){let r=this.workerOptions.find(t=>t.workerId===e);r?r.options.push(t):this.workerOptions.push({workerId:e,options:[t]})}decodeExecutorLzReceiveOption(){let e=this.findOptions(1,1);if(void 0===e||Array.isArray(e)&&0===e.length)return;let t=Q.from(0).toBigInt(),r=Q.from(0).toBigInt();for(let a of e=Array.isArray(e)?e:[e]){let e=S.Buffer.from(to(a.params),"hex"),n=Q.from(e.subarray(0,16)).toBigInt(),i=Q.from(16===e.length?0:e.subarray(16,32)).toBigInt();t+=n,r+=i}return{gas:t,value:r}}decodeExecutorNativeDropOption(){let e=this.findOptions(1,2);return e&&0!==e.length?Object.values(e.reduce((e,t)=>{let r=S.Buffer.from(to(t.params),"hex"),a=Q.from(r.subarray(0,16)).toBigInt(),n=G(r.subarray(16,48));return n in e?e[n].amount=e[n].amount+a:e[n]={amount:a,receiver:n},e},{})):[]}decodeExecutorComposeOption(){let e=this.findOptions(1,3);return e&&0!==e.length?Object.values(e.reduce((e,t)=>{let r=S.Buffer.from(to(t.params),"hex"),a=Q.from(r.subarray(0,2)).toNumber(),n=Q.from(r.subarray(2,18)).toBigInt(),i=(34===r.length?Q.from(r.subarray(18,34)):Q.from(0)).toBigInt();return a in e?(e[a].gas=e[a].gas+n,e[a].value=e[a].value+i):e[a]={index:a,gas:n,value:i},e},{})):[]}decodeExecutorOrderedExecutionOption(){return void 0!==this.findOptions(1,4)}decodeExecutorLzReadOption(){let e=this.findOptions(1,5);if(void 0===e||Array.isArray(e)&&0===e.length)return;let t=Q.from(0).toBigInt(),r=Q.from(0).toBigInt(),a=Q.from(0).toBigInt();for(let n of e=Array.isArray(e)?e:[e]){let e=S.Buffer.from(to(n.params),"hex"),i=Q.from(e.subarray(0,16)).toBigInt(),s=Q.from(e.subarray(16,20)).toBigInt(),o=Q.from(20===e.length?0:e.subarray(20,36)).toBigInt();t+=i,r+=s,a+=o}return{gas:t,dataSize:r,value:a}}findOptions(e,t){let r=this.workerOptions.find(t=>t.workerId===e);if(r)return 4===t?r.options.find(e=>e.type===t):r.options.filter(e=>e.type===t)}findVerifierOption(e,t){let r=this.workerOptions.find(e=>2===e.workerId);if(r){let a=r.options.find(r=>r.type===t&&r.index===e);if(a)return a}}},tp=((u=tp||{})[u.Timestamp=0]="Timestamp",u[u.BlockNumber=1]="BlockNumber",u),tx=((d=tx||{})[d.SingleViewFunctionEVMCall=1]="SingleViewFunctionEVMCall",d),tg=((f=tg||{})[f.OnlyMap=0]="OnlyMap",f[f.OnlyReduce=1]="OnlyReduce",f[f.MapReduce=2]="MapReduce",f),tb=((h=tb||{})[h.SingleViewFunctionEVMCall=1]="SingleViewFunctionEVMCall",h),ty=e.i(962220),tv=e.i(96932),tw=e.i(390644),tN=e.i(255725),tj=e.i(717560),tT=e.i(322285);function tE({disable:e,readonly:t,value:r,setValue:a,error:n,className:i}){let s=(0,tv.useRef)(null),o=r&&!/^0x[a-fA-F0-9]{40}$/.test(r)?"Invalid address format":"",l=n||o,c=!!l;return(0,y.jsx)("div",{className:(0,E.cn)("relative w-full",i),children:(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)("input",{value:r,onChange:e=>{a?.(e.target.value)},ref:s,type:"text",disabled:e,className:(0,E.cn)("bg-main border border-board",t?"cursor-not-allowed":"","w-full h-14 text-right px-4 font-bold text-sm border focus:border-primary rounded-xl outline-none",{"border-red-400 border-2! focus:border-red-400":c}),placeholder:"0x...",maxLength:42,title:"",readOnly:t}),c&&(0,y.jsx)("div",{className:"text-sm text-fg bg-red-400/80 rounded-sm right-0 bottom-0 absolute px-1 translate-y-1/4",children:l})]})})}var tk=e.i(989846),tA=e.i(839561),tS=e.i(570963),t_=e.i(490247),tC=e.i(392861),tB=e.i(62870);function tL({token:e}){return(0,y.jsxs)("div",{className:"flex items-center gap-2 font-medium",children:[(0,y.jsx)(t_.TokenIcon,{token:e,size:40,showNet:!0}),e.symbol]})}function tO({className:e,tokens:t,checkBalance:r=!0,balance:a=!0,balanceTit:n="Balance",readonly:i,selected:s,onClick:o,amount:l,setAmount:c,disable:u,balanceClassName:d="",loading:f,error:h="",otherInfo:m,onTokenChange:p}){let x=(0,tv.useMemo)(()=>t.map(e=>({key:e.address,show:(0,y.jsx)(tL,{token:e}),data:e})),[JSON.stringify(t)]),[g,b]=(0,tv.useState)(x[0].data);(0,tv.useEffect)(()=>{x.some(e=>e.data==g)||(console.info("tokenChange:"),b(x[0].data),p?.(x[0].data))},[g,x]);let v=a&&!u,w=r&&!u,N=(0,T.useBalance)(v?g:void 0).data,j=(0,tv.useRef)(null),k=w&&(0,E.parseEthers)(`${l??"0"}`,g.decimals)>N,S=!!h||k;return 0==x.length?null:(0,y.jsxs)("div",{className:(0,E.cn)("relative w-full flex flex-col p-4 gap-4 font-sec border border-transparent bg-card dark:bg-main rounded-xl m-shadow-around",{" border-green-700":s," border-red-400 has-focus:shadow-red-400/40":S," has-focus:border-primary has-focus:shadow-primary/40":!S&&!s},e),onClick:e=>{j.current?.focus(),o&&!u&&o()},children:[S&&(0,y.jsx)("div",{className:"flex w-full justify-center absolute left-0 bottom-0",children:(0,y.jsx)("div",{className:"text-sm text-white bg-red-400 rounded-t right-0 bottom-0 px-1 ",children:h||"Insufficient account balance"})}),(0,y.jsxs)("div",{className:"flex items-center w-full h-10 relative gap-3",children:[f&&(0,y.jsx)(tC.Spinner,{className:"absolute right-24 top-4.5"}),(0,y.jsx)("div",{className:"flex items-center gap-2 w-fit left-4",children:t.length>1?(0,y.jsx)(tB.SimpleSelect,{className:"border-none",options:x,onChange:e=>{console.info("tokenChange:",e),b(e.data),p?.(e.data)}}):(0,y.jsx)(tL,{token:g})}),(0,y.jsx)("input",{value:f?"":l,onChange:e=>{i||c((e.target.value||"").replaceAll("-","").replaceAll("+",""))},ref:j,type:"number",disabled:u,className:(0,E.cn)("bg-transparent min-w-0 basis-0 flex-1 h-full font-semibold text-right text-2xl outline-none! border-none!",{"cursor-not-allowed ":i}),placeholder:"0.000",maxLength:36,pattern:"[0-9.]{36}",step:.01,title:"",readOnly:i})]}),(v||!(0,tA.isNil)(m))&&(0,y.jsxs)("div",{className:"flex items-center justify-between mt-1 px-1 text-fg/60 text-sm",children:[v&&(0,y.jsxs)("div",{className:d,children:[(0,y.jsxs)("span",{children:[n,": ",(0,A.displayBalance)(N,void 0,g.decimals)]}),!u&&(0,y.jsx)("button",{className:"ml-2 text-primary",onClick:()=>{c((0,tS.formatUnits)(N,g.decimals)),o&&!u&&o()},children:"Max"})]}),m]})]})}e.s(["TokenInput",()=>tO],449814);var tR=e.i(928348);let tI={[w.arbitrum.id]:30110,[w.arbitrumSepolia.id]:40231,[w.bsc.id]:30102,[w.bscTestnet.id]:40102},tV={[`${w.arbitrumSepolia.id}:0xad763df2355142dc944f24aeffdb7b1a6bf917f7`]:"0xB13038Dafc796A703A8204dD8559da1a0c27ae17",[`${w.arbitrum.id}:0x5e95358b73bafe88c8dc1350697c4cb2354c63cd`]:"0x33C42E171cFD7Ec85D3dB34D7f6d3D8121f64E63"};function tP({config:e,adapters:t}){let{address:r}=(0,tj.useAccount)(),[a,n]=e,[[i,s],o]=(0,tv.useState)([a,n]),l=w.SUPPORT_CHAINS.find(e=>e.id===i.chain),c=w.SUPPORT_CHAINS.find(e=>e.id===s.chain),[u,d]=(0,tv.useState)(""),[f,h]=(0,tv.useState)(""),m=f||r,p=(0,E.parseEthers)(u,i.decimals);(0,T.useBalance)(i);let x=(e,t)=>(0,y.jsxs)("div",{className:"flex gap-3 relative px-4 pt-8 py-6 items-center rounded-lg bg-main border border-board text-sm",children:[(0,y.jsx)("img",{src:e.iconUrl,className:"w-5 h-5 rounded-full"}),(0,y.jsx)("div",{className:"font-medium whitespace-nowrap",children:e.name}),(0,y.jsx)("div",{className:"absolute left-2 top-2 px-2 text-xs",children:t})]}),g=(t??tV)[`${i.chain}:${i.address.toLowerCase()}`]??i.address,b=async()=>{if(!r)return;let e=tm.newOptions().addExecutorLzReceiveOption(2e5,0).toHex().toString();return(0,k.getPC)(i.chain).readContract({abi:v,address:g,functionName:"quoteSend",args:[{dstEid:tI[s.chain],to:(0,tN.padHex)(r,{size:32}),amountLD:p,minAmountLD:p,extraOptions:e,composeMsg:"0x",oftCmd:"0x"},!1]})},{data:S}=(0,ty.useQuery)({...(0,j.useCalcKey)(["fetbrigeTokenFee",i,s,p]),queryFn:b}),_=async({pc:e,wc:t})=>{let r=await b();if(!r)return[];let a=tm.newOptions().addExecutorLzReceiveOption(2e5,0).toHex().toString();return(0,tT.withTokenApprove)({pc:e,user:t.account.address,approves:[{spender:g,token:i.address,amount:p}],tx:{abi:v,address:g,functionName:"send",args:[{dstEid:tI[s.chain],to:(0,tN.padHex)(m,{size:32}),amountLD:p,minAmountLD:p,extraOptions:a,composeMsg:"0x",oftCmd:"0x"},r,t.account.address],value:r.nativeFee}})};return(0,y.jsx)(tk.ConfigChainsProvider,{chains:i.chain,children:(0,y.jsxs)("div",{className:"flex flex-col gap-4 text-sm w-full font-sec",children:[(0,y.jsxs)("div",{className:"animitem grid items-center gap-x-2 gap-y-4 relative",children:[x(l,"From"),x(c,"To"),(0,y.jsx)(tR.Swap,{onClick:()=>o([s,i]),className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"})]}),(0,y.jsx)("div",{className:"animitem",children:"Token"}),(0,y.jsx)(tO,{className:"animitem",tokens:[i],amount:u,setAmount:d}),(0,y.jsx)("div",{className:"animitem",children:"To"}),(0,y.jsx)(tE,{className:"animitem",value:m,setValue:h}),(0,y.jsxs)("div",{className:"animitem text-fg/60",children:["Fee: ",(0,A.displayBalance)(S?.nativeFee,void 0,l.nativeCurrency.decimals)," ",l.nativeCurrency.symbol]}),(0,y.jsx)("div",{className:"animitem w-full",children:(0,y.jsx)(tT.Txs,{tx:"Bridge",beforeTxSuccess:e=>N(i.chain,e[e.length-1]),onTxSuccess:()=>d(""),disabled:!m||!(0,tw.isAddress)(m),className:"w-full",txs:_})})]})})}e.s(["BridgeToken",()=>tP],530267);var tD=e.i(4433),tF=e.i(30951);function tU({fees:e,def:t="-"}){let r="string"==typeof e,a=r?0:e.reduce((e,t)=>e+t.value,0);return(0,y.jsxs)("div",{className:"flex gap-2 text-xs font-medium leading-none",children:["Fees:",!r&&e.length>0?(0,y.jsx)(tF.Tip,{className:"underline underline-offset-2",contentClassName:"whitespace-pre-wrap",node:`$${(0,tD.round)(a,3)}`,children:e.map(e=>`${e.name}: ${(0,tD.round)(e.value,3)}`).join("\n\r")}):(0,y.jsx)("div",{children:r&&e||t})]})}e.s(["Fees",()=>tU],151879);var tM=e.i(950759),tz=e.i(979353),t$=e.i(302121),tH=e.i(949964),tq=e.i(280924),tW=e.i(330926),tG=e.i(995451);function tY({vc:e}){let t=e.buybackPool??e.vault,{address:r}=(0,tj.useAccount)(),a=(0,t$.useLntVault)(e),n=(0,tz.getTokenBy)(a.data.T,e.chain,{symbol:"T"}),i=(0,tz.getTokenBy)(a.data.VT,e.chain,{symbol:"VT"}),s=(0,T.useBalance)(i),[o,l]=(0,tv.useState)(),c=(0,E.parseEthers)(o||"0",i.decimals),u=(0,tH.useFet)({key:`BuybackDatas:${e.vault}`,fetfn:async()=>{let r=(0,k.getPC)(e.chain),a=await r.readContract({abi:tM.abiLntBuyback,address:t,functionName:"stakingTokenPotCount"});return(0,E.promiseAll)({pots:r.readContract({abi:tM.abiLntBuyback,address:t,functionName:"stakingTokenPotsRange",args:[0n,a]}),buybackDustAmountVT:r.readContract({abi:tM.abiLntBuyback,address:t,functionName:"buybackDustAmountVT"}),minStakeAmountVT:r.readContract({abi:tM.abiLntBuyback,address:t,functionName:"minStakeAmountVT"}),VestingRate:r.readContract({abi:tM.abiLntVault,address:e.vault,functionName:"paramValue",args:[(0,tG.toHex)("VestingRate",{size:32})]})})}}),d=u.data?.pots??[],f=(0,E.aarToNumber)(u.data?.VestingRate??0n,18),h=`Conversion ratio : 1 ${i.symbol} = ${(0,tD.round)(1-f,2)} ${n.symbol}`,m=function(e){if(e.reppo){let e=new Date((0,tq.now)()+864e5);if(e.setHours(8,0,0,0),!(e.getTime()>17959968e5))return{value:"4,135",time:e.getTime()}}}(e),p=u.data?.minStakeAmountVT??0n,x=(0,tH.useFet)({key:d.length?`pendingSale:${e.vault}`:"",initResult:0n,fetfn:async()=>(0,k.getPC)(e.chain).readContract({abi:tM.abiLntBuyback,address:t,functionName:"totalStakingAmountVT",args:[d[d.length-1]]})}),g=(0,tH.useFet)({key:d.length&&r?`BuybackUserPending:${e.vault}:${r}`:"",initResult:0n,fetfn:async()=>(0,k.getPC)(e.chain).readContract({abi:tM.abiLntBuyback,address:t,functionName:"userStakingAmountVT",args:[d[d.length-1],r]})}),b=(0,tH.useFet)({key:d.length&&r?`BuybackUserSetteld:${e.vault}:${r}`:"",initResult:0n,fetfn:async()=>{let a=(0,k.getPC)(e.chain);return(await Promise.all(d.map(e=>a.readContract({abi:tM.abiLntBuyback,address:t,functionName:"boughtAmountT",args:[e,r]})))).reduce((e,t)=>e+t,0n)}}),v=async({pc:e,wc:r})=>{if(c<p)throw Error("Stake amount too small");if(c>s.data)throw Error("Balance too low");return(0,tT.withTokenApprove)({pc:e,user:r.account.address,approves:[{spender:t,token:i.address,amount:c}],tx:{abi:tM.abiLntBuyback,address:t,functionName:"stake",args:[c]}})},w=async({pc:e,wc:r})=>{if(c>g.data)throw Error("Input amount too large");return[{abi:tM.abiLntBuyback,address:t,functionName:"withdraw",args:[d[d.length-1],c]}]},N=async({pc:e,wc:a})=>(await Promise.all(d.map(a=>e.readContract({abi:tM.abiLntBuyback,address:t,functionName:"boughtAmountT",args:[a,r]})))).map((e,t)=>({bought:e,pot:d[t]})).filter(e=>e.bought>100n).map(e=>({abi:tM.abiLntBuyback,address:t,functionName:"claimBoughtT",args:[e.pot]}));return(0,y.jsxs)("div",{className:"flex flex-col gap-4 w-full text-sm font-sec",children:[(0,y.jsxs)("div",{className:"overflow-hidden animitem text-sm font-semibold flex items-center justify-between gap-4 py-2 px-4 rounded-xl border border-board bg-size-[100%_100%] bg-[url(/bg_buyback.png)] not-dark:bg-[url(/bg_buyback2.png)] bg-no-repeat",children:[(0,y.jsx)("span",{className:"max-w-55 text-base",children:"You can gradually convert VT to T here."}),(0,y.jsx)(tW.default,{href:"https://docs.zoofi.io/lnt-vault/product-design/how-does-lnt-work/vt-value-anchoring",target:"_blank",className:"hover:text-primary not-dark:opacity-60 font-normal",children:"Read more>"})]}),(0,y.jsxs)("div",{className:"animitem flex flex-wrap justify-between items-center gap-3 whitespace-nowrap",children:[(0,y.jsxs)("div",{className:"flex gap-2 items-center p-2 border border-board rounded-lg flex-1 basis-0",children:[(0,y.jsx)("div",{className:"text-fg/60 mr-auto",children:"Next batch"}),(0,y.jsx)(t_.TokenIcon,{size:14,token:i}),(0,y.jsxs)("div",{className:"font-medium",children:[m?.value??"-",m&&(0,y.jsxs)("span",{className:"opacity-60 text-xs",children:["(~",(0,E.fmtDuration)(m.time-(0,tq.now)()),")"]})]})]}),(0,y.jsxs)("div",{className:"flex gap-4 items-center p-2 border border-board rounded-lg flex-1 basis-0",children:[(0,y.jsx)("div",{className:"text-fg/60",children:"Total Request"}),(0,y.jsx)("div",{className:"font-medium ml-auto",children:(0,A.displayBalance)(x.data,void 0,i.decimals)}),(0,y.jsx)(tF.Tip,{children:"If the amount of VT in the pool exceeds the rewards for the current batch, participating users will receive settlement on a pro-rata basis. The remaining VT will continue to wait for the next batch of redemption until fully converted."})]})]}),(0,y.jsx)(tO,{className:"animitem",tokens:[i],amount:o,setAmount:l,checkBalance:!1,otherInfo:(0,y.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[(0,y.jsxs)("span",{children:["Pending : ",(0,A.displayBalance)(g.data,void 0,i.decimals)]}),(0,y.jsx)("button",{className:"text-primary ml-2",onClick:()=>l((0,tS.formatUnits)(g.data,i.decimals)),children:"Max"})]})}),(0,y.jsxs)("div",{className:"animitem text-center",children:[h," ",(0,y.jsx)(tF.Tip,{children:"The conversion ratio here is not 1:1 (including protocol service fee). Users can choose to accept it or wait until maturity for a 1:1 redemption(no service fee)"})]}),(0,y.jsxs)("div",{className:"animitem gap-4 grid grid-cols-2",children:[(0,y.jsx)(tT.Txs,{tx:"Request",disabled:c<=0n,txs:v}),(0,y.jsx)(tT.Txs,{tx:"Withdraw",disabled:c<=0n,txs:w})]}),(0,y.jsxs)("div",{className:"animitem flex items-center gap-5",children:[(0,y.jsxs)("div",{className:"flex justify-between px-3 py-2 rounded-xl items-center flex-1 border border-board h-12",children:[(0,y.jsx)("span",{className:"text-fg/60",children:"Settled"}),(0,A.displayBalance)(b.data,void 0,n.decimals)]}),(0,y.jsx)(tT.Txs,{tx:"Claim",className:"w-fit",disabled:0n==b.data,txs:N})]})]})}e.s(["LntVaultBuyback",()=>tY],964118);var tK=e.i(567353),tJ=e.i(858316),tX=e.i(921621),tZ=e.i(40143),tQ=e.i(262521),t0=e.i(480790),t1=e.i(186680),t2=e.i(472064);function t3(e){return(0,tH.useFet)({key:e.reppo?`ReppoLntVaultNFTs:${e.vault}`:"",initResult:[],fetfn:async()=>{let[t,r]=await (0,k.getPC)(e.chain).readContract({abi:tM.abiReppoLntVault,address:e.vault,functionName:"NFTs"});return t.map((e,t)=>({NFT:e,aVT:r[t]}))}})}function t5({vc:e,onSuccess:t}){let r=(0,t$.useLntVault)(e);r.data?.aVT;let[a,n]=(0,tv.useState)(e.reppo.standard),[i,s]=(0,tJ.useSetState)({}),o=(0,tK.keys)(i).filter(e=>i[e]).map(e=>BigInt(e)),l=e.deposit?.chain??e.chain,c=e.deposit?.vault??e.vault,u=t3(e),d=u.data.find(t=>(0,tQ.isAddressEqual)(t.NFT,e.reppo.standard))?.aVT??0n,f=u.data.find(t=>(0,tQ.isAddressEqual)(t.NFT,e.reppo.preminum))?.aVT??0n,h=a==e.reppo.standard?d:f,m=(0,T.useErc721Balance)(l,e.reppo.standard,e.nftBalanceBy),p=(0,T.useErc721Balance)(l,e.reppo.preminum,e.nftBalanceBy),x=(0,t$.useLntVaultVTC)(e),g=(h-h*(0,t0.parseEther)(x.toFixed(6))/t2.DECIMAL)*BigInt(o.length),b=a==e.reppo.standard?m:p,v=(0,tz.getTokenBy)(r.data.VTbyDeposit??r.data.VT,l,{symbol:"VT"}),w=()=>{s((0,tK.keys)(i).reduce((e,t)=>({...e,[t]:!1}),{}))},N=async({pc:t,wc:r})=>{let n=[];return await t.readContract({abi:tZ.erc721Abi,address:a,functionName:"isApprovedForAll",args:[r.account.address,c]})||(await Promise.all(o.map(e=>t.readContract({abi:tZ.erc721Abi,address:a,functionName:"getApproved",args:[e]})))).forEach((t,r)=>{(0,tQ.isAddressEqual)(t,e.vault)||n.push({abi:tZ.erc721Abi,address:a,functionName:"approve",args:[c,o[r]],name:`Approve #${o[r].toString()}`})}),[...n,{name:"Deposit",abi:tM.abiReppoLntVault,address:c,functionName:"deposit",enabled:o.length>0,args:[a,o]}]};return(0,y.jsxs)("div",{className:"flex flex-col gap-5 items-center p-5 font-sec",children:[(0,y.jsxs)("div",{className:"w-full text-start font-medium flex items-center justify-between font-def",children:["Licenses ID",(0,y.jsxs)("div",{className:"flex ml-auto items-center gap-5 mr-10",children:[(0,y.jsx)("div",{className:(0,E.cn)("cursor-pointer underline-offset-4",{underline:a===e.reppo.standard}),onClick:()=>{a!==e.reppo.standard&&(w(),n(e.reppo.standard))},children:"Standard"}),(0,y.jsx)("div",{className:(0,E.cn)("cursor-pointer underline-offset-4",{underline:a===e.reppo.preminum}),onClick:()=>{a!==e.reppo.preminum&&(w(),n(e.reppo.preminum))},children:"Premium"})]})]}),(0,y.jsx)("div",{className:"w-lg h-72 overflow-y-auto",children:(0,y.jsx)("div",{className:"w-full gap-2 grid grid-cols-4 ",children:b.data.map(e=>(0,y.jsxs)("div",{className:(0,E.cn)("flex gap-1 items-center cursor-pointer",{"text-primary":i[e.toString()]}),onClick:()=>{i[e.toString()]?s({[e.toString()]:!1}):o.length>=30?tX.toast.error("Up to 30"):s({[e.toString()]:!0})},children:[(0,y.jsx)("div",{className:(0,E.cn)("w-3 h-3 border border-black/20 bg-[#EBEBEB] rounded-full",{"bg-primary":i[e.toString()]})}),"#",e.toString()]},e.toString()))})}),(0,y.jsx)(tR.BBtn,{className:"max-w-sm",onClick:()=>{if(o.length>=30)tX.toast.error("Up to 30");else{let e={};b.data.filter(e=>!i[e.toString()]).slice(0,30-o.length).forEach(t=>{e[t]=!0}),console.info("onClickAll:",e,i,o),s(e)}},children:"Select All"}),(0,y.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,y.jsx)("div",{className:"w-full",children:"Receive"}),(0,y.jsx)(tO,{tokens:[v],loading:!1,disable:!0,amount:(0,E.fmtBn)(g,v.decimals)})]}),(0,y.jsxs)("div",{className:"text-xs opacity-60 text-center flex justify-between gap-5 w-full",children:[(0,y.jsx)("div",{className:"text-left",children:`1 License = ${(0,A.displayBalance)(h,void 0,v.decimals)} ${v.symbol}`}),(0,y.jsx)("div",{children:`Operation Fees : ${(0,E.formatPercent)(x,2,!1)}`})]}),(0,y.jsx)(tk.ConfigChainsProvider,{chains:l,children:(0,y.jsx)(tT.Txs,{tx:"Deposit",onTxSuccess:()=>{let e={};o.forEach(t=>{e[t.toString()]=!1}),s(e),(0,tH.reFet)(b.key,r.key),t()},disabled:0==o.length,txs:N})})]})}function t4({vc:e}){let t=(0,tv.useRef)(null),r=(0,t$.useLntVault)(e),a=(0,tz.getTokenBy)(r.data.VT,e.chain,{symbol:"VT"}),n=t3(e),i=n.data.find(t=>(0,tQ.isAddressEqual)(t.NFT,e.reppo.standard))?.aVT??0n,s=n.data.find(t=>(0,tQ.isAddressEqual)(t.NFT,e.reppo.preminum))?.aVT??0n;return(0,y.jsxs)("div",{className:"flex flex-col h-full justify-between shrink-0 gap-6 w-full",children:[(0,y.jsxs)("div",{className:"flex items-center text-sm justify-between whitespace-nowrap",children:[(0,y.jsx)("span",{className:"font-def text-lg",children:"Total Deposited"}),(0,y.jsx)("span",{className:"opacity-50 ml-1",children:"Licenses"})]}),(0,y.jsx)("div",{className:"font-def text-xl font-bold text-center",children:(0,A.displayBalance)(r.data.activeDepositCount,0,0)}),(0,y.jsxs)("div",{className:"flex flex-col gap-5 justify-between lg:px-8 my-auto font-sec",children:[(0,y.jsx)(t1.SimpleDialog,{triggerRef:t,trigger:(0,y.jsx)(tR.BBtn,{className:"shrink-0",children:"Deposit"}),children:(0,y.jsx)(t5,{vc:e,onSuccess:()=>t.current?.click()})}),(0,y.jsx)("div",{className:"mt-4 text-sm opacity-60 text-center",children:`1 Standard = ${(0,A.displayBalance)(i,void 0,a.decimals)} ${a.symbol}`}),(0,y.jsx)("div",{className:"text-sm opacity-60 text-center",children:`1 Premium = ${(0,A.displayBalance)(s,void 0,a.decimals)} ${a.symbol}`})]})]})}function t6({vc:e,onSuccess:t}){let r=(0,t$.useLntVault)(e),a=e.chain,n=e.vault,i=(0,tz.getTokenBy)(r.data.VT??r.data.VT,a,{symbol:"VT"}),s=(0,tz.getTokenBy)(e.asset,a,{symbol:"vIP"}),[o,l]=(0,tv.useState)(""),c=(0,E.parseEthers)(o,s.decimals),u=c*r.data.aVT/t2.DECIMAL;return(0,y.jsxs)("div",{className:"flex flex-col gap-5 items-center p-5",children:[(0,y.jsx)("div",{children:"Deposit"}),(0,y.jsx)(tO,{tokens:[s],amount:o,setAmount:l}),(0,y.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,y.jsx)("div",{className:"w-full",children:"Receive"}),(0,y.jsx)(tO,{tokens:[i],loading:!1,disable:!0,amount:(0,E.fmtBn)(u,i.decimals)})]}),(0,y.jsxs)("div",{className:"text-sm opacity-60 text-center flex justify-between gap-5 w-full",children:[(0,y.jsx)("div",{className:"text-left",children:`1 vIP(Verio IP) = ${(0,A.displayBalance)(r.data?.aVT??0n,void 0,i.decimals)} ${i.symbol}`}),(0,y.jsx)("div",{})]}),(0,y.jsx)(tT.Txs,{tx:"Deposit",onTxSuccess:()=>{l(""),t()},txs:({wc:t,pc:r})=>(0,tT.withTokenApprove)({user:t.account.address,pc:r,approves:[{token:e.asset,spender:n,amount:c}],tx:{name:"Deposit",abi:tM.abiLntVault,address:n,functionName:"deposit",args:[c]}})})]})}function t8({vc:e}){let t=(0,tv.useRef)(null),r=(0,t$.useLntVault)(e),a=(0,tz.getTokenBy)(e.asset,e.chain,{symbol:"vIP"});return(0,y.jsxs)("div",{className:"flex flex-col items-center h-full justify-between shrink-0 gap-5 w-full",children:[(0,y.jsx)("span",{className:"font-def text-lg font-medium",children:"Total Locked"}),(0,y.jsxs)("div",{className:"font-bold font-def text-xl",children:[" ",(0,A.displayBalance)(r.data?.activeDepositCount,void 0,a.decimals)]}),(0,y.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,y.jsx)(t_.TokenIcon,{token:a,size:20}),a.symbol]}),(0,y.jsx)("div",{className:"flex flex-col gap-5 justify-between lg:px-8 my-auto w-full",children:(0,y.jsx)(t1.SimpleDialog,{triggerRef:t,trigger:(0,y.jsx)(tR.BBtn,{className:"shrink-0",children:"Deposit"}),children:(0,y.jsx)(t6,{vc:e,onSuccess:()=>t.current?.click()})})})]})}e.s(["LntVaultDepositReppo",()=>t4],116638),e.s(["LVTDepositWithdrawVerio",()=>t8],784865)},480038,e=>{"use strict";var t=e.i(29743),r=e.i(647163);function a({children:e,className:a,...n}){return(0,t.jsx)("div",{style:{boxShadow:"0px 0px 40px 0px #32D65233 inset,0px 0px 10px 0px #4CE54F66",background:`
        linear-gradient(180deg,var(--bg-main,#00000033),var(--bg-main,#66666633)) padding-box,
        linear-gradient(180deg, #4EEB7E, #006D21) border-box`,border:"1px solid transparent"},className:(0,r.cn)("rounded-[20px]",a),...n,children:e})}function n({children:e,className:a,...n}){return(0,t.jsx)("div",{style:{boxShadow:"0px 0px 40px 0px #FDD84933 inset,0px 0px 10px 0px #FDD84966",background:`
        linear-gradient(180deg,var(--bg-main,#00000033),var(--bg-main,#66666633)) padding-box,
        linear-gradient(180deg, #FDD849, #FDA103) border-box`,border:"1px solid transparent"},className:(0,r.cn)("rounded-[20px]",a),...n,children:e})}e.s(["LgBoardBloom",()=>a,"LgBoardBloom2",()=>n])},889886,e=>{"use strict";var t=e.i(29743),r=e.i(309384),a=e.i(950759),n=e.i(313905),i=e.i(751755),s=e.i(979353),o=e.i(829256),l=e.i(472064),c=e.i(475745),u=e.i(567543),d=e.i(302121),f=e.i(185442),h=e.i(949964),m=e.i(647163),p=e.i(388654),x=e.i(211051),g=e.i(962220),b=e.i(301953),y=e.i(4433),v=e.i(416301),w=e.i(567353),N=e.i(267550),j=e.i(737098),T=e.i(330926),E=e.i(589569),k=e.i(96932),A=e.i(789066),S=e.i(858316),_=e.i(58619),C=e.i(921621),B=e.i(40143),L=e.i(262521),O=e.i(995451),R=e.i(717560),I=e.i(781628),V=e.i(173192),P=e.i(322285),D=e.i(530267),F=e.i(151879),U=e.i(147763),M=e.i(490247),z=e.i(964118),$=e.i(116638),H=e.i(784865),q=e.i(37310),W=e.i(186680),G=e.i(804907),Y=e.i(989846),K=e.i(449814),J=e.i(928348),X=e.i(480038),Z=e.i(839561);function Q(e){return"number"==typeof e||e instanceof Number}var ee=e.i(95377);function et(e,t=0){return(0,ee.decimalAdjust)("round",e,t)}var er=e.i(719817);function ea({className:e,btnClassName:r,subClassName:a,addClassName:n,numClassName:i,value:s=0,step:o=1,min:l,max:c,integer:u=!0,decimals:d=2,title:f,onChange:h}){let p=e=>{let t=et(e,u?0:d);return Q(l)&&t<l&&(t=l),Q(c)&&t>c&&(t=c),t},x=e=>{h?.(p(e))},g=p(s);return(0,t.jsxs)("div",{className:(0,m.cn)("flex gap-5 items-center select-none p-4 bg-main rounded-xl",e),children:[(0,t.jsx)("span",{className:"mr-auto",children:f}),(0,t.jsx)("div",{className:(0,m.cn)("shrink-0 text-2xl rounded-full bg-primary/80 cursor-pointer ",{"cursor-not-allowed bg-fg/10":!(0,Z.isNil)(l)&&g<=l},r,a),onClick:()=>x((g??0)-o),children:(0,t.jsx)(er.IoIosRemove,{})}),(0,t.jsx)("input",{className:(0,m.cn)("w-8 px-2 text-center min-w-4 font-bold text-lg outline-hidden ","shrink-0",i),type:"number",value:g,onChange:e=>{let t=((e,t=0)=>{try{return(0,j.toNumber)(e)}catch(e){return t}})(e.target.value),r=u?et(t):t;h?.(r),x(r)}}),(0,t.jsx)("div",{className:(0,m.cn)("shrink-0 text-2xl rounded-full bg-primary/80 cursor-pointer",{"cursor-not-allowed bg-fg/10":!(0,Z.isNil)(c)&&g>=c},r,n),onClick:()=>x((g??0)+o),children:(0,t.jsx)(er.IoIosAdd,{})}),Q(c)&&(0,t.jsx)("div",{className:"shrink-0 text-xs font-medium cursor-pointer text-primary",onClick:()=>x(c),children:"Max"})]})}var en=e.i(287336);function ei({vc:e,onSuccess:r}){let i=(0,d.useLntVault)(e),o=i.data?.aVT??0n,[u,b]=(0,S.useSetState)({}),y=(0,w.keys)(u).filter(e=>u[e]).map(e=>BigInt(e)),v=e.deposit?.chain??e.chain,N=e.deposit?.vault??e.vault,j=(0,f.useErc721Balance)(v,i.data.NFT,e.nftBalanceBy),T=(0,s.getTokenBy)(i.data.VTbyDeposit??i.data.VT,v,{symbol:"VT"}),E=(0,s.getTokenBy)(i.data.YT,v,{symbol:"YT"}),{data:k}=(0,g.useQuery)({...(0,c.useCalcKey)(["calcLntDeposit",v,y]),initialData:0n,queryFn:async()=>0==y.length?0n:(0,p.getPC)(v).readContract({abi:a.abiQueryLNT,code:n.codeQueryLNT,functionName:"calcDeposit",args:[N,y]})}),_=async({pc:t,wc:r})=>{let n=[];return await t.readContract({abi:B.erc721Abi,address:e.asset,functionName:"isApprovedForAll",args:[r.account.address,N]})||(await Promise.all(y.map(r=>t.readContract({abi:B.erc721Abi,address:e.asset,functionName:"getApproved",args:[r]})))).forEach((t,r)=>{(0,L.isAddressEqual)(t,e.vault)||n.push({abi:B.erc721Abi,address:e.asset,functionName:"approve",args:[N,y[r]],name:`Approve #${y[r].toString()}`})}),[...n,{name:"Deposit",abi:a.abiLntVault,address:N,functionName:e.deposit?.fnDepoist??"batchDeposit",enabled:y.length>0,args:e.isAethir||e.isZeroG?[y]:[y,y.map(()=>1n)]}]};return(0,t.jsxs)("div",{className:"flex flex-col gap-5 items-center p-5 pt-8 font-sec w-full",children:[(0,t.jsx)("div",{className:"w-full text-start font-def",children:"Licenses ID"}),(0,t.jsx)("div",{className:"w-full h-72 overflow-y-auto text-sm",children:(0,t.jsx)("div",{className:"w-full gap-2 grid grid-cols-[repeat(auto-fill,minmax(110px,1fr))]",children:j.data.map(e=>(0,t.jsxs)("div",{className:(0,m.cn)("flex rounded-xl bg-main border px-4 py-3 border-transparent gap-1 items-center justify-between cursor-pointer",{"border-primary":u[e.toString()]}),onClick:()=>{u[e.toString()]?b({[e.toString()]:!1}):y.length>=30?C.toast.error("Up to 30"):b({[e.toString()]:!0})},children:["#",e.toString(),(0,t.jsx)(A.FaCheck,{className:u[e.toString()]?"text-primary":"text-fg/20"})]},e.toString()))})}),(0,t.jsx)(J.BBtn,{className:"max-w-sm",onClick:()=>{if(y.length>=30)C.toast.error("Up to 30");else{let e={};j.data.filter(e=>!u[e.toString()]).slice(0,30-y.length).forEach(t=>{e[t]=!0}),console.info("onClickAll:",e,u,y),b(e)}},children:"Select All"}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,t.jsx)("div",{className:"w-full",children:"Receive"}),(0,t.jsx)(K.TokenInput,{tokens:[T],loading:!1,disable:!0,amount:(0,m.fmtBn)(k,T.decimals)}),e.ytEnable&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-full text-center",children:"And"}),(0,t.jsx)(K.TokenInput,{tokens:[E],loading:!1,disable:!0,amount:(0,m.fmtBn)(l.DECIMAL*BigInt(y.length),E.decimals)})]})]}),(0,t.jsxs)("div",{className:"text-sm opacity-60 text-center flex justify-between gap-5 w-full",children:[(0,t.jsx)("div",{className:"text-left",children:e.isZeroG?`Get ${(0,x.displayBalance)(o,void 0,T.decimals)} ${T.symbol} immediately Remaining portion will be distributed on BSC`:`1 License = ${(0,x.displayBalance)(i.data?.aVT??0n,void 0,T.decimals)} ${T.symbol}`}),(0,t.jsx)("div",{children:`Operation Fees : ${e.depositFees??"5%"}`})]}),(0,t.jsx)(Y.ConfigChainsProvider,{chains:v,children:(0,t.jsx)(P.Txs,{tx:"Deposit",onTxSuccess:()=>{let e={};y.forEach(t=>{e[t.toString()]=!1}),b(e),(0,h.reFet)(j.key,i.key),r()},disabled:0==y.length,txs:_})})]})}function es({vc:e,onSuccess:r}){let n=(0,d.useLntVault)(e),i=e.deposit?.chain??e.chain,o=e.deposit?.vault??e.vault,l=(0,s.getTokenBy)(n.data.VTbyDeposit??n.data.VT,i,{symbol:"VT"}),c=(0,s.getTokenBy)(n.data.YT,i,{symbol:"YT"}),u=(0,f.useBalance)(e.ytEnable?c:void 0),h=(0,f.useBalance)(l),p=(0,v.floor)((0,j.toNumber)((0,m.fmtBn)(u.data,c.decimals))),g=n.data?.aVT??0n,b=(0,j.toNumber)((g>0n?h.data/g:0n).toString()),y=(0,j.toNumber)((n.data?.activeDepositCount??0n).toString()),[w,T]=(0,k.useState)(0),E=e.ytEnable?(0,N.min)([p,b,y]):(0,N.min)([b,y]),A=(n.data?.aVT??0n)*BigInt(w),S=(0,d.useLntVaultWithdrawState)(e);return(0,t.jsxs)("div",{className:"flex flex-col gap-5 items-center p-5 pt-8 font-sec",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,t.jsx)("div",{className:" w-full",children:"Input:"}),e.ytEnable&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(K.TokenInput,{tokens:[c],disable:!0,amount:w.toString()}),(0,t.jsx)("div",{className:"w-full",children:"Pair With"})]}),(0,t.jsx)(K.TokenInput,{tokens:[l],disable:!0,amount:(0,m.fmtBn)(A,l.decimals)}),(0,t.jsx)("div",{className:"mt-4 text-sm opacity-60",children:`1 License = ${(0,x.displayBalance)(n.data?.aVT??0n,void 0,l.decimals)} ${l.symbol}`}),!S.inWindow&&S.nWindow&&(0,t.jsxs)("div",{className:"text-sm opacity-60 text-center",children:["The next withdraw window is from ",(0,m.fmtDate)(1000n*S.nWindow.startTime)," to ",(0,m.fmtDate)((S.nWindow.startTime+S.nWindow.duration)*1000n),"."]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,t.jsx)("div",{className:"w-full",children:"Receive:"}),(0,t.jsx)(ea,{title:"Licenses",min:0,max:E,value:w,onChange:T})]}),(0,t.jsx)(Y.ConfigChainsProvider,{chains:i,children:(0,t.jsx)(P.Txs,{tx:"Withdraw",className:"mt-6",onTxSuccess:()=>{r()},disabled:w<=0||E<=0||w>E||A<0n||A>h.data||!S.inWindow,txs:[{abi:a.abiLntVault,address:o,functionName:e.deposit?.fnRedeem??"batchRedeem",args:[BigInt(w)]}]})})]})}function eo({vc:e}){let a=(0,E.useRouter)(),n=(0,d.useLntVault)(e),i=(0,d.useLntVaultLogs)(e),o="flex gap-1 font-medium text-xs shrink-0 justify-between md:justify-center md:flex-col md:text-sm",l="opacity-60 font-sec font-normal text-xs",c=(0,d.useVTTotalSupply)(e),f=(0,s.getTokenBy)(n.data?.T,e.chain,{symbol:"T"}),{remainStr:h,endTimeStr:p}=(0,d.useLntVaultTimes)(e),g=(0,u.useCurrentChain)(),b=(0,d.calcVtApy)(e,n.data,i.data);return(0,t.jsx)("div",{className:(0,m.cn)("animitem card overflow-hidden flex p-4 items-center justify-between cursor-pointer overflow-x-auto","md:p-6"),onClick:()=>(0,r.toLntVault)(a,e.vault),children:(0,t.jsxs)("div",{className:"w-full min-w-max gap-4 grid md:grid-cols-[1.8fr_1.3fr_1fr_1fr_1.2fr_.5fr_.5fr]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2.5 shrink-0 border-r border-board",children:[(0,t.jsx)(U.CoinIcon,{symbol:e.projectIcon,size:40}),(0,t.jsx)("span",{className:"text-sm font-medium font-sec",children:e.tit}),(0,t.jsx)(J.BBtn2,{className:"h-6 w-6 p-0 aspect-square text-xs ml-auto md:hidden",children:(0,t.jsx)(A.FaAngleRight,{})}),(0,t.jsx)(q.Badge,{text:"Testnet",className:(0,m.cn)("opacity-0 absolute left-0 top-0",{"opacity-100":g.testnet||e.test})})]}),(0,t.jsx)("div",{className:o,children:e.isLVT?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:l,children:"Total Locked"}),(0,t.jsx)("div",{children:(0,x.displayBalance)(c??0n,void 0,f?.decimals)})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:l,children:"Total Deposited"}),(0,t.jsx)("div",{children:(0,x.displayBalance)(n.data?.activeDepositCount??0n,0,0)})]})}),(0,t.jsxs)("div",{className:o,children:[(0,t.jsx)("div",{className:l,children:"VT Supply"}),(0,t.jsx)("div",{children:(0,x.displayBalance)(c)})]}),(0,t.jsxs)("div",{className:(0,m.cn)(o,"items-center"),children:[(0,t.jsx)("div",{className:l,children:"VT Apy"}),(0,t.jsx)("div",{children:(0,m.formatPercent)(b,2,!1)})]}),(0,t.jsxs)("div",{className:(0,m.cn)(o,"items-center"),children:[(0,t.jsx)("div",{className:l,children:"Due Date"}),n?(0,t.jsxs)("div",{className:"relative whitespace-nowrap",children:[p,(0,t.jsx)("span",{className:"opacity-60 font-light text-xs absolute top-full right-0 font-sec md:right-[unset] md:left-1/2 md:-translate-x-1/2 ",children:h})]}):"-"]}),(0,t.jsxs)("div",{className:(0,m.cn)(o,"items-center"),children:[(0,t.jsx)("div",{className:l,children:"State"}),(0,t.jsx)("div",{children:n?n.data?.closed?"Closed":"Active":"-"})]}),(0,t.jsx)("div",{className:(0,m.cn)(o,"items-center hidden md:flex border-l border-board"),children:(0,t.jsx)(J.BBtn2,{className:"h-6 w-6 p-0 aspect-square text-xs",children:(0,t.jsx)(A.FaAngleRight,{})})})]})})}function el({vc:e}){let r=(0,k.useRef)(null),a=(0,k.useRef)(null),n=(0,d.useLntVault)(e),i=(0,s.getTokenBy)(n.data.VT,e.chain,{symbol:"VT"}),o=n.data?.aVT??0n;return(0,t.jsxs)("div",{className:"flex flex-col h-full justify-between shrink-0 gap-6 w-full",children:[(0,t.jsxs)("div",{className:"flex items-center text-sm justify-between gap-5 whitespace-nowrap",children:[(0,t.jsx)("span",{className:"font-def text-lg font-medium",children:"Total Deposited"}),(0,t.jsx)("span",{className:"opacity-50 ml-1",children:"Licenses"})]}),(0,t.jsx)("div",{className:"font-def text-xl font-bold text-center",children:(0,x.displayBalance)(n.data.activeDepositCount,0,0)}),(0,t.jsxs)("div",{className:"flex flex-col gap-5 justify-between lg:px-8 my-auto",children:[(0,t.jsx)(W.SimpleDialog,{triggerRef:r,trigger:(0,t.jsx)(J.BBtn,{className:"shrink-0",children:"Deposit"}),children:(0,t.jsx)(ei,{vc:e,onSuccess:()=>r.current?.click()})}),!e.disWithdrawNFT&&(0,t.jsx)(W.SimpleDialog,{triggerRef:a,trigger:(0,t.jsx)(J.BBtn,{className:"shrink-0",children:"Withdraw"}),children:(0,t.jsx)(es,{vc:e,onSuccess:()=>a.current?.click()})}),(0,t.jsx)("div",{className:"mt-4 text-sm opacity-60 text-center",children:`1 License = ${(0,x.displayBalance)(o,void 0,i.decimals)} ${i.symbol}`})]})]})}function ec({vc:e}){let{progress:r,remainStr:a}=(0,d.useLntVaultTimes)(e),n=(0,d.useLntVault)(e),i=(0,s.getTokenBy)(n.data.T,e.chain,{symbol:"T"}),o=(0,d.useVTTotalSupply)(e);return(0,t.jsxs)("div",{className:"animitem card flex gap-2.5 p-2.5 flex-wrap justify-center",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center md:flex-row p-2.5 pr-5 rounded-[10px] gap-5 bg-main flex-1",children:[e.isLVT?(0,t.jsx)(X.LgBoardBloom2,{className:"w-55 aspect-square flex justify-center items-center shrink-0",children:(0,t.jsx)(V.LvtNodeSvg,{disableAnim:!0,node:(0,t.jsx)(U.CoinIcon,{size:"100%",symbol:e.projectIcon,className:"rounded-full border-2 border-amber-300"})})}):(0,t.jsx)(X.LgBoardBloom,{className:"w-55 aspect-square flex justify-center items-center shrink-0",children:(0,t.jsx)(V.LntNodeSvg,{disableAnim:!0,node:(0,t.jsx)(U.CoinIcon,{size:"100%",symbol:e.projectIcon,className:"rounded-full border-2 border-green-300"})})}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 min-w-80",children:[(0,t.jsx)("div",{className:"leading-10 text-xl font-medium",children:e.tit}),(0,t.jsx)("div",{className:"opacity-60 text-sm leading-normal whitespace-pre-wrap font-sec",children:e.info}),(0,t.jsx)("div",{className:"h-px bg-board"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between mb-2",children:["Duration ",(0,t.jsx)("span",{className:"text-xs font-sec opacity-60",children:a})]}),(0,t.jsx)(en.ProgressBar,{progress:r})]})]})]}),(0,t.jsxs)("div",{className:"p-5 gap-5 rounded-[10px] bg-main font-sec w-full md:w-fit min-w-75",children:[(e.isFil||e.isSei)&&(0,t.jsxs)("div",{className:"flex flex-col h-full items-center justify-between shrink-0 gap-2 w-full my-auto px-5 md:gap-10",children:[(0,t.jsx)("span",{className:"font-def text-lg font-medium",children:"Total Locked"}),(0,t.jsxs)("div",{className:"font-bold font-def text-xl",children:[" ",(0,x.displayBalance)(o,void 0,i.decimals)]}),(0,t.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,t.jsx)(M.TokenIcon,{token:i,size:20}),i.symbol]})]}),e.isVerio&&(0,t.jsx)(H.LVTDepositWithdrawVerio,{vc:e}),e.reppo&&(0,t.jsx)($.LntVaultDepositReppo,{vc:e}),!e.isLVT&&!e.reppo&&(0,t.jsx)(el,{vc:e})]})]})}function eu({vc:e,type:r}){let n=(0,d.useLntVault)(e),i=(0,d.useLntVaultLogs)(e),[u,x]=(0,k.useState)(e.isIdle?"1":""),b=(0,m.parseEthers)(u),[v,w]=(0,_.useToggle)(!0),N=(0,s.getTokenBy)(n.data.T,e.chain,{symbol:"T"}),j=(0,s.getTokenBy)(n.data.VT,e.chain,{symbol:"VT"}),T=(0,s.getTokenBy)(n.data.YT,e.chain,{symbol:"YT"}),E="vt"==r?j:T,A=v?E:N,S=v?N:E,C=(0,f.useBalance)(A),B=(0,f.useBalance)(S),[O,R]=(0,k.useMemo)(()=>(0,m.uniSortTokens)([n.data.T,n.data.VT]),[n.data]),I=(0,d.useLntHookPoolkey)(e),V=(0,L.isAddressEqual)(A.address,O),{data:D,isFetching:U}=(0,g.useQuery)({...(0,c.useCalcKey)([`calcKey:swapVTYT:${r}`,u,V,e.chain,I.data,v]),initialData:0n,queryFn:async()=>{if("yt"==r)return 0n;let t=(0,p.getPC)(e.chain);return n.data&&!(b<=0n)&&I.data?(console.info("vd:",n.data),t.readContract({abi:a.abiLntVTSwapHook,address:n.data.vtSwapPoolHook,functionName:v?"getAmountOutVTforT":"getAmountOutTforVT",args:[b]})):0n}}),M="-";i.data&&i.data.Feerate>l.DECIMAL&&(M=`${(0,m.fmtPercent)(i.data.Feerate-l.DECIMAL,18,3)}`);let z="-",$="-",H=0,q=0;if("vt"==r){let t=(0,d.calcTPriceVT)(e,n.data,i.data);if(t>0){let r=(0,d.calcTPriceVT)(e,n.data,i.data,v?-D:b,v?b:-D);z=v?`1 ${j.symbol} = ${(0,y.round)(1/t,2)} ${N.symbol}`:`1 ${N.symbol} = ${(0,y.round)(t,2)} ${j.symbol}`,t>0&&($=(0,m.formatPercent)(Math.abs(r-t)/t)),console.info("SwapVT:",t,r,H=(0,d.calcVtApy)(e,n.data,i.data),q=(0,d.calcVtApy)(e,n.data,i.data,v?-D:b,v?b:-D))}}let W="vt"!=r||b<=0n||b>C.data||D<=0n||!I.data;return(0,t.jsxs)("div",{className:"flex flex-col gap-1 font-sec",children:[(0,t.jsx)(K.TokenInput,{tokens:[A],disable:e.isIdle,amount:u,setAmount:x}),(0,t.jsx)(J.Swap,{onClick:()=>w()}),(0,t.jsx)(K.TokenInput,{tokens:[S],disable:!0,checkBalance:!1,loading:U,amount:(0,m.fmtBn)(D,S.decimals),otherInfo:(0,t.jsxs)("div",{className:"flex justify-between items-center text-xs gap-2 flex-wrap w-full text-fg",children:[(0,t.jsxs)("div",{children:["Price: ",z]}),(0,t.jsxs)("div",{children:["Price Impact: ",$]})]})}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-xs opacity-60 gap-2 flex-wrap",children:[(0,t.jsxs)("div",{className:"whitespace-nowrap",children:["Implied APY Change: ",(0,m.formatPercent)(H),"  ",(0,m.formatPercent)(q)]}),(0,t.jsx)(F.Fees,{fees:M})]}),(0,t.jsx)(P.Txs,{className:"w-full mx-auto mt-4",tx:e.isIdle?"Coming Soon":"Swap",disabled:W||e.isIdle,txs:({wc:t})=>(0,o.encodeSingleSwap)({user:t.account.address,approveName:`Approve ${A.symbol}`,executeName:`Swap ${A.symbol} for ${S.symbol}`,chainId:e.chain,poolkey:I.data,amountIn:b,is0To1:V}),onTxSuccess:()=>{x(""),(0,h.reFet)(n.key,C.key,B.key)}})]})}function ed({vc:e,type:r}){let{address:n}=(0,R.useAccount)(),i=(0,d.useLntVault)(e),l=(0,d.useLntHookPoolkey)(e),c=(0,s.getTokenBy)(i.data.T,e.chain,{symbol:"T"}),u=(0,s.getTokenBy)(i.data.VT,e.chain,{symbol:"VT"}),x=(0,s.getTokenBy)(i.data.YT,e.chain,{symbol:"YT"}),[y,v]=(0,k.useState)(""),w=(0,m.parseEthers)(y),[N,j]=(0,k.useState)(""),T=(0,m.parseEthers)(N),E="vt"==r?u:x,A="vt"==r?(0,s.getTokenBy)(i.data.vtSwapPoolHook,e.chain,{symbol:"lpTVT"}):(0,s.getTokenBy)(e.lpTYT,e.chain,{symbol:"lpTYT"}),[S,_]=(0,k.useMemo)(()=>(0,m.uniSortTokens)([i.data.T,"vt"==r?i.data.VT:i.data.YT]),[r,i.data]),C=(0,L.isAddressEqual)(S,c.address),I=(0,f.useBalance)(c),V=(0,f.useBalance)(E),[D,F]=(0,k.useState)(["calcLPAdd"]),U=(0,k.useMemo)(()=>(0,b.debounce)((e,t)=>{console.info("setCalcKey:",e,t,C),F([e,t,"calcLPAdd",C])},300),[C]),{data:[M,z,$],isFetching:H}=(0,g.useQuery)({queryKey:D,staleTime:0,initialData:[0n,0n,0n],throwOnError:(e,t)=>(console.error(e),!1),queryFn:async({queryKey:t})=>{let n=[0n,0n,0n];if(t.length<=1)return n;let s=(0,p.getPC)(e.chain),o=t[0],l=t[1];if(console.info("calcLPAdd1:",o,l),"vt"!=r)return n;{let[e,t,r]=await Promise.all([s.readContract({abi:a.abiLntVTSwapHook,address:i.data.vtSwapPoolHook,functionName:"reserve0"}),s.readContract({abi:a.abiLntVTSwapHook,address:i.data.vtSwapPoolHook,functionName:"reserve1"}),s.readContract({abi:B.erc20Abi,address:i.data.vtSwapPoolHook,functionName:"totalSupply"})]);console.info("liq0,liq1:",(0,m.fmtBn)(e),(0,m.fmtBn)(t)),n=0n==e||0n==t?[l,l,l]:o?[l*r/e,l,l*t/e]:[l*r/t,l*e/t,l]}return console.info("calcLPAdd2:",o,C,l,n),C?(v((0,m.fmtBn)(n[1],c.decimals)),j((0,m.fmtBn)(n[2],u.decimals))):(v((0,m.fmtBn)(n[2],c.decimals)),j((0,m.fmtBn)(n[1],u.decimals))),n}}),q="vt"!==r||w<=0n||w>I.data||T<=0n||T>V.data,W=H&&w>0n,G=async()=>"yt"==r?(0,o.encodeModifyLP)({chainId:e.chain,lp:i.data.vtSwapPoolHook,poolkey:l.data,liquidity:M,amount0Max:z,amount1Max:$}):(0,P.withTokenApprove)({approves:[{spender:i.data.vtSwapPoolHook,token:c.address,amount:w},{spender:i.data.vtSwapPoolHook,token:E.address,amount:T}],user:n,pc:(0,p.getPC)(e.chain),tx:{name:"Add Liquidity",abi:a.abiLntVTSwapHook,address:i.data.vtSwapPoolHook,functionName:"addLiquidity",args:[{amount0Desired:C?w:T,amount1Desired:C?T:w,amount0Min:0n,amount1Min:0n,deadline:(0,m.genDeadline)(),tickLower:-1e5,tickUpper:1e5,userInputSalt:(0,O.toHex)(0,{size:32})}]}});return(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(K.TokenInput,{tokens:[c],amount:y,error:"",setAmount:e=>{U(C,(0,m.parseEthers)(e,c.decimals)),v(e)}}),(0,t.jsx)(K.TokenInput,{tokens:[E],amount:N,error:"",setAmount:e=>{U(!C,(0,m.parseEthers)(e,E.decimals)),j(e)}}),(0,t.jsx)("div",{children:"Receive"}),(0,t.jsx)(K.TokenInput,{tokens:[A],loading:W,disable:!0,amount:(0,m.fmtBn)(M,A.decimals)}),(0,t.jsx)(P.Txs,{className:"mx-auto mt-4",tx:"Add",disabled:q,txs:G,onTxSuccess:()=>{v(""),j(""),U(!1,0n),(0,h.reFet)(i.key,I.key,I.key)}})]})}function ef({vc:e,type:r}){let n=(0,d.useLntVault)(e),i=(0,d.useLntHookPoolkey)(e),[u,x]=(0,k.useState)(""),b=(0,m.parseEthers)(u),y=(0,s.getTokenBy)(n.data.T,e.chain,{symbol:"T"}),v=(0,s.getTokenBy)(n.data.VT,e.chain,{symbol:"VT"}),w=(0,s.getTokenBy)(n.data.YT,e.chain,{symbol:"YT"}),N="vt"==r?(0,s.getTokenBy)(n.data.vtSwapPoolHook,e.chain,{symbol:"lpTVT"}):(0,s.getTokenBy)(e.lpTYT,e.chain,{symbol:"lpTYT"}),j="vt"==r?v:w,[T,E]=(0,k.useMemo)(()=>(0,m.uniSortTokens)([n.data.T,"vt"==r?n.data.VT:n.data.YT]),[r,n.data]),A=(0,L.isAddressEqual)(T,y.address),S=(0,f.useBalance)(N),_=(0,f.useTotalSupply)(N),{data:[C,R],isFetching:I}=(0,g.useQuery)({...(0,c.useCalcKey)(["calcLpRemove",e.vault,b,A]),initialData:[0n,0n],queryFn:async()=>{if(b<=0n)return[0n,0n];let t=(0,p.getPC)(e.chain);if("yt"==r)return[0n,0n];let[i,s,o]=await Promise.all([t.readContract({abi:a.abiLntVTSwapHook,address:n.data.vtSwapPoolHook,functionName:"reserve0"}),t.readContract({abi:a.abiLntVTSwapHook,address:n.data.vtSwapPoolHook,functionName:"reserve1"}),t.readContract({abi:B.erc20Abi,address:n.data.vtSwapPoolHook,functionName:"totalSupply"})]);return 0n==i||0n==s?[0n,0n]:A?[b*i/o,b*s/o]:[b*s/o,b*i/o]}}),V="vt"!=r||b<=0n||b>S.data,D=_.data>0n?S.data*l.DECIMAL/_.data:0n,F=`Pool share: ${(0,m.fmtPercent)(D,N.decimals,2)}`;return(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(K.TokenInput,{tokens:[N],amount:u,setAmount:x,error:"",otherInfo:F}),(0,t.jsx)("div",{children:"Receive"}),(0,t.jsx)(K.TokenInput,{tokens:[y],loading:I&&b>0n,disable:!0,amount:(0,m.fmtBn)(C,y.decimals)}),(0,t.jsx)(K.TokenInput,{tokens:[j],loading:I&&b>0n,disable:!0,amount:(0,m.fmtBn)(R,j.decimals)}),(0,t.jsx)(P.Txs,{className:"mx-auto mt-4",tx:"Remove",disabled:V,txs:()=>"yt"==r?(0,o.encodeModifyLP)({chainId:e.chain,poolkey:i.data,lp:n.data.vtSwapPoolHook,liquidity:-b}):[{name:"Remove Liquidity",abi:a.abiLntVTSwapHook,address:n.data.vtSwapPoolHook,functionName:"removeLiquidity",args:[{liquidity:b,amount0Min:0n,amount1Min:0n,deadline:(0,m.genDeadline)(),tickLower:-1e5,tickUpper:1e5,userInputSalt:(0,O.toHex)(0,{size:32})}]}],onTxSuccess:()=>{x(""),(0,h.reFet)(n.key,S.key)}})]})}function eh({vc:e}){let a=(0,d.useLntVault)(e),n=(0,d.useLntVaultLogs)(e),o=(0,d.calcVtApy)(e,a.data,n.data),l=(0,s.getTokenBy)(a.data.VT,e.chain,{symbol:"VT"}),c=(0,s.getTokenBy)(a.data.T,e.chain,{symbol:"T"}),{data:u}=(0,I.useWalletClient)(),f=(0,d.useVTTotalSupply)(e),h=(0,E.useRouter)();return(0,t.jsxs)("div",{className:"flex flex-col gap-4 w-full",children:[(0,t.jsxs)("div",{className:"animitem card p-0! overflow-hidden w-full font-sec",children:[(0,t.jsxs)("div",{className:"flex p-5 bg-[#A3D395] gap-4 relative",children:[(0,t.jsx)(M.TokenIcon,{size:48,token:l}),(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsx)("div",{className:"text-lg font-def leading-6 text-black font-semibold",children:l.symbol}),(0,t.jsxs)("div",{className:"text-xs leading-none text-black/60 font-medium font-sec",children:["1 ",l.symbol," is equal to 1 ",c.symbol," at maturity"]})]}),e.deposit&&(0,t.jsxs)("div",{className:"text-sm text-black absolute top-5 right-5 font-sec",children:[(0,t.jsx)("span",{onClick:()=>(0,r.toLntVault)(h,e.vault,"bridge"),className:"cursor-pointer underline underline-offset-2",children:"Bridge"})," "," to ",(0,i.getChain)(e.chain).name," first"]})]}),(0,t.jsxs)("div",{className:"flex whitespace-nowrap flex-wrap items-baseline justify-between px-2.5 pt-2 gap-2.5 font-sec",children:[(0,t.jsxs)("div",{className:"flex justify-between gap-2.5 items-baseline",children:[(0,t.jsx)("div",{className:"text-xs font-medium opacity-60",children:"APY Est."}),(0,t.jsx)("div",{className:"text-lg font-semibold",children:(0,m.formatPercent)(o)})]}),(0,t.jsxs)("div",{className:"flex justify-between gap-2.5 items-baseline",children:[(0,t.jsx)("div",{className:"text-xs font-medium opacity-60",children:"Total Supply"}),(0,t.jsx)("div",{className:"text-lg font-semibold",children:(0,x.displayBalance)(f,void 0,l.decimals)})]})]}),(0,t.jsx)("div",{className:"flex px-2 pb-4",children:(0,t.jsx)("button",{className:"btn-link ml-auto text-primary text-xs underline-offset-2 font-sec",onClick:()=>{u?.watchAsset({type:"ERC20",options:l}).catch(m.handleError)},children:"Add to wallet"})})]}),e.vtActive?(0,t.jsx)(G.SimpleTabs,{className:"animitem",listClassName:"p-0 gap-3 mb-4",triggerClassName:'text-base font-sec leading-none rounded-[10px] px-4 py-2 bg-card data-[state="active"]:bg-primary/20',data:[{tab:"Swap",content:(0,t.jsx)(eu,{vc:e,type:"vt"})},{tab:"Add Liquidity",content:(0,t.jsx)(ed,{vc:e,type:"vt"})},{tab:"Remove Liquidity",content:(0,t.jsx)(ef,{vc:e,type:"vt"})}]}):(0,t.jsx)("div",{className:"animitem w-full py-[150px] text-center text-base font-semibold",children:"Swap Coming Soon"})]})}function em({vc:e}){let{data:r}=(0,I.useWalletClient)(),a=(0,d.useLntVault)(e),n=(0,s.getTokenBy)(a.data.YT,e.chain,{symbol:"YT"}),i=(0,s.getTokenBy)(a.data.T,e.chain,{symbol:"T"});return(0,t.jsxs)("div",{className:"flex flex-col gap-4 w-full",children:[(0,t.jsxs)("div",{className:"animitem card p-0! overflow-hidden w-full",children:[(0,t.jsxs)("div",{className:"flex p-5 bg-[#F0D187] gap-5",children:[(0,t.jsx)(M.TokenIcon,{size:48,token:n}),(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsx)("div",{className:"text-xl leading-6 text-black font-semibold",children:n.symbol}),(0,t.jsxs)("div",{className:"text-xs leading-none text-black/60 font-medium",children:["1 ",n.symbol," is equal to 1 ",i.symbol," at maturity"]})]})]}),(0,t.jsxs)("div",{className:"flex whitespace-nowrap items-baseline justify-between px-2.5 pt-2 gap-2.5",children:[(0,t.jsx)("div",{className:"text-lg font-medium",children:(0,m.formatPercent)(1)}),(0,t.jsx)("div",{className:"text-xs font-semibold opacity-60",children:"Fixed APY"}),(0,t.jsx)("div",{className:"text-xs font-semibold opacity-60 ml-auto",children:"Circulation amount"}),(0,t.jsx)("div",{className:"text-lg font-medium",children:(0,x.displayBalance)(0n)})]}),(0,t.jsx)("div",{className:"flex px-2 pb-4",children:(0,t.jsx)("button",{className:"btn-link ml-auto text-primary text-xs underline-offset-2",onClick:()=>{r?.watchAsset({type:"ERC20",options:n}).catch(m.handleError)},children:"Add to wallet"})})]}),(0,t.jsx)("div",{className:"animitem card p-4!",children:(0,t.jsx)(G.SimpleTabs,{listClassName:"p-0 gap-6 mb-4",triggerClassName:"text-base leading-none",data:[{tab:"Swap",content:(0,t.jsx)(eu,{vc:e,type:"yt"})},{tab:"Add Liquidity",content:(0,t.jsx)(ed,{vc:e,type:"yt"})},{tab:"Remove Liquidity",content:(0,t.jsx)(ef,{vc:e,type:"yt"})}]})})]})}function ep({vc:e,tab:a}){let n=(0,E.useRouter)(),i=(0,d.useLntVault)(e),o=(0,s.getTokenBy)(i.data.VT,e.chain,{symbol:"VT"}),l=(0,s.getTokenBy)(i.data.VTbyDeposit,e.deposit?.chain,{symbol:"VT"}),c=[{tab:"Vesting Token",content:(0,t.jsx)(eh,{vc:e})},...e.ytEnable?[{tab:"Yield Token",content:(0,t.jsx)(em,{vc:e})}]:[],...e.buyback?[{tab:"Put Option",content:(0,t.jsx)(z.LntVaultBuyback,{vc:e})}]:[],...l?[{tab:"Bridge",content:(0,t.jsx)(D.BridgeToken,{config:[l,o]})}]:[]],u=c.find(e=>(0,m.tabToSearchParams)(e.tab)===a)?.tab;return(0,t.jsx)("div",{className:"animitem card not-dark:bg-main md:min-h-177",children:(0,t.jsx)(G.SimpleTabs,{currentTab:u,onTabChange:t=>(0,r.toLntVault)(n,e.vault,t),listClassName:"p-0 gap-4 mb-4 w-full",triggerClassName:e=>'text-lg leading-none data-[state="active"]:underline underline-offset-8',data:c})})}function ex({vc:e}){return e.isAethir?(0,t.jsxs)("div",{className:"font-sec flex justify-end items-center gap-5 text-xs lg:gap-10 lg:text-sm ",children:[(0,t.jsxs)(T.default,{href:"https://youtu.be/mK2ZBujbuR4",target:"_blank",className:"flex items-center gap-2 underline underline-offset-2",children:[(0,t.jsx)(A.FaYoutube,{className:"text-[1.5em] text-red-500"}),"Tutorial"]}),(0,t.jsxs)(T.default,{href:"https://opensea.io/collection/aethir-checker-license",target:"_blank",className:"flex items-center gap-2 underline underline-offset-2",children:[(0,t.jsx)(U.CoinIcon,{symbol:"Opensea",size:"1.5em",className:"object-contain"}),"Buy Node on Opensea"]})]}):null}var eg=e.i(875219),eb=e.i(599457),ey=e.i(392861);function ev({className:e,itemClassname:r,currentPage:a=1,pages:n=0,onPageChange:i}){if(n<2)return null;let s=[];for(let e=0;e<n;e++)e>=1&&e<=a-1-2-1&&a>=6||e>=a-1+2+1&&e<=n-2&&a<=n-1-2-2?"..."!==s[s.length-1]&&s.push("..."):s.push(e+1);return(0,t.jsx)("div",{className:(0,m.cn)("flex items-center justify-center gap-1",e),children:s.map((e,n)=>(0,t.jsx)("div",{className:(0,m.cn)("text-sm w-9 h-9 flex items-center justify-center rounded-lg bg-primary/10",{"bg-primary text-white":e==a},{"hover:bg-primary/30":e!=a&&"number"==typeof e},{"cursor-pointer":"number"==typeof e},r),onClick:()=>{a!==e&&"number"==typeof e&&i?.(e)},children:e},"pageitem_"+n))})}function ew({vc:e}){let r=(0,k.useRef)(0),a=function(e,t=20){let[r,a]=(0,k.useState)(1);return(0,k.useMemo)(()=>({pages:Math.ceil(e/t),currentPage:r,onPageChange:e=>a(e)}),[r,e,t])}(r.current,20),n=(0,h.useFet)({key:`LntVaultActivity:${e.vault}:${a.currentPage}`,initResult:{items:[],total:0},fetfn:async()=>(0,eg.getLntVaultActivityPage)(e.chain,e.vault,a.currentPage,20).then(e=>(r.current=e.total,e))});return(0,t.jsxs)("div",{className:"flex flex-col gap-4 card",children:[(0,t.jsx)("div",{className:"animitem font-medium text-lg leading-none",children:"Activity"}),(0,t.jsxs)("div",{className:"animitem card bg-main overflow-x-auto font-sec",children:[(0,h.isLoading)(n)&&(0,t.jsx)("div",{className:"flex justify-center items-center pt-10 w-full h-[765px]",children:(0,t.jsx)(ey.Spinner,{})}),(0,h.isSuccess)(n)&&(0,t.jsx)(eb.default,{header:["License ID","Activity","From/To","Time"],data:n.data.items.map(r=>[`#${r.tokenId}`,(0,t.jsx)("div",{className:"Deposit"==r.type?"text-green-500":"text-red-500",children:"Deposit"==r.type?r.type:"Withdraw"},"action"),`${(0,m.shortStr)(r.user)}`,(0,t.jsx)(T.default,{target:"_blank",href:`${(0,i.getChain)(e.chain).blockExplorers?.default.url}/tx/${r.tx}`,className:"underline underline-offset-2",children:(0,m.fmtDate)(new Date(r.block_time).getTime(),m.FMT.ALL)},"time")])}),(0,t.jsx)(ev,{...a})]})]})}e.i(711581);var eN=e.i(392978),ej=e.i(280924),eT=e.i(570963),eE=e.i(62870),ek=e.i(729188);let eA=(e,t=18)=>(0,y.round)(parseFloat((0,eT.formatUnits)(BigInt(e),t)),5);function eS({tit:e,types:r,vc:a,data:n,yFormater:i}){let[s,o]=(0,k.useState)(r[0]),[l,c]=(0,_.useToggle)(!0),{options:u}=(0,k.useMemo)(()=>({options:{textStyle:{fontFamily:"Parkinsans"},title:{show:!1},animation:!0,animationDuration:200,tooltip:{trigger:"axis",backgroundColor:"#4B4F52",borderWidth:0,textStyle:{color:"#fff"},valueFormatter:i},grid:{left:0,top:0,right:0,bottom:0,show:!1},toolbox:{show:!1},xAxis:{type:"category",boundaryGap:!1,axisLine:{onZero:!1},axisLabel:{color:"#999"}},yAxis:{type:"value",boundaryGap:[0,"100%"],splitLine:{show:!1},max:e=>(e.max-e.min)*.1+e.max,min:e=>e.min-(e.max-e.min)*.1,axisLabel:{formatter:i,showMinLabel:!1,showMaxLabel:!1,color:"#999"}},dataZoom:[{type:"inside",start:0,end:100,minValueSpan:10},{show:!1}],series:[{name:s,type:"line",symbol:"none",sampling:"lttb",itemStyle:{color:"rgb(30, 202, 83)"},areaStyle:{origin:"start",color:new eN.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(30, 202, 83, 0.26)"},{offset:1,color:"rgba(30, 202, 83, 0.07)"}])},data:n}]}}),[l,s,n]);return(0,t.jsxs)("div",{className:"card not-dark:bg-main w-full flex-1 p-2.5 flex flex-col justify-between gap-2 items-center",children:[(0,t.jsxs)("div",{className:"flex w-full justify-between gap-2 items-center",children:[(0,t.jsxs)("span",{className:"text-base font-medium",children:[e," Chart"]}),r.length>1&&(0,t.jsx)(eE.SimpleSelect,{className:"text-sm",options:r,onChange:e=>o(e)})]}),(0,t.jsx)(ek.default,{option:u,className:"w-full",style:{height:240}})]})}function e_({vc:e}){let r=Math.round((0,ej.now)()/1e3),a=Math.round(r-7776e3),n=(0,h.useFet)({key:`LntVaultVTChartData:${e.vault}`,initResult:[],fetfn:async()=>(0,eg.getLntVaultVTPriceApy)(e.chain,e.vault,a,r)}),i=n.data.map(e=>[(0,m.fmtDate)(1e3*e.time,m.FMT.ALL3),(eA(e.apy)+1)**2-1]),s=n.data.map(e=>[(0,m.fmtDate)(1e3*e.time,m.FMT.ALL3),eA(e.price)]);return(0,t.jsxs)("div",{className:"animitem max-w-4xl w-full min-w-0 flex flex-col gap-5 shrink-0",children:[(0,t.jsx)(eS,{tit:"APY",types:e.ytEnable?["YT APY","VT APY"]:["VT APY"],vc:e,data:i,yFormater:e=>(0,m.formatPercent)(e,2,!1)}),(0,t.jsx)(eS,{tit:"Price",types:e.ytEnable?["YT Price","VT Price"]:["VT Price"],vc:e,data:s})]})}var eC=e.i(553071),eB=e.i(833957),eL=e.i(775750);function eO({vc:e,tab:r}){let a=(0,d.useLntVault)(e),n=(0,E.useRouter)();return(0,t.jsxs)("div",{className:"flex flex-col w-full gap-4",children:[(0,h.isError)(a)&&"Opps! Network Error!",(0,h.isLoading)(a)&&(0,t.jsx)(ey.Spinner,{className:"mt-10 mx-auto text-black dark:text-white"}),(0,h.isSuccess)(a)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-wrap w-full justify-between gap-5 items-center",children:[(0,t.jsxs)(J.BBtn2,{className:"w-fit gap-0.5 text-xs whitespace-nowrap",onClick:()=>n.push(e.isLVT?"/lvt":"/lnt"),children:[(0,t.jsx)(A.FaAngleLeft,{})," ",e.isLVT?"LVT-Vault":"LNT-Vault"]}),e.reppo&&(0,t.jsxs)(J.BBtn2,{className:"w-fit gap-0.5 text-xs",onClick:()=>n.push("/lnt/pre-deposit"),children:[" ","Pre Deposit"]}),(0,t.jsx)(ex,{vc:e})]}),(0,t.jsx)(ec,{vc:e}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[1.2fr_1fr] gap-4",children:[(0,t.jsx)(e_,{vc:e}),(0,t.jsx)(ep,{vc:e,tab:r})]}),(0,t.jsx)(eC.LntMyPositions,{vc:e}),e.isAethir&&(0,t.jsx)(ew,{vc:e})]})]})}let eR="LNT (Liquid Node Token) Vault is a decentralized protocol designed to facilitate the issuance and management of node-based assets through Non-Fungible Tokens (NFTs) and derivative financial instruments.",eI="LVT (Liquid Vesting Token) Vault is a smart new way to make locked-up tokens in crypto projects tradeable right away, without breaking the rules or the project's long-term plans.";function eV({type:e="lnt"}){let r=eL.LNTVAULTS_CONFIG.filter(t=>{let r=!t.onEnv||t.onEnv.includes(l.ENV),a=(t.isLVT?"lvt":"lnt")==e;return r&&a}),a=(0,E.useSearchParams)(),n=a.get("vault"),i=a.get("tab"),s=r.find(e=>e.vault==n);return(0,t.jsx)(eB.PageWrap,{style:{backgroundPositionX:"center"},className:(0,m.cn)({"bg-[url(/bg_lnt.svg)] bg-cover bg-no-repeat":!s}),children:(0,t.jsx)("div",{className:(0,m.cn)("w-full px-4 relative"),children:s?(0,t.jsx)(Y.ConfigChainsProvider,{chains:s.chain,children:(0,t.jsx)(eO,{vc:s,tab:i})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"page-title",children:[e.toUpperCase(),"-Vaults"]}),(0,t.jsxs)("div",{className:"font-sec mx-auto mt-4 text-center text-fg/60 flex flex-col gap-5 px-4 md:max-w-250 md:px-10 md:block",children:["lnt"==e?eR:eI,(0,t.jsx)(T.default,{href:`https://docs.zoofi.io/${e}-vault/background`,target:"_blank",className:"text-fg underline underline-offset-2 ml-5",children:"Learn More>"})]}),(0,t.jsx)("div",{className:"flex flex-col gap-5 mt-4 md:mt-8",children:r.map((e,r)=>(0,t.jsx)(Y.ConfigChainsProvider,{chains:e.chain,children:(0,t.jsx)(eo,{vc:e})},`group_vault_item_${r}`))})]})})})}e.s(["default",()=>eV,"lntDesc",0,eR,"lvtDesc",0,eI],889886)}]);