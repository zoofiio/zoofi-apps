"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3007],{47857:function(e,t,a){a.d(t,{cL:function(){return CoinIcon},rw:function(){return DoubleCoinIcon}});var n=a(52987),o=a(38214),s=a(13854);let c={BERA:"BERA.svg",balance:"balance.png",berachain:"berachain.svg",berahub:"berahub.svg",bg_home:"bg_home.svg",blackLine:"blackLine.svg",Bull:"Bull.svg",coin:"coin.png",discord:"discord.png",discount:"discount.png",ETH:"ETH.svg",ethfi:"ethfi.png",ETHx:"ETHx.svg",galxe:"galxe.png",gift:"gift.png",gold:"gold.png",greenCycle:"greenCycle.png",GreenDot:"GreenDot.svg","HONEY-USDC":"HONEY-USDC.svg","USDC-HONEY":"HONEY-USDC.svg","HONEY-WBERA":"HONEY-WBERA.webp","HONEY-WBTC":"HONEY-WBTC.svg","HONEY-WETH":"HONEY-WETH.svg",HONEY:"HONEY.svg",iBGT:"iBGT.webp",iRED:"iRED.svg","logo-alt":"logo-alt.svg",Panda:"Panda.svg",piRED:"piRED.svg","status-green":"status-green.svg","status-red":"status-red.svg",twitter:"twitter.png",USDC:"USDC.svg",USDCx:"USDCx.svg",USDT:"USDT.svg",Venom:"Venom.svg",WBERA:"WBERA.svg",WBTC:"WBTC.svg",WBTCx:"WBTCx.svg",weeth:"weeth.png",weETH:"weETH.svg",weETHx:"weETHx.svg",WETH:"WETH.svg",xBERA:"xBERA.svg",xiBGT:"xiBGT.svg",yiRED:"yiRED.svg",ZUSD:"ZUSD.svg",BYUSD:"BYUSD.webp",Fire:"Fire.png",Lnfi:"lnfi.png",Reppo:"reppo.png",Enreach:"enreach.svg",Aethir:"Aethir.svg",Nodeops:"Nodeops.svg",ReppoNft:"ReppoNft.png","kodiak-logo":"kodiak-logo.svg",Opensea:"Opensea.svg",ZeroG:"ZeroG.png","0G":"0G.png",v0G:"v0G.png",y0G:"y0G.png",lp0G:"lp0G.png",Aethir2:"Aethir2.svg",aethir:"aethir.png",ATH:"ATH.png",vATH:"vATH.png",lpATH:"lpATH.png"};function CoinIconImpl(e){let{symbol:t,size:a=48,url:l,style:r,...i}=e,d=c[t],u="".concat(o.G,"/").concat(d);return d||l?(0,n.jsx)("img",{...i,style:{width:a,height:a,...r||{}},className:(0,s.cn)(i.className),width:a,height:a,src:d?u:l,alt:t}):(0,n.jsxs)("svg",{...i,width:a,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("text",{className:"fill-primary/60",width:"20",x:"12",y:"14",textAnchor:"middle",fontSize:12,dominantBaseline:"middle",children:t.slice(0,2)}),(0,n.jsx)("circle",{className:"stroke-primary/60",cx:"12",cy:"12",r:"11.5",strokeWidth:1})]})}let l=["logo-alt","status-green","status-red","kodiak-logo"];function DoubleCoinIcon(e){let{symbol1:t,symbol2:a,size:o=48,url1:c,url2:l,className:r}=e;return(0,n.jsxs)("div",{className:(0,s.cn)("flex items-center",r),children:[(0,n.jsx)(CoinIconImpl,{symbol:t,size:o,url:c}),(0,n.jsx)(CoinIconImpl,{symbol:a,size:o,url:l,style:{marginLeft:"-30%"}})]})}function CoinIcon(e){let{symbol:t,size:a=48,url:o,...s}=e;if(t.includes("-")&&!l.includes(t)){let[e,o]=t.split("-");return(0,n.jsx)(DoubleCoinIcon,{...s,symbol1:e,symbol2:o,size:a})}return(0,n.jsx)(CoinIconImpl,{...s,symbol:t,size:a,url:o})}},26694:function(e,t,a){a.d(t,{E:function(){return PageWrap}});var n=a(52987),o=a(13854);a(77317);var s=a(78525);function PageWrap(e){let{children:t,className:a}=e;return(0,s.l)(e=>e.theme),(0,n.jsx)("div",{className:(0,o.cn)("h-auto pt-[30px] pb-6",a),children:t})}},27022:function(e,t,a){var n=a(52987),o=a(13854),s=a(21532);function DefEmpty(){return(0,n.jsx)("tr",{className:"text-lg font-normal text-center text-black ",children:(0,n.jsx)("td",{colSpan:100,className:"h-[100px] py-5 align-top"})})}a(77317),t.ZP=e=>{let{header:t,data:a,span:c={},empty:l=(0,n.jsx)(DefEmpty,{}),className:r,headerClassName:i,headerItemClassName:d,tbodyClassName:u="",rowClassName:p,rowStyle:f,cellClassName:b,onClickRow:B,onRowMouseHover:E}=e,g=t.reduce((e,t,a)=>{var n;return e+(null!==(n=c[a])&&void 0!==n?n:1)},0),y=g>0?100/g:0;return(0,n.jsxs)("table",{className:(0,o.cn)("relative w-full bg-transparent ",r),children:[(0,n.jsx)("thead",{className:"",children:(0,n.jsx)("tr",{className:(0,o.cn)("text-left whitespace-nowrap font-normal text-black border-b border-gray-100 pt-5 pb-6 dark:text-slate-50 dark:border-zinc-600",i),children:t.map((e,t)=>{var a;return(0,n.jsx)("th",{style:{width:"".concat((0,s.G)(y*(null!==(a=c[t])&&void 0!==a?a:1),2),"%")},scope:"col",className:(0,o.cn)(0==c[t]?"p-0 w-0":"p-3 font-normal text-sm","function"==typeof d?d(t):d),children:e},t)})})}),(0,n.jsxs)("tbody",{className:(0,o.cn)(u),children:[a.map((e,a)=>(0,n.jsx)("tr",{onClick:()=>B&&B(a),onMouseEnter:()=>E&&E(a),onMouseLeave:()=>E&&E(-1),style:"function"==typeof f?f(a):f,className:(0,o.cn)("text-slate-700 dark:text-slate-50 font-medium whitespace-nowrap",B?"cursor-pointer hover:bg-slate-400/10":"","function"==typeof p?p(a):p),children:e.map((e,s)=>s>=t.length?(0,n.jsx)(n.Fragment,{children:e}):(0,n.jsx)("td",{className:(0,o.cn)(0==c[s]?"p-0 w-max":"px-3 py-2 text-sm w-max",{"flex items-center gap-2":0==s},"function"==typeof b?b(a,s):b),children:e},s))},a)),0===a.length&&l]})]})}},54381:function(e,t,a){a.d(t,{E3:function(){return opsOrderAethir},UV:function(){return modifyOpsAdmins},Wn:function(){return getTokensPriceByPyth},ZK:function(){return getNftTokensIdsByUser},_c:function(){return getBvaultsPtSynthetic},bY:function(){return getNftsByAlchemy},bi:function(){return getOpsStatsAethir},l6:function(){return getBvaultEpochYtPrices},mX:function(){return getOpsAdmins},op:function(){return getLntVaultVTPriceApy},oz:function(){return getNftsByZoofi},vI:function(){return getLntVaultActivity}});var n=a(83606),o=a(61469),s=a(52468),c=a(78784),l=a(53414);let getBvaultEpochYtPrices=(e,t,a)=>c.ZP.get(e,"/api/bvault/getEpochYTPrices/".concat(t,"/").concat(a)),getBvaultsPtSynthetic=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return c.ZP.post(e,"/api/bvault/batchGetEpochPtSynthetic",{bvaults:t})},getNftTokensIdsByUser=(e,t,a)=>c.ZP.post(e,"/api/nft/".concat(a,"/tokenIds"),{tokens:t}),getNftsByZoofi=(e,t,a)=>c.ZP.get(e,"/api/nft/erc721Balance/".concat(e,"/").concat(t,"/").concat(a)),getLntVaultVTPriceApy=(e,t,a,n)=>c.ZP.get(e,"/api/lnt/vt-price-apy/".concat(t,"/").concat(a,"/").concat(n)),getLntVaultActivity=(e,t,a,n)=>c.ZP.get(e,"/api/lnt/activity/".concat(t,"/").concat(a,"/").concat(n)),r={"0x962088abcfdbdb6e30db2e340c8cf887d9efb311b1f2f17b155a63dbb6d40265":["0x6969696969696969696969696969696969696969","0x0000000000000000000000000000000000000000"],"0xf67b033925d73d43ba4401e00308d9b0f26ab4fbd1250e8b5407b9eaade7e1f4":["0xFCBD14DC51f0A4d49d5E53C2E0950e0bC26d0Dce"],"0xc929105a1af143cbfc887c4573947f54422a9ca88a9e622d151b8abdf5c2962f":["0xac03CABA51e17c86c921E1f6CBFBdC91F8BB2E6b"],"0x2b89b9dc8fdf9f34709a5b106b472f0f39bb6ca9ce04b0fd7f2e971688e2e53b":["0x779Ded0c9e1022225f8E0630b35a9b54bE713736"],"0xeaa020c61cc479712813461ce153894a96a6c00b21ed0cfc2798d1f9a9e9c94a":["0x549943e04f40284185054145c6E4e9568C1D3241"],"0x00456705ae9007ea761e95c724035a23a62fe9e444bbc744e11af7f050ab53c3":["0x688e72142674041f8f6Af4c808a4045cA1D6aC82"],"0x9d4294bbcd1174d6f2003ec365831e64cc31d9f6f15a2b85399db8d5000960f6":["0x2F6F07CDcf3588944Bf4C42aC74ff24bF56e7590"],"0xeb943c0b5c9e02a529f799ac91070c3b7046f9412f3e5b0a90ba00267b838f34":["0x9b6761bf2397Bb5a6624a856cC84A3A14Dcd3fe5"]},getTokensPriceByPyth=async()=>{let e=(0,o.X)(r),t=await n.Z.get("https://hermes.pyth.network/v2/updates/price/latest",{params:{"ids[]":e}}),a=t.data.parsed,c={};for(let e of a){let t=(0,s.v)(e.price.price,18+e.price.expo);for(let a of r["0x".concat(e.id)])c[a]=t}return c},i={[l.Fo.id]:"eth-sepolia",[l.ue.id]:"base-mainnet",[l.On.id]:"berachain-mainnet",[l.yX.id]:"arb-mainnet"},getNftsByAlchemy=async(e,t,a)=>{let o;if(!i[e])throw Error("Not Support");let s=[];for(;;){let{pageKey:c,nfts:l}=await function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return n.Z.get("https://".concat(i[e],".g.alchemy.com/nft/v3/7UXJgo01vxWHLJDk09Y0qZct8Y3zMDbX/getNFTsForOwner?owner=").concat(a,"&contractAddresses[]=").concat(t,"&pageSize=").concat(s),{params:o?{pageKey:o}:{}}).then(e=>({pageKey:e.data.pageKey,nfts:e.data.ownedNfts.map(e=>e.tokenId)}))}();if(s=s.concat(l),!c)break;o=c}return s},getOpsAdmins=(e,t)=>c.ZP.get(e,"/api/ops/admins",{},{headers:{Authorization:t}}),modifyOpsAdmins=(e,t,a)=>c.ZP.post(e,"/api/ops/modify-admins",a,{headers:{Authorization:t}}),getOpsStatsAethir=(e,t)=>c.ZP.get(e,"/api/ops/nodeops-stats-aethir",{},{headers:{Authorization:t}}),opsOrderAethir=(e,t,a)=>c.ZP.post(e,"/api/ops/nodeops-order/".concat(a),{},{headers:{Authorization:t}})},58400:function(e,t,a){a.d(t,{Fw:function(){return d},TE:function(){return r},_C:function(){return l}});var n=a(53414),o=a(13854);let s={[n.BG.id]:"0x8685CE9Db06D40CBa73e3d09e6868FE476B5dC89",[n.On.id]:"0x4737c3BAB13a1Ad94ede8B46Bc6C22fb8bBE9c81"},c={[n.BG.id]:"0x97d82C639835F4EfaCC366fdE78CA0c4EC2a2A83",[n.On.id]:"0x7D3Cec2f46279229277802D30702e4E7FB19bAC0"},l={[n.BG.id]:"0x8685CE9Db06D40CBa73e3d09e6868FE476B5dC89",[n.On.id]:"0x8685CE9Db06D40CBa73e3d09e6868FE476B5dC89"},r={[n.BG.id]:"0x0e4aaf1351de4c0264c5c7056ef3777b41bd8e03",[n.On.id]:"0xFCBD14DC51f0A4d49d5E53C2E0950e0bC26d0Dce"},i={[n.BG.id]:"0xDf1126d3627b7f5D2a44d978A7180AcbD3c34aB6",[n.On.id]:"0x6E603014ACE3Ae06F34Ffe259106Af77c056d913"},d=(0,o.Yb)({[n.BG.id]:[{vault:"0x9700FEa232560E4048DD924623491926282125bE",asset:"0xd28d852cbcc68dcec922f6d5c7a8185dbaa104b7",assetSymbol:"HONEY-WBERA",pToken:"0x575287Cd8CB9A49e0EE00Bf0C71Eac337Ab8FeBa",pTokenSymbol:"pHONEY-BERA",yTokenSymbol:"yHONEY-BERA",protocolAddress:s[n.BG.id],protocolSettingsAddress:c[n.BG.id],bQueryAddres:i[n.BG.id],isOld:!0,onEnv:["beta"]},{vault:"0x5C88005534FB5C5B01445eC5bC944ebA0818554f",asset:"0xd28d852cbcc68dcec922f6d5c7a8185dbaa104b7",assetSymbol:"HONEY-WBERA",pToken:"0x19f4cE524268a01bfAFf8B433110d8304b096be0",pTokenSymbol:"pHONEY-BERA",yTokenSymbol:"yHONEY-BERA",protocolAddress:s[n.BG.id],protocolSettingsAddress:c[n.BG.id],bQueryAddres:i[n.BG.id],isOld:!0,onEnv:["beta"]},{vault:"0x9Ef9cE44c82111e967904059edf12701e17e6C03",asset:"0xd28d852cbcc68dcec922f6d5c7a8185dbaa104b7",assetSymbol:"HONEY-WBERA",pToken:"0x0C2553919748093b0760EA825C85dc5a72142932",pTokenSymbol:"pHONEY-BERA",yTokenSymbol:"yHONEY-BERA",protocolAddress:s[n.BG.id],protocolSettingsAddress:c[n.BG.id],bQueryAddres:i[n.BG.id],isOld:!0,onEnv:["beta","test"]},{vault:"0x77412b08bB3a8c38F7D0DC7D1158C5E7bfE03Eea",asset:"0xd28d852cbcc68dcec922f6d5c7a8185dbaa104b7",assetSymbol:"HONEY-WBERA",pToken:"0x02FEDe9cf47c3D8aCE52613C2a45bC588D4e0516",pTokenSymbol:"pHONEY-BERA",yTokenSymbol:"yHONEY-BERA",protocolAddress:s[n.BG.id],protocolSettingsAddress:c[n.BG.id],bQueryAddres:"0xEE723BD0bC2449678d37177B7D93cc69D1af4B6F",onEnv:["beta"]},{vault:"0xCC5AeD7b81dc45f02329Cc2Bf2c64B873D0be752",asset:"0xd28d852cbcc68dcec922f6d5c7a8185dbaa104b7",assetSymbol:"HONEY-WBERA",pToken:"0x05425F978a87DC80827f6c4a104FCbc6E9021ecc",pTokenSymbol:"pHONEY-BERA",yTokenSymbol:"yHONEY-BERA",protocolAddress:s[n.BG.id],protocolSettingsAddress:c[n.BG.id],bQueryAddres:"0xEE723BD0bC2449678d37177B7D93cc69D1af4B6F",onEnv:["beta"]},{vault:"0x12f5F1f53B419d1E5F3084E649001Ff091683ADc",asset:"0x0001513F4a1f86da0f02e647609E9E2c630B3a14",assetSymbol:"WBERA-YEET",pToken:"0x256938Bf1A340e6F80eAA35798b08a122783BEDF",pTokenSymbol:"pWBERA-YEET",yTokenSymbol:"yWBERA-YEET",rewardSymbol:"WBERA-YEET",protocolAddress:s[n.BG.id],protocolSettingsAddress:c[n.BG.id],bQueryAddres:"0xEE723BD0bC2449678d37177B7D93cc69D1af4B6F",onEnv:["beta"]},{vault:"0x6A2A4d8Fe425dC783e67b90d88922c5890BfA78c",asset:"0x0001513F4a1f86da0f02e647609E9E2c630B3a14",assetSymbol:"WBERA-YEET",pToken:"0x890FDA8E5ce053D34aaA64B23d250f9AF04979e4",pTokenSymbol:"pWBERA-YEET",yTokenSymbol:"yWBERA-YEET",yeetLiqSymbol:"LIQ-TRI-YEET",rewardSymbol:"LIQ-TRI-YEET",protocolAddress:s[n.BG.id],protocolSettingsAddress:c[n.BG.id],bQueryAddres:"0xEE723BD0bC2449678d37177B7D93cc69D1af4B6F",onEnv:["beta"]}],[n.On.id]:[{vault:"0xf579c039c52ab795F0C4E358d3b462bE883cDd9F",asset:"0x9659dc8c1565E0bd82627267e3b4eEd1a377ebE6",pToken:"0xF0d0CEAE071b3aDfaad4Aa1722c9E9A94fb7Dd04",pTokenV2:!0,assetSymbol:"WETH-WBERA",pTokenSymbol:"pWETHWBERA",yTokenSymbol:"yWETHWBERA",rewardSymbol:"iBGT",protocolAddress:"0xd75Dc0496826FF0C13cE6D6aA5Bf8D64126E4fF1",protocolSettingsAddress:"0x45a47E8013425AF3e6e71f1aa24e3B8c523386EA",bQueryAddres:i[n.On.id],onEnv:["test","prod"]},{vault:"0x94822b9BA715E9e3079ed12489Dc7A016694FC67",asset:"0xdd70a5ef7d8cfe5c5134b5f9874b09fb5ce812b4",pToken:"0x0DA715b18AaF66c7c044D4F315D479f6036728Ea",pTokenV2:!0,assetSymbol:"WBERA-WETH",pTokenSymbol:"pWBERAWETH",yTokenSymbol:"yWBERAWETH",rewardSymbol:"iBGT",protocolAddress:"0x9F0956c33f45141a7D8D5751038ae0A71C562f87",protocolSettingsAddress:"0xE34e1C9FC5313D9ac4B121B5F93C51e619dd778A",bQueryAddres:i[n.On.id],onEnv:["test","prod"]},{vault:"0xE6d15592F337f54E8BD47e56BbB22aF12F0D4083",asset:"0xf961a8f6d8c69e7321e78d254ecafbcc3a637621",pToken:"0xc2C5EaDF0f48702bEEDD2e2a35517e1fC4dBF7A7",pTokenV2:!0,assetSymbol:"HONEY-USDC",pTokenSymbol:"pUSDCeHONEY",yTokenSymbol:"yUSDCeHONEY",rewardSymbol:"iBGT",protocolAddress:"0x9F0956c33f45141a7D8D5751038ae0A71C562f87",protocolSettingsAddress:"0xE34e1C9FC5313D9ac4B121B5F93C51e619dd778A",bQueryAddres:i[n.On.id],onEnv:["test","prod"]},{vault:"0x702B707c2F8dd26F4F1e51cF425035d355A02767",asset:"0xdE04c469Ad658163e2a5E860a03A86B52f6FA8C8",pToken:"0xA58f5A2487abaBc5c5A23E3e3796E6615d12FCaf",assetSymbol:"HONEY-BYUSD",pTokenSymbol:"pHONEYBYUSD",yTokenSymbol:"yHONEYBYUSD",rewardSymbol:"iBGT",protocolAddress:"0xd75Dc0496826FF0C13cE6D6aA5Bf8D64126E4fF1",protocolSettingsAddress:"0x45a47E8013425AF3e6e71f1aa24e3B8c523386EA",bQueryAddres:i[n.On.id],onEnv:["test","prod"]},{vault:"0x6686bDfF3ad20AE45E811c2451DfeE8AA0f338C0",asset:"0xdE04c469Ad658163e2a5E860a03A86B52f6FA8C8",pToken:"0x83f933af46458102cf54Eabe441DBB659a1B2eA5",assetSymbol:"HONEY-BYUSD",pTokenSymbol:"pHONEYBYUSD",yTokenSymbol:"yHONEYBYUSD",rewardSymbol:"iBGT",protocolAddress:s[n.On.id],protocolSettingsAddress:c[n.On.id],bQueryAddres:i[n.On.id],onEnv:["test","prod"]},{vault:"0x33C42E171cFD7Ec85D3dB34D7f6d3D8121f64E63",asset:"0xf961a8f6d8c69e7321e78d254ecafbcc3a637621",pToken:"0x70B851f6877D16D6D5aD546B17d06281b8aBDd4b",assetSymbol:"HONEY-USDC",pTokenSymbol:"pHONEY-USDC",yTokenSymbol:"yHONEY-USDC",rewardSymbol:"iBGT",protocolAddress:"0xc0fA386aE92f18A783476d09121291A1972C30Dc",protocolSettingsAddress:"0x8c6E434Bb1C51728BdCc250255c1F654471d85eB",bQueryAddres:i[n.On.id],onEnv:["test","prod"]}]},[])},82799:function(e,t,a){a.d(t,{c:function(){return s},x:function(){return useGetAdditionalConfig}});var n=a(64370),o=a(83606);let s={BERA:"0x6969696969696969696969696969696969696969",HONEY:"0xFCBD14DC51f0A4d49d5E53C2E0950e0bC26d0Dce",USDC:"0x549943e04f40284185054145c6E4e9568C1D3241",BYUSD:"0x688e72142674041f8f6Af4c808a4045cA1D6aC82",WETH:"0x2F6F07CDcf3588944Bf4C42aC74ff24bF56e7590",iBGT:"0xac03CABA51e17c86c921E1f6CBFBdC91F8BB2E6b"};function useGetAdditionalConfig(){return(0,n.a)({initialData:{},gcTime:36e5,queryKey:["getAdditionalConfig"],queryFn:async()=>o.Z.get("https://raw.githubusercontent.com/zoofiio/configs/refs/heads/main/additional.json").then(e=>e.data)})}},422:function(e,t,a){a.d(t,{E:function(){return useLoadBVaults},g:function(){return useLoadUserBVaults}});var n=a(58400),o=a(96555),s=a(21663),c=a(64370),l=a(61469),r=a(77317),i=a(42302),d=a(99409),u=a(82799);function useLoadBVaults(){let e=(0,d.pK)(),t=(0,r.useMemo)(()=>n.Fw[e].filter(e=>(e.onEnv||[]).includes(o.Vi)),[e,o.Vi]),{isLoading:a}=(0,c.a)({queryKey:["UpdateBVaults",t],queryFn:async()=>(await Promise.all([s.w.getState().sliceBVaultsStore.updateBvaults(e,t),s.w.getState().sliceBVaultsStore.updateYTokenSythetic(e,t)]),!0)}),{address:l}=(0,i.m)(),p=(0,r.useMemo)(()=>t.map(e=>[e.asset,e.pToken]).flat().reduce((e,t)=>e.includes(t)?e:[...e,t],[]),[t]),{isLoading:f}=(0,c.a)({queryKey:["UpdateBvautlsTokens",p],queryFn:async()=>(await Promise.all([s.w.getState().sliceTokenStore.updateTokenTotalSupply(e,p),s.w.getState().sliceTokenStore.updateTokenPrices(e,p)]),!0),throwOnError:(e,t)=>(console.error(e),!1)}),{isLoading:b}=(0,c.a)({queryKey:["UpdateUserBvautlsTokens",p,l],queryFn:async()=>!!l&&(await s.w.getState().sliceTokenStore.updateTokensBalance(e,p,l),!0)}),{isLoading:B}=(0,u.x)();return{loading:a||f||b||B}}function useLoadUserBVaults(){let{address:e}=(0,i.m)(),t=(0,d.pK)(),a=(0,r.useMemo)(()=>n.Fw[t].filter(e=>(e.onEnv||[]).includes(o.Vi)),[t,o.Vi]),u=(0,s.o)(e=>(0,l.X)(e.sliceBVaultsStore.bvaults).toString(),["sliceBVaultsStore.bvaults"]);(0,c.a)({queryKey:["UpdateAllUserBvaults",a,t,e,u],queryFn:async()=>{if(!e)return!1;let n=s.w.getState().sliceBVaultsStore.bvaults;for(let e of a)if(!n[e.vault])return!1;await Promise.all(a.map(e=>s.w.getState().sliceBVaultsStore.updateEpoches(t,e)));let getEpochesParams=e=>{let t=s.w.getState().sliceBVaultsStore.bvaults[e.vault],a=[];for(let n=parseInt(t.epochCount.toString());n>0;n--){let t=s.w.getState().sliceBVaultsStore.epoches["".concat(e.vault,"_").concat(n)];a.push(t)}return a};return await Promise.all(a.map(a=>s.w.getState().sliceUserBVaults.updateEpoches(t,a,e,getEpochesParams(a)))),!0}})}},44100:function(e,t,a){a.d(t,{Pd:function(){return calcLPPrice},R3:function(){return useUpBVaultForUserAction},Vw:function(){return useEpochesData},Zd:function(){return useBVaultEpoches},gz:function(){return useCalcClaimable},lL:function(){return calcBVaultPTApy},nr:function(){return useBVault},oU:function(){return useBVaultApy},v7:function(){return useBVaultBoost}});var n=a(96555),o=a(99409),s=a(13854),c=a(29293),l=a(77317),r=a(42302),i=a(21663),d=a(81501),u=a(38462);function useBVault(e){return(0,i.o)(t=>t.sliceBVaultsStore.bvaults[e]||(0,s.Yb)({current:(0,s.Yb)({},0n)},0n),["sliceBVaultsStore.bvaults.".concat(e)])}function useBVaultEpoches(e){return(0,i.o)(t=>{let a=t.sliceBVaultsStore.bvaults[e];if(!a||a.epochCount<=0n)return[];let n=(0,u.w)(1,parseInt((a.epochCount+1n).toString())).reverse(),o=t.sliceBVaultsStore.epoches;return n.map(t=>o["".concat(e,"_").concat(t)]).filter(e=>null!=e)},["sliceBVaultsStore.bvaults.".concat(e),"sliceBVaultsStore.epoches"])}function useEpochesData(e){let t=useBVaultEpoches(e),a=(0,i.o)(t=>t.sliceUserBVaults.epoches[e]||[],["sliceUserBVaults.epoches.".concat(e)]);return(0,l.useMemo)(()=>{let e=a.reduce((e,t)=>({...e,[t.epochId.toString()]:t}),{});return t.map(t=>(0,s.Yb)({...t,...e[t.epochId.toString()]||{bribes:[],sBribes:[],aBribes:[]}},0n))},[t,a])}function useCalcClaimable(e){let t=useEpochesData(e),a=useBVault(e);return(0,l.useMemo)(()=>{let e=t.filter(e=>e.claimableAssetBalance>10n&&(e.settled||a.closed));return{ids:e.map(e=>e.epochId),claimable:e.reduce((e,t)=>e+t.claimableAssetBalance,0n)}},[t,a.closed])}function useBVaultBoost(e){let t=(0,i.o)(()=>(function(e){let t=i.w.getState(),a=t.sliceBVaultsStore.bvaults[e],o=(null==a?void 0:a.current.vaultYTokenBalance)||0n,s=(null==a?void 0:a.Y)||0n,l=s>0n?o*n.Pq/s:0n,r=(null==a?void 0:a.current.yTokenAmountForSwapYT)||0n,d=(null==a?void 0:a.lockedAssetTotal)||0n,u=r>0n?d*n.Pq/r:0n;return console.info("calcBootst:",(0,c.d)(l),(0,c.d)(u)),l})(e),["sliceBVaultsStore.bvaults.".concat(e)]);return[(0,c.d)(t,0),t]}function calcBVaultPTApy(e){let t=i.w.getState(),a=t.sliceBVaultsStore.bvaults[e.vault],o=function(e){let t=i.w.getState(),a=t.sliceBVaultsStore.bvaults[e.vault],n=(0,s.ok)(t.sliceBVaultsStore.yTokenSythetic,[e.vault]);return 0n==n&&(n=(0,s.ok)(t.sliceTokenStore.totalSupply,e.pToken)*((null==a?void 0:a.current.duration)||0n)),n}(e),c=0n;return c=e.pTokenV2?a&&a.ptRebaseRate&&a.pTokenTotal?a.ptRebaseRate/n.Pq*n.SH*BigInt(1e10)/a.pTokenTotal/n.Pq:0n:a&&a.current.assetTotalSwapAmount&&o?a.current.assetTotalSwapAmount*n.SH*BigInt(1e10)/o:0n,console.info("apy:",e.vault,c,e.pTokenV2,null==a?void 0:a.ptRebaseRate,null==a?void 0:a.pTokenTotal,o),c}function useBVaultApy(e){let t=(0,i.o)(()=>calcBVaultPTApy(e),["sliceBVaultsStore.bvaults.".concat(e.vault),"sliceBVaultsStore.yTokenSythetic.".concat(e.vault)]);return[(0,s.Jh)(t,10),t]}function useUpBVaultForUserAction(e,t){let{address:a}=(0,r.m)(),n=(0,o.pK)();return()=>{(0,s.XD)(async()=>{if(null==t||t(),!a)return;await Promise.all([i.w.getState().sliceTokenStore.updateTokensBalance(n,[e.asset,e.pToken],a),i.w.getState().sliceTokenStore.updateTokenTotalSupply(n,[e.asset,e.pToken]),i.w.getState().sliceBVaultsStore.updateBvaults(n,[e]),i.w.getState().sliceBVaultsStore.updateYTokenSythetic(n,[e])]);let o=i.w.getState().sliceBVaultsStore.bvaults[e.vault];await i.w.getState().sliceBVaultsStore.updateEpoches(n,e,o.epochCount>1n?[o.epochCount,o.epochCount-1n]:[o.epochCount]);let s=[];for(let t=parseInt(o.epochCount.toString());t>0;t--){let a=i.w.getState().sliceBVaultsStore.epoches["".concat(e.vault,"_").concat(t)];s.push(a)}console.info("onUserAction:epoches",s),await i.w.getState().sliceUserBVaults.updateEpoches(n,e,a,s)},3,1e3)}}function calcLPPrice(e,t){let a=d.P[t];if(!a)return 0n;let n=i.w.getState().sliceBVaultsStore.bvaults[e];if(!n)return 0n;let o=i.w.getState().sliceTokenStore.prices,c=n.lpBase*(0,s.ok)(o,a.base,0n)+n.lpQuote*(0,s.ok)(o,a.quote);return n.lpLiq>0n?c/n.lpLiq:0n}},21663:function(e,t,a){a.d(t,{w:function(){return C},o:function(){return useStore}});var n=a(77317),o=a(93108),s=a(46881),c=a(54381),l=a(81501),r=a(53414),i=a(96555),d=a(13854),u=a(38462),p=a(31238),f=a(14848),b=a(93181),B=a(61469),E=a(74724),g=a(85058),y=a(1285),m=a(62013),v=a(58400),A=a(7347),S=a(27114),h=a(57463);let T=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(a,n)=>(0,p.Q)(e,(e,o)=>e(e=>a({[o]:{...n()[o],...e}}),()=>n()[o],t[o]))}({sliceBVaultsStore:function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},getBvaultLpData=async(e,t)=>{let a=t.asset,[[n,o],c]=await Promise.all([e.readContract({abi:s.hd,address:"0x4Be03f781C497A489E3cB0287833452cA9B9E80B",functionName:"getPoolTokens",args:[l.P[a].poolId]}),e.readContract({abi:s.IB,address:a,functionName:l.P[a].isStable?"getActualSupply":"totalSupply"})]),r=n.findIndex(e=>e==l.P[a].base),i=n.findIndex(e=>e==l.P[a].quote);return{lp:a,vault:t.vault,baseBalance:o[r],quoteBalance:o[i],totalSupply:c}},getKodiakLpData=async(e,t)=>{let a=t.asset,n=(0,E.V)(["function getUnderlyingBalances() external view returns(uint256,uint256)"]),[[o,s],c]=await Promise.all([e.readContract({abi:n,address:a,functionName:"getUnderlyingBalances"}),e.readContract({abi:g.Wo,address:a,functionName:"totalSupply"})]);return{lp:a,vault:t.vault,baseBalance:o,quoteBalance:s,totalSupply:c}},updateBvaults=async(a,n)=>{let o=(0,f.z)();console.info("timeStart:updateBvaults",o);let c=(0,m.B)(a),[u,p,B]=await Promise.all([Promise.all(n.map(e=>c.readContract({abi:e.isOld?s.VH:s.Pe,address:e.bQueryAddres,functionName:"queryBVault",args:[e.vault]}).then(t=>({vault:e.vault,item:t})))),r.On.id==a?Promise.all(n.map(e=>{var t,a;return(null===(t=l.P[e.asset])||void 0===t?void 0:t.poolId)?getBvaultLpData(c,e):(null===(a=l.P[e.asset])||void 0===a?void 0:a.isKodiak)?getKodiakLpData(c,e):Promise.resolve(null)})):Promise.resolve(null),Promise.all(n.map(e=>e.pTokenV2?c.readContract({abi:[(0,y.s)("function rebaseRate() view returns (uint256)")],address:e.pToken,functionName:"rebaseRate"}):0n))]);console.info("timeEND:updateBvaults",(0,f.z)()-o);let E=(0,b.h)(u,e=>null!=e).reduce((e,t,a)=>({...e,[t.vault]:{...t.item,ptRebaseRate:B[a]}}),{});if(await Promise.all(n.filter(e=>{var t;return null===(t=E[e.vault])||void 0===t?void 0:t.closed}).map(e=>c.readContract({abi:g.Wo,functionName:"balanceOf",address:e.asset,args:[e.vault]}).then(t=>{E[e.vault].lockedAssetTotal=t}))),p){for(let e of p)if(e){let t=E[e.vault];t.lpLiq=t.lockedAssetTotal;let a=t.lpLiq*i.Pq/e.totalSupply;t.lpBase=(0,d.UA)(e.baseBalance*a/i.Pq,l.P[e.lp].baseDecimal),t.lpQuote=(0,d.UA)(e.quoteBalance*a/i.Pq,l.P[e.lp].quoteDecimal)}}return e({bvaults:{...t().bvaults,...E}}),E},updateEpoches=async(a,n,o)=>{var c;let l=o||(0,u.w)(1,parseInt((((null===(c=t().bvaults[n.vault])||void 0===c?void 0:c.epochCount)||0n)+1n).toString())).map(e=>BigInt(e));if(0==l.length)return{};let r=(0,m.B)(a),i=await Promise.all(l.map(e=>r.readContract({abi:n.isOld?s.VH:s.Pe,address:n.bQueryAddres,functionName:"queryBVaultEpoch",args:[n.vault,e]}))),d=i.reduce((e,t)=>({...e,["".concat(n.vault,"_").concat(t.epochId.toString())]:t}),{});return e({epoches:{...t().epoches,...d}}),d},updateYTokenSythetic=async(a,n)=>{let o=(null==n?void 0:n.map(e=>e.vault))||(0,B.X)(t().bvaults),s=await (0,c._c)(a,o),l=(0,p.Q)(s,e=>BigInt(e));return e({yTokenSythetic:{...t().yTokenSythetic,...l}}),l};return{bvaults:{},epoches:{},yTokenSythetic:{},...a,updateBvaults,updateEpoches,updateYTokenSythetic}},sliceTokenStore:function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},updateTokenTotalSupply=async(a,n)=>{if(0==n.length)return{};let o=(0,m.B)(a),s=await Promise.all(n.map(e=>(0,A.Mg)(e)?Promise.resolve(0n):o.readContract({abi:g.Wo,address:e,functionName:"totalSupply"}))),c=s.reduce((e,t,a)=>({...e,[n[a]]:t}),{});return e({totalSupply:{...t().totalSupply,...c}}),c},updateTokensBalance=async(a,n,o)=>{if(0==n.length)return{};let s=(0,m.B)(a),c=await Promise.all(n.map(e=>(0,A.Mg)(e)?s.getBalance({address:o}):s.readContract({abi:g.Wo,address:e,functionName:"balanceOf",args:[o]}))),l=c.reduce((e,t,a)=>({...e,[n[a]]:t}),{});return e({balances:{...t().balances,...l}}),l},updateLPTokensStatForTest=async(a,n)=>{let o=(0,m.B)(a),c=await Promise.all(n.map(e=>Promise.all([o.readContract({abi:s.Mi,address:v._C[a],functionName:"queryPrice",args:[l.P[e].base,l.P[e].quote,BigInt(l.P[e].poolType)]}),o.readContract({abi:s.Mi,address:v._C[a],functionName:"queryLiquidity",args:[l.P[e].base,l.P[e].quote,BigInt(l.P[e].poolType)]})]))),r={[v.TE[a]]:i.Pq};n.forEach((e,t)=>{let a=l.P[e].base,n=l.P[e].quote,o=c[t][0],s="0xd6d83af58a19cd14ef3cf6fe848c9a4d21e5727c"==n?10n**6n:1n;r[e]=o/s**2n,r[n]=(o*10n**9n/(0x10000000000000000n*s))**2n*r[a]/i.Pq}),console.info("lpPrics:",r),e({prices:{...t().prices,...r}})},updateTokenPrices=async(a,n)=>{let o=(0,S.v)(n,e=>l.P[e]?"lp":"token"),s=o.lp||[];if(0!==s.length){if(console.info("mlps;",n,s),a===r.BG.id)await updateLPTokensStatForTest(a,s);else if(a===r.On.id){let a=await (0,c.Wn)();e({prices:{...t().prices,...a}})}}return{}},updateDefTokenList=async t=>{let a={[r.On.id]:"https://hub.berachain.com/internal-env/defaultTokenList.json",[r.BG.id]:"https://raw.githubusercontent.com/berachain/default-lists/main/src/tokens/bartio/defaultTokenList.json"},n=a[t];if(!n)return[];let o=await fetch(n).then(e=>e.json()).then(e=>e.tokens.filter(e=>e.chainId===t).map(e=>({symbol:e.symbol,address:e.address,decimals:e.decimals,name:e.name,url:(e.logoURI||"").replace("https://https://","https://")}))).catch(e=>[]);return localStorage.setItem("catchedDefTokenList_"+t,JSON.stringify(o)),e({defTokenList:o}),o},updateNftBalance=async(a,n,o)=>{let s=await (0,c.ZK)(a,n,o),l=(0,p.Q)(s,e=>e.map(e=>BigInt(e)));return e({nftBalance:{...t().nftBalance,...l}}),{}};return{totalSupply:{},updateTokenTotalSupply,balances:{},updateTokensBalance,prices:{"0x549943e04f40284185054145c6E4e9568C1D3241":i.Pq,"0xFCBD14DC51f0A4d49d5E53C2E0950e0bC26d0Dce":i.Pq,"0x688e72142674041f8f6Af4c808a4045cA1D6aC82":i.Pq},updateTokenPrices,defTokenList:(e=>{try{return JSON.parse(localStorage.getItem("catchedDefTokenList_"+e)||"[]")}catch(e){return[]}})(r.On.id),updateDefTokenList,nftBalance:{},updateNftBalance,...a}},sliceUserBVaults:(e,t,a)=>{let updateEpoches=async(a,n,o,c)=>{let l=c.filter(e=>e.epochId>0n);if(0==l.length)return{};let r=(0,m.B)(a),i=await Promise.all(l.map(e=>r.readContract({abi:n.isOld?s.VH:s.Pe,address:n.bQueryAddres,functionName:"queryBVaultEpochUser",args:[n.vault,e.epochId,o]})));return e({epoches:{...t().epoches,[n.vault]:i}}),i};return{epoches:{},...a,updateEpoches,reset:()=>e({epoches:{}})}}},{}),C=(0,o.Ue)(T);function useStore(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],a=C();return(0,n.useMemo)(()=>e(a),t.map(e=>e?(0,h.U)(a,e):a))}},78784:function(e,t,a){var n=a(53414),o=a(96555),s=a(83606);let c={},instance=e=>{let t=n.Af.find(t=>e==t.id),a=o.Sz||!t.testnet?"https://api.".concat(o.Kh.value):"https://beta-api.".concat(o.Kh.value);return c[a]||(c[a]=s.Z.create({baseURL:a,timeout:1e4,headers:{"Content-Type":"application/json"}})),c[a]};async function get(e,t){var a;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=await instance(e).get(t,{...o,params:n});if(console.info("res:",null==s?void 0:s.data),(null==s?void 0:null===(a=s.data)||void 0===a?void 0:a.code)!==200)throw s.data;return s.data.data}async function post(e,t){var a;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=await instance(e).post(t,n,o);if((null==s?void 0:null===(a=s.data)||void 0===a?void 0:a.code)!==200)throw s.data;return s.data.data}t.ZP={get,post}},29293:function(e,t,a){a.d(t,{d:function(){return displayBalance}});var n=a(35164);let displayBalance=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18;if(!e)return"0";let o=Number((0,n.b)(e,a)),s=Number((.1**t).toFixed(t));return o>0&&o<s?"<"+s:o<0&&o>-s?"≈0":o.toLocaleString("en-US",{maximumFractionDigits:t})}}}]);