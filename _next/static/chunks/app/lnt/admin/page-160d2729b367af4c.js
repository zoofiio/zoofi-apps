(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9777],{35875:function(a,e,t){Promise.resolve().then(t.bind(t,41033))},41033:function(a,e,t){"use strict";t.r(e),t.d(e,{default:function(){return AdminPage}});var s=t(52987),c=t(57834),r=t(61387),i=t(38070),n=t(26694),o=t(77087),d=t(11914),u=t(24113),l=t(46881),v=t(55645),m=t(68705),f=t(61650),T=t(53414),p=t(13854),x=t(62013),N=t(64370),h=t(77317),b=t(58409),U=t(50298),j=t(93469),g=t(30796);function UpdateVaultParams(a){let{paramList:e,vault:t,protocoSettingAddress:i,chain:n}=a,d=(0,h.useMemo)(()=>e.map((a,e)=>({...a,show:"".concat(a.show,"(").concat(a.value,")"),key:"param:".concat(e)})),[e]),[{value:v,param:m},f]=(0,b.Z)({value:"",param:d[0]}),{data:T,refetch:w,isFetching:k}=(0,N.a)({queryKey:["vualtParams:",n,t,e],queryFn:async()=>{let a={},s=(0,x.B)(n);return e.forEach(e=>{a["".concat(e.show,"(").concat(e.value,")")]=s.readContract({abi:l.$4,address:i,functionName:"vaultParamValue",args:[t,(0,U.$G)(e.value,{size:32})]}).then(a=>(0,j.b)(a||0n,"number"==typeof e.units?e.units:10))}),(0,p.S0)(a)}}),y="number"==typeof m.units?m.units:10;return(0,s.jsxs)(r.Ak,{tit:"Vault Param Vaule",children:[(0,s.jsx)(u.G,{className:"w-full animitem z-50",itemClassName:"p-3",currentClassName:"p-3",listClassName:"max-h-[350px] overflow-y-auto",options:d,onChange:a=>f({param:a})}),(0,s.jsx)("input",{value:v.toString(),onChange:a=>{let e=(a.target.value||"").replaceAll("-","").replaceAll("+","");f({value:e})},type:"number",className:(0,p.cn)(r.pk),pattern:"[0-9.]{36}",step:1,placeholder:"0"}),(0,s.jsxs)("div",{className:"text-sm flex flex-col items-start min-h-[300px] whitespace-pre-wrap",children:[k&&(0,s.jsx)(o.$,{className:"text-xl"}),JSON.stringify(T,void 0,2)]}),(0,s.jsx)(c.vZ,{tx:"Write",config:{abi:l.$4,address:i,functionName:"updateVaultParamValue",args:[t,(0,U.$G)(m.value,{size:32}),(0,g.v)(v,y)]},onTxSuccess:()=>{f({value:""}),w()},className:" w-full flex items-center justify-center gap-4"})]})}let w=[{show:"",value:"VTC",units:18},{show:"",value:"BuybackDiscountThreshold",units:18},{show:"",value:"BuybackProfitCommissionRate",units:18},{show:"",value:"initialAnchor",units:18},{show:"",value:"scalarRoot",units:18},{show:"",value:"vtSwapFee",units:18},{show:"",value:"R",units:18}];function AdminPage(){let a=f.f,e=a.map(a=>({key:a.vault,show:"LNT-Vault(".concat(a.vault,")"),vc:a})),[t,c]=(0,h.useState)(e[0]),o=e.length>0?t:void 0;return(0,s.jsx)(n.E,{children:(0,s.jsxs)("div",{className:"w-full flex",children:[(0,s.jsx)(i.a,{}),(0,s.jsxs)("div",{className:"flex flex-col gap-4 w-full mx-auto px-5",children:[(0,s.jsx)("div",{className:"animitem text-lg whitespace-pre-wrap p-2 bg-primary/20 rounded-xl",children:JSON.stringify({Decimal18:"000000000000000000"},void 0,2)}),(0,s.jsx)(u.G,{className:"w-full animitem z-50",itemClassName:"p-3",currentClassName:"p-3",options:e,onChange:c}),o&&(0,s.jsxs)(d.Wg,{chains:[o.vc.chain],children:[(0,s.jsx)(r._t,{keys:[o.vc.vault],infos:()=>(0,x.B)(o.vc.chain).readContract({abi:v.KA,code:m.f,functionName:"queryLntVault",args:[o.vc.vault]})}),o.vc.protocalSettings&&(0,s.jsx)(UpdateVaultParams,{chain:o.vc.chain,vault:o.vc.vault,protocoSettingAddress:o.vc.protocalSettings,paramList:w}),(0,s.jsx)(r.UT,{abi:v.qU,functionName:"withdrawProfitT",address:o.vc.vault}),(0,s.jsx)(r.UT,{abi:v.qU,functionName:"close",address:o.vc.vault}),(0,s.jsx)(r.UT,{abi:v.qU,functionName:"updateAutoBuyback",address:o.vc.vault,infos:()=>(0,x.B)(o.vc.chain).readContract({abi:v.qU,address:o.vc.vault,functionName:"autoBuyback"})}),(0,s.jsx)(r.UT,{abi:v.qU,functionName:"updateCheckerNode",address:o.vc.vault,infos:()=>(0,x.B)(o.vc.chain).readContract({abi:v.qU,address:o.vc.vault,functionName:"checkerNode"})}),(0,s.jsx)(r.UT,{abi:v.qU,functionName:"setUser",address:o.vc.vault,argsDef:["","",(2n**63n).toString()]}),(0,s.jsx)(r.UT,{abi:v.qU,functionName:"batchSetUser",address:o.vc.vault}),(0,s.jsx)(r.UT,{abi:v.qU,functionName:"setUserRecordsInfo",address:o.vc.vault}),(0,s.jsx)(r.UT,{abi:v.qU,functionName:"removeLastSetUserRecords",address:o.vc.vault}),(0,s.jsx)(r.UT,{abi:v.qU,functionName:"buybackVT",address:o.vc.vault}),(0,s.jsx)(r.UT,{abi:v.qU,functionName:"updateVTPriceTime",address:o.vc.vault,infos:()=>(0,p.S0)({vtPriceStartTime:(0,x.B)(o.vc.chain).readContract({abi:v.qU,address:o.vc.vault,functionName:"vtPriceStartTime"}),vtPriceEndTime:(0,x.B)(o.vc.chain).readContract({abi:v.qU,address:o.vc.vault,functionName:"vtPriceEndTime"})})}),(0,s.jsx)(r.UT,{abi:v.qU,functionName:"updateVTAOracle",address:o.vc.vault}),(0,s.jsx)(r.UT,{abi:v.qU,functionName:"updateRedeemStrategy",address:o.vc.vault,infos:()=>(0,x.B)(o.vc.chain).readContract({abi:v.qU,address:o.vc.vault,functionName:"redeemStrategy"})}),(0,s.jsx)(r.UT,{abi:v.qU,functionName:"updateVTSwapHook",address:o.vc.vault}),(0,s.jsx)(r.UT,{abi:v.qU,functionName:"updateAethirClaimAndWithdraw",address:o.vc.vault}),(0,s.jsx)(r.UT,{abi:v.eB,functionName:"owner",address:o.vc.protocol}),(0,s.jsx)(r.UT,{abi:v.eB,functionName:"transferOwnership",address:o.vc.protocol}),(0,s.jsx)(r.UT,{abi:v.eB,functionName:"acceptOwnership",address:o.vc.protocol}),(0,s.jsx)(r.UT,{abi:v.eB,functionName:"addOperator",address:o.vc.protocol}),(0,s.jsx)(r.UT,{abi:v.eB,functionName:"removeOperator",address:o.vc.protocol}),(0,s.jsx)(r.UT,{abi:v.eB,functionName:"isUpgrader",address:o.vc.protocol}),(0,s.jsx)(r.UT,{abi:v.eB,functionName:"addUpgrader",address:o.vc.protocol}),(0,s.jsx)(r.UT,{abi:v.eB,functionName:"removeUpgrader",address:o.vc.protocol}),(0,T.Jg)(o.vc.chain)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.UT,{abi:l.Oq,tit:"mockErc721 setTester",functionName:"setTester",address:o.vc.asset}),(0,s.jsx)(r.UT,{abi:l.Oq,tit:"mintMockErc721 (".concat(o.vc.asset,")"),functionName:"safeMint",address:o.vc.asset})]}),o.vc.AethirNFT&&(0,s.jsx)(r.us,{tit:"MockAethirNFT",abi:v.xV,address:o.vc.AethirNFT}),o.vc.AethirVToracle&&(0,s.jsx)(r.us,{tit:"AethirVToracle",abi:v.le,address:o.vc.AethirVToracle}),o.vc.ZeroGVToracle&&(0,s.jsx)(r.us,{tit:"ZeroGVToracle",abi:v.io,address:o.vc.ZeroGVToracle}),o.vc.RedeemStrategy&&(0,s.jsx)(r.us,{tit:"RedeemStrategy",abi:v.D$,address:o.vc.RedeemStrategy,itemInfos:{updateRedeemStrategy:{ONLY_WITHIN_REDEEM_TIME_WINDOW:0,ALLOWED:1,FORBIDDEN:2},redeemTimeWindows:async()=>{let a=(0,x.B)(o.vc.chain),e=await a.readContract({abi:v.D$,address:o.vc.RedeemStrategy,functionName:"redeemTimeWindowsCount"}),t=await a.readContract({abi:v.D$,address:o.vc.RedeemStrategy,functionName:"redeemTimeWindows",args:[0n,e]});return t[0].map((a,e)=>"".concat((0,p.G$)(1000n*a,p.mv.ALL),"       --   ").concat(t[1][e]))}}}),o.vc.MockaVTOracle&&(0,s.jsx)(r.UT,{abi:v.k2,tit:"set aVT mockaVToracle",functionName:"setaVT",address:o.vc.MockaVTOracle}),o.vc.MockNodeDelegator&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.UT,{abi:v.zK,functionName:"addOperator",address:o.vc.MockNodeDelegator}),(0,s.jsx)(r.UT,{abi:v.zK,functionName:"removeOperator",address:o.vc.MockNodeDelegator})]}),o.vc.MockT&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.UT,{abi:l.vJ,tit:"mockT setTester",functionName:"setTester",address:o.vc.MockT}),(0,s.jsx)(r.UT,{abi:l.vJ,tit:"mintT (".concat(o.vc.MockT,")"),functionName:"mint",address:o.vc.MockT})]}),o.vc.MockRewardDistribuitor&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.UT,{abi:v.j0,tit:"addReward (".concat(o.vc.MockRewardDistribuitor,")"),functionName:"addReward",address:o.vc.MockRewardDistribuitor}),(0,s.jsx)(r.UT,{abi:v.j0,tit:"addT (".concat(o.vc.MockRewardDistribuitor,")"),functionName:"addT",address:o.vc.MockRewardDistribuitor})]}),(0,s.jsx)(r.Tt,{})]})]})]})})}}},function(a){a.O(0,[2257,9891,4345,6358,8109,5097,1137,6647,6324,5920,6398,3262,2153,2516,7694,7834,8933,1387,4195,6338,1744],function(){return a(a.s=35875)}),_N_E=a.O()}]);