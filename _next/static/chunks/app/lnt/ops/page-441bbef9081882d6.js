(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8767],{68495:function(e){"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function EventEmitter(){EventEmitter.init.call(this)}e.exports=EventEmitter,e.exports.once=function(e,t){return new Promise(function(n,r){function errorListener(n){e.removeListener(t,resolver),r(n)}function resolver(){"function"==typeof e.removeListener&&e.removeListener("error",errorListener),n([].slice.call(arguments))}eventTargetAgnosticAddListener(e,t,resolver,{once:!0}),"error"!==t&&"function"==typeof e.on&&eventTargetAgnosticAddListener(e,"error",errorListener,{once:!0})})},EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var o=10;function checkListener(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function _getMaxListeners(e){return void 0===e._maxListeners?EventEmitter.defaultMaxListeners:e._maxListeners}function _addListener(e,t,n,r){if(checkListener(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=_getMaxListeners(e))>0&&s.length>i&&!s.warned){s.warned=!0;var i,o,s,a=Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,console&&console.warn&&console.warn(a)}return e}function onceWrapper(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=onceWrapper.bind(r);return i.listener=n,r.wrapFn=i,i}function _listeners(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):arrayClone(i,i.length)}function listenerCount(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function arrayClone(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}function eventTargetAgnosticAddListener(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else if("function"==typeof e.addEventListener)e.addEventListener(t,function wrapListener(i){r.once&&e.removeEventListener(t,wrapListener),n(i)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),EventEmitter.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var s,a=Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)r(u,this,t);else for(var c=u.length,l=arrayClone(u,c),n=0;n<c;++n)r(l[n],this,t);return!0},EventEmitter.prototype.addListener=function(e,t){return _addListener(this,e,t,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(e,t){return _addListener(this,e,t,!0)},EventEmitter.prototype.once=function(e,t){return checkListener(t),this.on(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.prependOnceListener=function(e,t){return checkListener(t),this.prependListener(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.removeListener=function(e,t){var n,r,i,o,s;if(checkListener(t),void 0===(r=this._events)||void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0==arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},EventEmitter.prototype.listeners=function(e){return _listeners(this,e,!0)},EventEmitter.prototype.rawListeners=function(e){return _listeners(this,e,!1)},EventEmitter.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount.call(e,t)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},5049:function(e,t,n){Promise.resolve().then(n.bind(n,70589))},70589:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Page}});var r=n(52987),i=n(26694),o=n(61650),s=n(53080),a=n(13854),u=n(29293);function LntVaultCount(e){var t,n;let{vc:i}=e,o=(0,s.jY)(i),c=null!==(n=null===(t=o.result)||void 0===t?void 0:t.activeDepositCount)&&void 0!==n?n:0n,l=c!=c;return(0,r.jsxs)("div",{className:"animitem card flex flex-col items-center gap-5",children:[(0,r.jsx)("div",{className:"font-semibold text-xl",children:i.tit}),(0,r.jsxs)("div",{className:"flex items-baseline gap-5",children:["Deposited:",(0,r.jsx)("div",{className:"font-bold text-5xl text-primary",children:(0,u.d)(c,0,0)})]}),(0,r.jsxs)("div",{className:"flex items-baseline gap-5",children:["Delegated:",(0,r.jsx)("div",{className:(0,a.cn)("font-bold text-5xl text-primary",{"text-red-500":l}),children:(0,u.d)(c,0,0)})]})]})}function Page(){return(0,r.jsx)(i.E,{children:(0,r.jsx)("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(300px,1fr))] gap-5 p-5",children:(0,r.jsx)(r.Fragment,{children:o.f.map((e,t)=>(0,r.jsx)(LntVaultCount,{vc:e},"lvc_".concat(t)))})})})}},53080:function(e,t,n){"use strict";n.d(t,{SL:function(){return useLntWithdrawPrice},WB:function(){return useLntHookPoolkey},hD:function(){return useLntVaultOperators},jY:function(){return useLntVault},lQ:function(){return useLntVaultTimes},ze:function(){return useLntVaultYTRewards}});var r=n(55645),i=n(68705),o=n(27092),s=n(13854),a=n(62013),u=n(80329),c=n(14848),l=n(37974),f=n(82790),d=n(42302);function useLntVault(e){return(0,o.B8)({key:"fetLntVault:".concat(e.vault),fetfn:async()=>{let t=(0,a.B)(e.chain),{lntdata:n,...o}=await (0,s.S0)({lntdata:t.readContract({abi:r.KA,code:i.f,functionName:"queryLntVault",args:[e.vault]}),expiryTime:t.readContract({abi:r.qU,address:e.vault,functionName:"vtPriceEndTime"}).catch(()=>1784968222n),startTime:t.readContract({abi:r.qU,address:e.vault,functionName:"vtPriceStartTime"}).catch(()=>1750840222n)});return{...n,...o}}})}function useLntWithdrawPrice(e){return(0,o.B8)({key:"LntWithdrawPrice:".concat(e.vault),initResult:0n,fetfn:async()=>(0,a.B)(e.chain).readContract({abi:r.KA,code:i.f,functionName:"calcRedeem",args:[e.vault,1n]})})}function useLntHookPoolkey(e){var t,n;let i=useLntVault(e);return(0,o.B8)({key:(n=null===(t=i.result)||void 0===t?void 0:t.vtSwapPoolHook)&&n!==f.DR?"LntHookPoolkey:".concat(e.vault,":").concat(n):"",fetfn:async()=>(0,a.B)(e.chain).readContract({abi:r.$6,address:i.result.vtSwapPoolHook,functionName:"poolKey"})})}async function getRewardsBy(e,t,n){return n.readContract({abi:r.KA,code:i.f,functionName:"earned",args:[e,t]}).then(e=>e.map(e=>[e.token,e.value]))}function useLntVaultYTRewards(e){var t,n;let r=useLntVault(e),{address:i}=(0,d.m)(),s=(0,o.B8)({key:(n=null===(t=r.result)||void 0===t?void 0:t.YT)&&n!==f.DR&&i?"fetLntVaultYTRewards:".concat(n,":").concat(i):"",fetfn:async()=>{let t=(0,a.B)(e.chain);return getRewardsBy(r.result.YT,i,t)}});return"fetching"===r.status&&(s.status="fetching"),s}function useLntVaultOperators(e){var t;let n=useLntVault(e),i=(0,o.B8)({key:(t=e.MockNodeDelegator)?"fetLntVaultOperators:".concat(t):"",initResult:[],fetfn:async()=>{let t=(0,a.B)(e.chain),n=await t.readContract({abi:r.zK,address:e.MockNodeDelegator,functionName:"operators"});return Promise.all(n.map(n=>t.readContract({abi:r.zK,address:e.MockNodeDelegator,functionName:"getOperatorInfo",args:[n]}).then(e=>{let[t,r]=e;return{address:n,capacity:t,delegations:r}})))}});return"fetching"===n.status&&(i.status="fetching"),i}function useLntVaultTimes(e){var t,n,r,i;let o=useLntVault(e),a=(0,u.N)((0,c.z)()/1e3),f=(0,l.H)((null!==(r=null===(t=o.result)||void 0===t?void 0:t.startTime)&&void 0!==r?r:0n).toString()),d=Math.min(a,f),v=(0,l.H)((null!==(i=null===(n=o.result)||void 0===n?void 0:n.expiryTime)&&void 0!==i?i:0n).toString()),p=v>d?Math.min(Math.max((a-d)*100/(v-d),0),100):100,h="".concat((0,u.N)(p),"%"),m=(0,s.Y)((v-d)*1e3);return{progressPercent:h,remain:m,remainStr:"~ ".concat(m," remaining")}}},27092:function(e,t,n){"use strict";n.d(t,{B8:function(){return useFet},VZ:function(){return isError},d6:function(){return isSuccess},hg:function(){return isLoading},iM:function(){return reFet}});var r=n(96555),i=n(13854),o=n(68495),s=n.n(o),a=n(77317);let u={},c={};function initFS(e){return{key:e.key,status:"idle",result:e.initResult,lastUpDate:0}}let l=new(s());async function runFetImpl(e){var t,n;let r=u[e.key].runId,o=Object.hasOwn(c,e.key),s=null!==(t=e.retry)&&void 0!==t?t:3;for(;s>0;){s--;try{if(r!==u[e.key].runId)break;let t=await (o?"function"==typeof c[e.key]?c[e.key]():c[e.key]:e.fetfn());if(r!==u[e.key].runId)break;return u[e.key].fs.result=t,u[e.key].fs.lastUpDate=now(),u[e.key].fs.status="success",l.emit(e.key,u[e.key].fs),t}catch(t){if(0==s){if(r!==u[e.key].runId)break;u[e.key].fs.status="error",u[e.key].fs.error=t,l.emit(e.key,u[e.key].fs)}if(console.error("RunFetError: fetKey:".concat(e.key," retryCount:").concat(s),t),await (0,i._v)(null!==(n=e.retryInterval)&&void 0!==n?n:500),0==s)throw t}}}function runFet(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(u[e.key]){var n;(n=e.key)&&(u[n].runId>999999?u[n].runId=0:u[n].runId++),runFetImpl(e)}else u[e.key]={fet:e,runId:0,fs:initFS(e)},runFetImpl(e);return u[e.key].fs.status="fetching",u[e.key].fs.error=void 0,t&&l.emit(e.key,u[e.key].fs),u[e.key].fs}function now(){return new Date().getTime()}let updateReducer=e=>(e+1)%1e6;function useFet(e){var t;let n=function(){let[,e]=(0,a.useReducer)(updateReducer,0);return e}(),i=(null===(t=u[e.key])||void 0===t?void 0:t.fs)||initFS(e),o=!!e.key&&(!i||"idle"==i.status);return o&&(i=runFet(e)),(0,a.useEffect)(()=>{var t;r.hc&&(window.fets=u);let i=(t=e=>{n()},e.key?(l.on(e.key,t),()=>{l.off(e.key,t)}):()=>{});return function(e){var t,n;let r=null===(t=u[e.key])||void 0===t?void 0:t.fs,i=null!==(n=e.cacheTime)&&void 0!==n?n:1e3;return!!(e.key&&r&&"fetching"!==r.status&&now()-r.lastUpDate>i)}(e)&&(runFet(e),n()),i},[e.key]),i}function isLoading(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0!=t.length&&!!t.find(e=>"fetching"===e.status&&0==e.lastUpDate)}function isSuccess(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!(0==t.length||t.find(e=>0==e.lastUpDate))}function isError(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0!=t.length&&!!t.find(e=>"error"===e.status)}function reFet(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];for(let t of n){let n="string"==typeof t?null===(e=u[t])||void 0===e?void 0:e.fet:t;n&&runFet(n,!0)}}},62013:function(e,t,n){"use strict";n.d(t,{B:function(){return getPC}});var r=n(53414),i=n(93108);let o=(0,i.Ue)((e,t)=>({readingCount:0,upReadingCount:n=>e({readingCount:t().readingCount+n})}));var s=n(93342),a=n(61469),u=n(50995),c=n(28987);let l={};function getPC(e,t){l[e]||(l[e]={pcs:function(e){let t=r.Af.find(t=>t.id==e);if(!t)throw"No Chain for chianId:".concat(e);let n=function(e){let t=(0,a.X)(e.rpcUrls);return(0,s.x)(t.map(t=>e.rpcUrls[t].http))}(t);if(0==n.length)throw"No Chain rpc for chianId:".concat(e);let i=n.map(t=>{let n=(0,u.v)({batch:{multicall:r.y1},chain:r.Af.find(t=>t.id==e),transport:(0,c.d)(t,{batch:r.Xp})}),i=n.readContract;return n.readContract=async function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];try{return o.getState().upReadingCount(1),await i(...t)}catch(e){throw console.error("readError",e,"\nArgs",[...t]),e}finally{o.getState().upReadingCount(-1)}},n});return i}(e),current:0});let n=l[e];if("number"==typeof t)return n.pcs[t%n.pcs.length];{let e=n.pcs[n.current];return n.current++,n.current>=n.pcs.length&&(n.current=0),e}}},29293:function(e,t,n){"use strict";n.d(t,{d:function(){return displayBalance}});var r=n(35164);let displayBalance=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18;if(!e)return"0";let i=Number((0,r.b)(e,n)),o=Number((.1**t).toFixed(t));return i>0&&i<o?"<"+o:i<0&&i>-o?"≈0":i.toLocaleString("en-US",{maximumFractionDigits:t})}}},function(e){e.O(0,[4881,7622,6445,4903,7459,9054,7479,4195,6338,1744],function(){return e(e.s=5049)}),_N_E=e.O()}]);