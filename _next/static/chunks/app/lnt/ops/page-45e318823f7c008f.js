(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8767],{5049:function(t,e,n){Promise.resolve().then(n.bind(n,70589))},70589:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return Page}});var r=n(52987),a=n(26694),u=n(61650),i=n(53080),o=n(13854),c=n(29293);function LntVaultCount(t){var e,n;let{vc:a}=t,u=(0,i.jY)(a),s=null!==(n=null===(e=u.result)||void 0===e?void 0:e.activeDepositCount)&&void 0!==n?n:0n,l=s!=s;return(0,r.jsxs)("div",{className:"animitem card flex flex-col items-center gap-5",children:[(0,r.jsx)("div",{className:"font-semibold text-xl",children:a.tit}),(0,r.jsxs)("div",{className:"flex items-baseline gap-5",children:["Deposited:",(0,r.jsx)("div",{className:"font-bold text-5xl text-primary",children:(0,c.d)(s,0,0)})]}),(0,r.jsxs)("div",{className:"flex items-baseline gap-5",children:["Delegated:",(0,r.jsx)("div",{className:(0,o.cn)("font-bold text-5xl text-primary",{"text-red-500":l}),children:(0,c.d)(s,0,0)})]})]})}function Page(){return(0,r.jsx)(a.E,{children:(0,r.jsx)("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(300px,1fr))] gap-5 p-5",children:(0,r.jsx)(r.Fragment,{children:u.f.map((t,e)=>(0,r.jsx)(LntVaultCount,{vc:t},"lvc_".concat(e)))})})})}},53080:function(t,e,n){"use strict";n.d(e,{SL:function(){return useLntWithdrawPrice},WB:function(){return useLntHookPoolkey},hD:function(){return useLntVaultOperators},jY:function(){return useLntVault},lQ:function(){return useLntVaultTimes},ze:function(){return useLntVaultYTRewards}});var r=n(55645),a=n(68705),u=n(27092),i=n(13854),o=n(62013),c=n(61775),s=n.n(c),l=n(19698),f=n.n(l),d=n(10353),y=n.n(d),v=n(82790),h=n(42302);function useLntVault(t){return(0,u.B8)({key:"fetLntVault:".concat(t.vault),fetfn:async()=>{let e=(0,o.B)(t.chain),{lntdata:n,...u}=await (0,i.S0)({lntdata:e.readContract({abi:r.KA,code:a.f,functionName:"queryLntVault",args:[t.vault]}),expiryTime:e.readContract({abi:r.qU,address:t.vault,functionName:"vtPriceEndTime"}).catch(()=>1784968222n),startTime:e.readContract({abi:r.qU,address:t.vault,functionName:"vtPriceStartTime"}).catch(()=>1750840222n)});return{...n,...u}}})}function useLntWithdrawPrice(t){return(0,u.B8)({key:"LntWithdrawPrice:".concat(t.vault),initResult:0n,fetfn:async()=>(0,o.B)(t.chain).readContract({abi:r.KA,code:a.f,functionName:"calcRedeem",args:[t.vault,1n]})})}function useLntHookPoolkey(t){var e,n;let a=useLntVault(t);return(0,u.B8)({key:(n=null===(e=a.result)||void 0===e?void 0:e.vtSwapPoolHook)&&n!==v.DR?"LntHookPoolkey:".concat(t.vault,":").concat(n):"",fetfn:async()=>(0,o.B)(t.chain).readContract({abi:r.$6,address:a.result.vtSwapPoolHook,functionName:"poolKey"})})}async function getRewardsBy(t,e,n){return n.readContract({abi:r.KA,code:a.f,functionName:"earned",args:[t,e]}).then(t=>t.map(t=>[t.token,t.value]))}function useLntVaultYTRewards(t){var e,n;let r=useLntVault(t),{address:a}=(0,h.m)(),i=(0,u.B8)({key:(n=null===(e=r.result)||void 0===e?void 0:e.YT)&&n!==v.DR&&a?"fetLntVaultYTRewards:".concat(n,":").concat(a):"",fetfn:async()=>{let e=(0,o.B)(t.chain);return getRewardsBy(r.result.YT,a,e)}});return"fetching"===r.status&&(i.status="fetching"),i}function useLntVaultOperators(t){var e;let n=useLntVault(t),a=(0,u.B8)({key:(e=t.MockNodeDelegator)?"fetLntVaultOperators:".concat(e):"",initResult:[],fetfn:async()=>{let e=(0,o.B)(t.chain),n=await e.readContract({abi:r.zK,address:t.MockNodeDelegator,functionName:"operators"});return Promise.all(n.map(n=>e.readContract({abi:r.zK,address:t.MockNodeDelegator,functionName:"getOperatorInfo",args:[n]}).then(t=>{let[e,r]=t;return{address:n,capacity:e,delegations:r}})))}});return"fetching"===n.status&&(a.status="fetching"),a}function useLntVaultTimes(t){var e,n,r,a;let u=useLntVault(t),o=f()(s()()/1e3),c=y()((null!==(r=null===(e=u.result)||void 0===e?void 0:e.startTime)&&void 0!==r?r:0n).toString()),l=Math.min(o,c),d=y()((null!==(a=null===(n=u.result)||void 0===n?void 0:n.expiryTime)&&void 0!==a?a:0n).toString()),v=d>l?Math.min(Math.max((o-l)*100/(d-l),0),100):100,h="".concat(f()(v),"%"),m=(0,i.Y)((d-l)*1e3);return{progressPercent:h,remain:m,remainStr:"~ ".concat(m," remaining")}}},27092:function(t,e,n){"use strict";n.d(e,{B8:function(){return useFet},VZ:function(){return isError},d6:function(){return isSuccess},hg:function(){return isLoading},iM:function(){return reFet}});var r=n(96555),a=n(13854),u=n(68495),i=n.n(u),o=n(77317);let c={},s={};function initFS(t){return{key:t.key,status:"idle",result:t.initResult,lastUpDate:0}}let l=new(i());async function runFetImpl(t){var e,n;let r=c[t.key].runId,u=Object.hasOwn(s,t.key),i=null!==(e=t.retry)&&void 0!==e?e:3;for(;i>0;){i--;try{if(r!==c[t.key].runId)break;let e=await (u?"function"==typeof s[t.key]?s[t.key]():s[t.key]:t.fetfn());if(r!==c[t.key].runId)break;return c[t.key].fs.result=e,c[t.key].fs.lastUpDate=now(),c[t.key].fs.status="success",l.emit(t.key,c[t.key].fs),e}catch(e){if(0==i){if(r!==c[t.key].runId)break;c[t.key].fs.status="error",c[t.key].fs.error=e,l.emit(t.key,c[t.key].fs)}if(console.error("RunFetError: fetKey:".concat(t.key," retryCount:").concat(i),e),await (0,a._v)(null!==(n=t.retryInterval)&&void 0!==n?n:500),0==i)throw e}}}function runFet(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(c[t.key]){var n;(n=t.key)&&(c[n].runId>999999?c[n].runId=0:c[n].runId++),runFetImpl(t)}else c[t.key]={fet:t,runId:0,fs:initFS(t)},runFetImpl(t);return c[t.key].fs.status="fetching",c[t.key].fs.error=void 0,e&&l.emit(t.key,c[t.key].fs),c[t.key].fs}function now(){return new Date().getTime()}let updateReducer=t=>(t+1)%1e6;function useFet(t){var e;let n=function(){let[,t]=(0,o.useReducer)(updateReducer,0);return t}(),a=(null===(e=c[t.key])||void 0===e?void 0:e.fs)||initFS(t),u=!!t.key&&(!a||"idle"==a.status);return u&&(a=runFet(t)),(0,o.useEffect)(()=>{var e;r.hc&&(window.fets=c);let a=(e=t=>{n()},t.key?(l.on(t.key,e),()=>{l.off(t.key,e)}):()=>{});return function(t){var e,n;let r=null===(e=c[t.key])||void 0===e?void 0:e.fs,a=null!==(n=t.cacheTime)&&void 0!==n?n:1e3;return!!(t.key&&r&&"fetching"!==r.status&&now()-r.lastUpDate>a)}(t)&&(runFet(t),n()),a},[t.key]),a}function isLoading(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0!=e.length&&!!e.find(t=>"fetching"===t.status&&0==t.lastUpDate)}function isSuccess(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return!(0==e.length||e.find(t=>0==t.lastUpDate))}function isError(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0!=e.length&&!!e.find(t=>"error"===t.status)}function reFet(){for(var t,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];for(let e of n){let n="string"==typeof e?null===(t=c[e])||void 0===t?void 0:t.fet:e;n&&runFet(n,!0)}}},62013:function(t,e,n){"use strict";n.d(e,{B:function(){return getPC}});var r=n(53414),a=n(93108);let u=(0,a.Ue)((t,e)=>({readingCount:0,upReadingCount:n=>t({readingCount:e().readingCount+n})}));var i=n(83978),o=n.n(i),c=n(50995),s=n(28987);let l={};function getPC(t,e){l[t]||(l[t]={pcs:function(t){let e=r.Af.find(e=>e.id==t);if(!e)throw"No Chain for chianId:".concat(t);let n=function(t){let e=o().keys(t.rpcUrls);return o().flatten(e.map(e=>t.rpcUrls[e].http))}(e);if(0==n.length)throw"No Chain rpc for chianId:".concat(t);let a=n.map(e=>{let n=(0,c.v)({batch:{multicall:r.y1},chain:r.Af.find(e=>e.id==t),transport:(0,s.d)(e,{batch:r.Xp})}),a=n.readContract;return n.readContract=async function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];try{return u.getState().upReadingCount(1),await a(...e)}catch(t){throw console.error("readError",t,"\nArgs",[...e]),t}finally{u.getState().upReadingCount(-1)}},n});return a}(t),current:0});let n=l[t];if("number"==typeof e)return n.pcs[e%n.pcs.length];{let t=n.pcs[n.current];return n.current++,n.current>=n.pcs.length&&(n.current=0),t}}},29293:function(t,e,n){"use strict";n.d(e,{d:function(){return displayBalance}});var r=n(35164);let displayBalance=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18;if(!t)return"0";let a=Number((0,r.b)(t,n)),u=Number((.1**e).toFixed(e));return a>0&&a<u?"<"+u:a<0&&a>-u?"â‰ˆ0":a.toLocaleString("en-US",{maximumFractionDigits:e})}}},function(t){t.O(0,[4881,7495,7622,6445,6532,6738,9054,7479,4195,6338,1744],function(){return t(t.s=5049)}),_N_E=t.O()}]);