(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9158],{7075:function(e,t,a){Promise.resolve().then(a.bind(a,69697))},69697:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return AdminPage}});var n=a(31113),r=a(12687),s=a(88702),o=a(44939),c=a(66499),l=a(19757),i=a(59175),d=a(87031),u=a(95889),p=a(22139),f=a(26361),b=a(22818),m=a(64370),A=a(64103),x=a(58409),v=a(15506),y=a(17686),E=a(45631),g=a(85665),h=a(62531),B=a(35057),C=a(33737),S=a(11292),N=a(61766),T=a(58714),k=a(96670);let D=[{label:"资产利息率",value:"Y"},{label:"目标AAR",value:"AART"},{label:"安全AAR",value:"AARS"},{label:"上顶AAR",value:"AARU"},{label:"熔断AAR",value:"AARC"},{label:"赎回手续费",value:"C"},{label:"进入国库比例",value:"TreasuryFeeRate"},{label:"Discount冷静时间",value:"CircuitBreakPeriod",units:0},{label:"低买池最小成交量USB",value:"PtyPoolMinUsbAmount"},{label:"高卖池最小成交量",value:"PtyPoolMinAssetAmount"},{label:"RateR",value:"RateR"}],F=[{label:"产品周期",value:"D",units:0},{label:"初始定价",value:"APRi"},{label:"赎回手续费",value:"f1"},{label:"利息佣金",value:"f2"}],j=[{label:"产品周期",value:"D",units:0},{label:"Nft质押Claim等待时间",value:"NftDepositLeadingTime",units:0},{label:"Nft赎回等待时间",value:"NftRedeemWaitingPeriod",units:0},{label:"初始定价",value:"APRi"},{label:"赎回手续费",value:"f1"},{label:"利息佣金",value:"f2"}];function UpdateVaultParams(e){let{paramList:t,vault:a,protocoSettingAddress:o}=e,l=(0,A.useMemo)(()=>t.map(e=>({...e,label:"".concat(e.label,"(").concat(e.value,")")})),[t]),[{value:i,param:d},u]=(0,x.Z)({value:"",param:l[0]}),{data:p,refetch:b}=(0,v.uX)({contracts:t.map(e=>({abi:c.$4,address:o,functionName:"vaultParamValue",args:[a,(0,h.$G)(e.value,{size:32})]}))}),m=(0,A.useMemo)(()=>(p||[]).map((e,a)=>{let n=t[a];return"".concat(n.label,"(").concat(n.value,"): ").concat((0,B.b)(e.result||0n,"number"==typeof n.units?n.units:10))}),[p]),y="number"==typeof d.units?d.units:10,[S,N]=(0,g.Z)();return(0,n.jsxs)(s.Ak,{tit:"Vault Param Vaule",children:[(0,n.jsx)(E.ZP,{classNames:s.At,maxMenuHeight:N.height+110,value:d,options:l,onChange:e=>u({param:e})}),(0,n.jsx)("input",{value:i.toString(),onChange:e=>{let t=(e.target.value||"").replaceAll("-","").replaceAll("+","");u({value:t})},type:"number",className:(0,f.cn)(s.pk),pattern:"[0-9.]{36}",step:1,placeholder:"0"}),(0,n.jsx)(r.v,{tx:"Write",config:{abi:c.$4,address:o,functionName:"updateVaultParamValue",args:[a,(0,h.$G)(d.value,{size:32}),(0,C.v)(i,y)]},onTxSuccess:()=>{u({value:""}),b()},className:" w-full flex items-center justify-center gap-4"}),(0,n.jsx)("div",{className:"text-sm flex flex-col items-start",ref:S,children:m.map((e,t)=>(0,n.jsx)("div",{children:e},"info_".concat(t)))})]})}function UpdateVaultPrice(e){let{vc:t}=e,[{feed:a},o]=(0,x.Z)({feed:""});return(0,n.jsxs)(s.Ak,{tit:"Vault Price Feed",children:[(0,n.jsx)("input",{type:"text",placeholder:"_assetTokenPriceFeed_",value:a,onChange:e=>o({feed:e.target.value}),className:(0,f.cn)(s.pk)}),(0,n.jsx)(r.v,{tx:"Write",config:{abi:c.WW,address:t.vault,functionName:"updatePriceFeed",args:[a]},onTxSuccess:()=>{o({feed:""})},className:" w-full flex items-center justify-center gap-4"})]})}function ClaimYieldsForBuyPool(e){let{vc:t}=e,{data:a}=(0,v.D2)({abi:c.aT,address:t.ptyPoolBelowAddress,functionName:"claimableYields"}),o=t.ptyPoolBelowAddress&&a||0n,[{address:l},i]=(0,x.Z)({address:""});return(0,n.jsxs)(s.Ak,{tit:"ClaimYields for Buy Low Pool",children:[(0,n.jsxs)("span",{children:["Yields: ",(0,S.d)(o)]}),(0,n.jsx)("input",{type:"text",placeholder:"recipient",value:l,onChange:e=>i({address:e.target.value}),className:(0,f.cn)(s.pk)}),(0,n.jsx)(r.v,{tx:"Write",disabled:!t.ptyPoolBelowAddress||o<=0n,config:{abi:c.aT,address:t.ptyPoolBelowAddress,functionName:"claimYields",args:[l]},className:"!mt-0  max-w-[100px] flex items-center justify-center gap-4"})]})}function SetTester(e){let{vc:t}=e,{data:a}=(0,v.D2)({abi:c.Og,address:t.assetTokenFeed,functionName:"getTestersCount"}),{data:o}=(0,v.D2)({abi:c.Og,address:t.assetTokenFeed,functionName:"owner"}),l=a||0n,{data:i}=(0,v.uX)({contracts:Array.from(Array(parseInt(l.toString()))).map((e,a)=>({abi:c.Og,address:t.assetTokenFeed,functionName:"getTester",args:[BigInt(a)]}))}),d=(null==i?void 0:i.map(e=>e.result))||[],[{address:u},p]=(0,x.Z)({address:""});return(0,n.jsxs)(s.Ak,{tit:"Set tester",children:[(0,n.jsxs)("div",{children:["Owner: ",o]}),(0,n.jsxs)("div",{children:["Tester Count: ",l.toString()]}),(0,n.jsx)("div",{children:"Testers"}),d.map(e=>(0,n.jsx)("div",{children:e},e)),(0,n.jsx)("input",{type:"text",placeholder:"recipient",value:u,onChange:e=>p({address:e.target.value}),className:(0,f.cn)(s.pk)}),(0,n.jsx)(r.v,{tx:"Write",disabled:!u,config:{abi:c.Og,address:t.assetTokenFeed,functionName:"setTester",args:[u,!0]},className:"!mt-0  max-w-[100px] flex items-center justify-center gap-4"})]})}function Erc20Approve(){let[e,t]=(0,x.Z)({token:"",spender:"",amount:0n});return(0,n.jsxs)(s.Ak,{tit:"Erc20Approve",children:[(0,n.jsx)("input",{type:"text",placeholder:"token",value:e.token,onChange:e=>t({token:e.target.value}),className:(0,f.cn)(s.pk)}),(0,n.jsx)("input",{type:"text",placeholder:"spender",value:e.spender,onChange:e=>t({spender:e.target.value}),className:(0,f.cn)(s.pk)}),(0,n.jsx)("input",{type:"text",placeholder:"amount",value:e.amount.toString(),onChange:e=>{try{t({amount:(0,f.su)(e.target.value,0)})}catch(e){}},className:(0,f.cn)(s.pk)}),(0,n.jsx)(r.v,{tx:"Write",disabled:!(0,N.U)(e.token)||!(0,N.U)(e.spender)||e.amount<=0n,config:{abi:T.Wo,address:e.token,functionName:"approve",args:[e.spender,e.amount]},className:"!mt-0 w-full flex items-center justify-center gap-4"})]})}let w=[{label:"赎回手续费",value:"C"}];function InitReinit(e){let{vault:t}=e,{data:a}=(0,v.uX)({contracts:[{abi:c.qU,address:t,functionName:"paramValue",args:[(0,h.$G)("D",{size:32})]},{abi:c.qU,address:t,functionName:"nftVtAmount"},{abi:c.qU,address:t,functionName:"nftVestingEndTime"},{abi:c.qU,address:t,functionName:"nftVestingDuration"},{abi:c.qU,address:t,functionName:"ytSwapPaymentToken"},{abi:c.qU,address:t,functionName:"ytSwapPrice"}]}),{data:r}=(0,v.D2)({abi:c.qU,address:t,functionName:"initialized"}),o=null==a?void 0:a.map(e=>{var t;return(null===(t=e.result)||void 0===t?void 0:t.toString())||""});return(0,n.jsx)(s.UT,{abi:c.qU,tit:"InitOrReinit",txProps:{disabled:"boolean"!=typeof r},functionName:r?"reInitialize":"initialize",address:t,argsDef:o},"lnt-vault-init")}function AdminPage(){let e=(0,i.p)(),{current:t,setState:a,stateOptions:r,bsQuery:{isLoading:v}}=function(){let e=(0,i.p)(),t=l.iK[e]||[],a=l.VQ[e]||[],n=(0,A.useMemo)(()=>(d.Fw[e]||[]).filter(e=>e.onEnv&&e.onEnv.includes(p.Vi)),[e]),r=(0,A.useMemo)(()=>(u.f_[e]||[]).filter(e=>e.onEnv&&e.onEnv.includes(p.Vi)),[e]),s=(0,A.useMemo)(()=>{let e=t.map(e=>({label:e.assetTokenSymbol,value:e.vault,data:e,type:"L-Vault"})),s=a.map(e=>({label:e.assetTokenSymbol,value:e.vault,data:e,type:"P-Vault"})),o=n.map(e=>({label:e.assetSymbol,value:e.vault,data:e,type:"B-Vault"})),c=r.map(e=>({label:e.assetSymbol,value:e.vault,data:e,type:"Lnt-Vault"}));return[...e,...s,...o,...c].map(e=>({...e,label:"".concat(e.label,"     (").concat(e.type,": ").concat((0,f.lS)(e.data.vault),")")}))},[t,a,n,r]),o=(0,m.a)({queryKey:["queryBvualts",e,n],queryFn:async()=>{let t=(0,b.B)(e),a=Promise.all(n.map(e=>t.readContract({abi:c.j5,functionName:"closed",address:e.vault}))),r=Promise.all(n.map(e=>t.readContract({abi:c.j5,functionName:"epochIdCount",address:e.vault}))),[s,o]=await Promise.all([a,r]),l=await Promise.all(n.map((e,a)=>o[a]>0n?t.readContract({abi:c.j5,functionName:"epochInfoById",address:e.vault,args:[o[a]]}):Promise.resolve(void 0))),i={};for(let e=0;e<n.length;e++){let t=n[e];o[e]>0n?i[t.vault]="".concat(s[e]?"Closed":"Active","    Epoch").concat(o[e],"   (").concat((0,f.G$)(1000n*l[e].startTime),")"):i[t.vault]="UnStart"}return i}}),v=(0,A.useMemo)(()=>o.data?s.map(e=>"B-Vault"===e.type?{...e,label:"".concat(e.label," ").concat(o.data[e.data.vault])}:e):[],[s,o.data]),[{current:y},E]=(0,x.Z)({current:s[0]});return{current:y,setState:E,options:s,bsQuery:o,stateOptions:v}}(),{chain:g}=(0,k.m)();return(0,n.jsx)(o.E,{children:(0,n.jsx)("div",{className:"w-full flex",children:v?(0,n.jsx)("div",{className:"flex w-full justify-center items-center h-screen",children:(0,n.jsx)(y.fCD,{className:"text-3xl animate-spin"})}):(0,n.jsxs)("div",{className:"flex flex-col gap-4 w-full max-w-[840px] mx-auto px-5",children:[(0,n.jsx)(E.ZP,{classNames:s.At,defaultValue:r[0],options:r,onChange:e=>e&&a({current:e})}),"L-Vault"==t.type&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(UpdateVaultParams,{vault:t.data.vault,paramList:D,protocoSettingAddress:l.e_[e]}),(0,n.jsx)(UpdateVaultPrice,{vc:t.data}),["pauseMint","unpauseMint","pauseRedeem","unpauseRedeem","pauseUsbToMarginTokens","unpauseUsbToMarginTokens"].map(e=>(0,n.jsx)(s.UT,{functionName:e,abi:c.WW,address:t.data.vault},"l-vault-".concat(e))),(0,n.jsx)(s.UT,{abi:c.EF,functionName:"transferOwnership",address:l.Vq[e]}),(0,n.jsx)(ClaimYieldsForBuyPool,{vc:t.data}),(null==g?void 0:g.testnet)&&(0,n.jsx)(SetTester,{vc:t.data})]}),"P-Vault"==t.type&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(UpdateVaultParams,{vault:t.data.vault,paramList:w,protocoSettingAddress:l.e_[e]}),["configureBlastYieldsAndGas","configureBlastPoints"].map(e=>(0,n.jsx)(s.UT,{abi:c.a4,functionName:e,address:t.data.vault},"p-vault-".concat(e)))]}),"B-Vault"==t.type&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(UpdateVaultParams,{vault:t.data.vault,paramList:F,protocoSettingAddress:t.data.protocolSettingsAddress}),["close","pause","unpause","pauseRedeemPool","unpauseRedeemPool","setBriber"].map(e=>(0,n.jsx)(s.UT,{abi:c.j5,functionName:e,address:t.data.vault},"b-vault-".concat(e))),(0,n.jsx)(s.UT,{tit:"transferOwnership",abi:c.RR,functionName:"transferOwnership",address:t.data.protocolAddress}),(0,n.jsx)(s.UT,{tit:"upsertParamConfig",abi:c.$4,functionName:"upsertParamConfig",address:t.data.protocolSettingsAddress})]}),"Lnt-Vault"==t.type&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(UpdateVaultParams,{vault:t.data.vault,paramList:j,protocoSettingAddress:t.data.protocolSettingsAddress}),(0,n.jsx)(InitReinit,{vault:t.data.vault}),["startEpoch1","updateNftDepositClaimableTime","depositNftVestingToken","withdrawNftVestingToken","addYtRewards"].map(e=>(0,n.jsx)(s.UT,{abi:c.qU,functionName:e,address:t.data.vault},"lnt-vault-".concat(e))),(0,n.jsx)(s.UT,{tit:"transferOwnership",abi:c.RR,functionName:"transferOwnership",address:t.data.protocolAddress}),(0,n.jsx)(s.UT,{tit:"upsertParamConfig",abi:c.$4,functionName:"upsertParamConfig",address:t.data.protocolSettingsAddress}),(null==g?void 0:g.testnet)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.UT,{tit:"mintMockNFT",abi:c.Oq,functionName:"safeMint",address:t.data.asset}),(0,n.jsx)(s.UT,{tit:"mintMockERC20",abi:c.vJ,functionName:"mint",address:t.data.vestingToken})]})]}),(0,n.jsx)(Erc20Approve,{})]})})})}},12687:function(e,t,a){"use strict";a.d(t,{v:function(){return ApproveAndTx},L:function(){return NftApproveAndTx}});var n=a(31113),r=a(19757),s=a(26361),o=a(22818),c=a(83978),l=a.n(c),i=a(64103),d=a(47259),u=a(58714),p=a(96670),f=a(4408),b=a(59175);let m={},useApproves=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10000000000n*10n**18n,{address:n}=(0,p.m)(),c=(0,b.p)(),{data:l}=(0,f.p)(),[A,x]=(0,i.useState)(!1),v=(0,i.useMemo)(()=>Object.keys(e).filter(e=>e!==r.K8),[e]),[y,E]=(0,i.useState)(t&&m[t]||{}),updateAllownce=(e,a)=>{t&&(m[t]={...m[t]||{},[e]:a},E(t=>({...t,[e]:a})))};(0,i.useEffect)(()=>{n&&t&&c&&v.forEach(e=>{(0,o.B)(c).readContract({abi:u.Wo,address:e,functionName:"allowance",args:[n,t]}).then(t=>updateAllownce(e,t||0n)).catch(console.error)})},[v,c,n]);let[g,h]=(0,i.useState)(!1),B=(0,i.useMemo)(()=>v.filter(t=>(0,s.ok)(e,t)>0n&&(0,s.ok)(e,t)>(0,s.ok)(y,t)),[e,v,y]),approve=async()=>{if(0!=B.length&&t)try{h(!0),x(!1);for(let n=0;n<B.length;n++){let r=B[n],s=!1===a?e[r]:a,i=await (null==l?void 0:l.writeContract({abi:u.Wo,address:r,functionName:"approve",args:[t,s]}));i&&await (0,o.B)(c).waitForTransactionReceipt({hash:i}),updateAllownce(r,s)}d.A.success("Approve success"),h(!1),x(!0)}catch(e){d.A.error((0,s.az)(e)),h(!1),x(!1)}};return{approve,loading:g,shouldApprove:B.length>0,isSuccess:A}},A={},useNftApproves=(e,t)=>{let{address:a}=(0,p.m)(),n=(0,b.p)(),{data:r}=(0,f.p)(),[c,m]=(0,i.useState)(!1),x=l().keys(e),[v,y]=(0,i.useState)(t&&A[t]||{}),updateAllownce=(e,a)=>{t&&(A[t]={...A[t]||{},[e]:a},y(t=>({...t,[e]:a})))};(0,i.useEffect)(()=>{a&&t&&n&&x.forEach(e=>{(0,o.B)(n).readContract({abi:u.Hr,address:e,functionName:"isApprovedForAll",args:[a,t]}).then(t=>t!==v[e]&&updateAllownce(e,t)).catch(console.error)})},[x,n,a]);let[E,g]=(0,i.useState)(!1),h=(0,i.useMemo)(()=>x.filter(e=>!v[e]),[e,x,v]),approve=async()=>{if(0!=h.length&&t)try{g(!0),m(!1);for(let e=0;e<h.length;e++){let a=h[e],s=await (null==r?void 0:r.writeContract({abi:u.Hr,address:a,functionName:"setApprovalForAll",args:[t,!0]}));s&&await (0,o.B)(n).waitForTransactionReceipt({hash:s}),updateAllownce(a,!0)}d.A.success("Approve success"),g(!1),m(!0)}catch(e){d.A.error((0,s.az)(e)),g(!1),m(!1)}};return{approve,loading:E,shouldApprove:h.length>0,isSuccess:c}};function useWrapContractWrite(e,t){let{autoToast:a=!0,onSuccess:n}=t||{},[r,c]=(0,i.useState)(!1),[l,u]=(0,i.useState)(!1),{data:p}=(0,f.p)(),m=(0,b.p)(),A=!p||!p.account||r||!e||p.chain.id!==m,write=async()=>{if(!A){c(!0),u(!1);try{let r="function"==typeof e?await e():e,s=(0,o.B)(m),c={account:p.account,...r};if(!(null==t?void 0:t.skipSimulate)){let e=await s.simulateContract(c);c=e.request}let l=await p.writeContract(c),i=await s.waitForTransactionReceipt({hash:l,confirmations:null==t?void 0:t.confirmations});if("success"!==i.status)throw"Transaction reverted";u(!0),n&&n(i),a&&d.A.success("Transaction success")}catch(e){a&&d.A.error((0,s.az)(e))}c(!1)}};return{write,isDisabled:A,isLoading:r,isSuccess:l}}var x=a(88501),v=a(60689);function ApproveAndTx(e){let{className:t,tx:a,busyShowTxet:r=!0,approves:s,spender:o,requestAmount:c,config:l,toast:d=!0,skipSimulate:u=!1,disabled:p,confirmations:f,onTxSuccess:m,onApproveSuccess:A}=e,{write:y,isDisabled:E,isLoading:g}=useWrapContractWrite(l,{onSuccess:e=>m&&m(e),autoToast:d,skipSimulate:u,confirmations:f}),h=p||E||g||!1===l.enabled,{approve:B,shouldApprove:C,loading:S,isSuccess:N}=useApproves(s||{},o,c),T=(0,i.useRef)();T.current=A,(0,i.useEffect)(()=>{T.current&&N&&T.current()},[N]);let k=(0,b.t)();return C?(0,n.jsx)(v.k,{className:(0,x.m)("flex items-center justify-center gap-4",t),onClick:B,busy:S,disabled:p||!B||S||k,children:"Approve"}):(0,n.jsx)(v.k,{className:(0,x.m)("flex items-center justify-center gap-4",t),onClick:()=>y(),busy:g,busyShowContent:r,disabled:h,children:a})}function NftApproveAndTx(e){let{className:t,tx:a,busyShowTxet:r=!0,approves:s,spender:o,requestAmount:c,config:l,toast:d=!0,skipSimulate:u=!1,disabled:p,confirmations:f,onTxSuccess:m,onApproveSuccess:A}=e,{write:y,isDisabled:E,isLoading:g}=useWrapContractWrite(l,{onSuccess:e=>m&&m(e),autoToast:d,skipSimulate:u,confirmations:f}),h=p||E||g||!1===l.enabled,{approve:B,shouldApprove:C,loading:S,isSuccess:N}=useNftApproves(null!=s?s:{},o),T=(0,i.useRef)();T.current=A,(0,i.useEffect)(()=>{T.current&&N&&T.current()},[N]);let k=(0,b.t)();return C?(0,n.jsx)(v.k,{className:(0,x.m)("flex items-center justify-center gap-4",t),onClick:B,busy:S,disabled:p||!B||S||k,children:"Approve"}):(0,n.jsx)(v.k,{className:(0,x.m)("flex items-center justify-center gap-4",t),onClick:()=>y(),busy:g,busyShowContent:r,disabled:h,children:a})}},88702:function(e,t,a){"use strict";a.d(t,{Ak:function(){return Expandable},At:function(){return v},UT:function(){return GeneralAction},pk:function(){return y},us:function(){return ContractAll}});var n=a(31113),r=a(26361),s=a(64103),o=a(23125),c=a(83960),l=a(58409),i=a(62531),d=a(12687),u=a(95499),p=a(60689),f=a(88501),b=a(22818),m=a(65741),A=a.n(m),x=a(59175);let v={menu:()=>(0,r.cn)("bg-white dark:bg-black dark:border"),option:e=>(0,r.cn)({"!bg-primary/30":e.isFocused,"!bg-primary/60":e.isSelected}),control:()=>"bg-white dark:bg-black !min-h-[58px] !border-primary/30 !shadow-none",singleValue:()=>"dark:text-white"},y="bg-white dark:bg-transparent border-primary/70 w-full h-14 text-right pr-4 font-bold text-sm border focus:border-2  rounded-md outline-none ",defConvertArg=(e,t,a)=>"uint8"==a.type?parseInt((e||"").replaceAll(" ","")):a.type.startsWith("uint")?BigInt((e||"").replaceAll(" ","")):"bytes32"==a.type?(0,i.$G)(e,{size:32}):"bool"==a.type?"true"==e:e,convertArgs=(e,t,a)=>{try{return e.map((e,n)=>{let r=t[n];return a?a(e,n,r):defConvertArg(e,n,r)})}catch(e){return}};function Expandable(e){let{children:t,tit:a,disable:r}=e,[l,i]=(0,s.useState)(!1);return(0,n.jsxs)("div",{className:"flex flex-col w-full bg-white dark:bg-transparent rounded-lg overflow-hidden border border-solid border-primary/40",children:[(0,n.jsxs)("div",{className:"px-5 py-2 min-h-[58px] flex justify-between items-center text-sm",children:[(0,n.jsx)("div",{className:"font-medium text-base",children:a}),r?t:(0,n.jsxs)("div",{className:"px-2 py-1 rounded-full border border-solid border-primary flex items-center text-xs text-primary cursor-pointer ",onClick:()=>i(!l),children:[(0,n.jsx)("span",{className:"mr-[5px]",children:l?"Close":"Expand"}),l?(0,n.jsx)(c.iRh,{}):(0,n.jsx)(c.tv1,{})]})]}),(0,n.jsx)(o.Collapse,{isOpened:l,theme:{content:"bg-gray-200 dark:bg-transparent p-4 flex flex-col gap-2"},children:t})]})}function GeneralAction(e){var t,a;let{abi:o,address:c,functionName:i,tit:m,infos:v,convertArg:E,txProps:g,onArgs:h,argsDef:B}=e,C=o.find(e=>"function"==e.type&&e.name==i),S=(null==C?void 0:null===(t=C.inputs)||void 0===t?void 0:t.length)||0,[{args:N},T]=(0,l.Z)({args:"function"!=typeof B&&(null==B?void 0:B.length)==S&&S>0?B:Array(S).fill("")});(0,s.useEffect)(()=>{h&&h(N)},[N]);let k=(0,s.useRef)(0);(0,s.useEffect)(()=>{k.current++;let e=k.current;Promise.resolve(B).then(e=>"function"==typeof e?e():e||[]).then(t=>e==k.current&&T({args:N.map((e,a)=>e||t[a]||"")}))},[B]);let D=(0,x.p)(),{data:F,mutate:j,isPending:w}=(0,u.D)({mutationFn:async()=>await (0,b.B)(D).readContract({abi:o,address:c,functionName:i,...N.length?{args:convertArgs(N,C.inputs,E)}:{}}),onError:r.S3}),R="object"==typeof F?JSON.stringify(F,void 0,2):A()(F);if(!C)return;let O=C.stateMutability.includes("payable"),P=(!C.inputs||0==C.inputs.length)&&O,W=O?convertArgs(N,C.inputs,E):void 0;return(0,n.jsxs)(Expandable,{tit:m||i,disable:P,children:[null===(a=C.inputs)||void 0===a?void 0:a.map((e,t)=>(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("div",{className:"opacity-60 absolute top-1/2 left-2 -translate-y-1/2 text-xs",children:[e.name,"(",e.type,")"]}),(0,n.jsx)("input",{type:"text",value:N[t],onChange:e=>T({args:N.map((a,n)=>t==n?e.target.value:a)}),className:(0,r.cn)(y)})]},"input_".concat(t))),v,R,O?(0,n.jsx)(d.v,{...g||{},tx:"Write",config:{abi:o,address:c,functionName:i,...N.length?{args:W}:{}},disabled:(null==g?void 0:g.disabled)||!!N.length&&!W,className:(0,r.cn)("!mt-0 flex items-center justify-center gap-4",P?"max-w-[100px]":"w-full")}):(0,n.jsx)(p.k,{className:(0,f.m)("flex items-center justify-center gap-4",(0,r.cn)("!mt-0 flex items-center justify-center gap-4",P?"max-w-[100px]":"w-full")),onClick:()=>j(),busy:w,busyShowContent:!0,disabled:!1,children:"Read"})]})}function ContractAll(e){let{abi:t,address:a}=e,[r,o]=(0,s.useMemo)(()=>{let e=[],a=[];for(let n of t)if("function"==n.type){let t=n.stateMutability.includes("payable");t?a.push(n):e.push(n)}return[e,a]},[t]);return(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("div",{className:"font-bold text-2xl",children:"Read"}),r.map((e,t)=>(0,n.jsx)(GeneralAction,{abi:[e],address:a,functionName:e.name},"read_".concat(t)))]}),(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("div",{className:"font-bold text-2xl",children:"Write"}),o.map((e,t)=>(0,n.jsx)(GeneralAction,{abi:[e],address:a,functionName:e.name},"write_".concat(t)))]})]})}},44939:function(e,t,a){"use strict";a.d(t,{E:function(){return PageWrap}});var n=a(31113),r=a(26361);a(64103);var s=a(12045);function PageWrap(e){let{children:t,className:a}=e;return(0,s.l)(e=>e.theme),(0,n.jsx)("div",{className:(0,r.cn)("h-auto pt-[30px] pb-6",a),children:t})}},36762:function(e,t,a){"use strict";a.d(t,{$:function(){return Spinner}});var n=a(31113),r=a(26361);let Spinner=e=>{let{className:t}=e;return(0,n.jsxs)("svg",{fill:"none",className:(0,r.cn)("animate-spin h-5 w-5 2-ml-1 2mr-3",t),viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}},60689:function(e,t,a){"use strict";a.d(t,{k:function(){return BBtn}});var n=a(31113),r=a(26361),s=a(83978),o=a.n(s),c=a(64103),l=a(36762);function BBtn(e){let{borderWidth:t=1,children:a,busy:s,busyShowContent:i=!0,className:d,hiddenBorder:u,...p}=e,f=(0,c.useRef)(null),[b,m]=(0,c.useState)("0_0"),A="unset",x="unset";if(f.current&&!u){let e=f.current,a=e.clientWidth,n=e.clientHeight,r=parseInt(getComputedStyle(e).borderRadius.replace("px","")),s="A".concat(r-t," ").concat(r-t," 0, 0, 1, ").concat(r," ").concat(t,"L").concat(a-r," ").concat(t),c="A".concat(r-t," ").concat(r-t," 0, 0, 1, ").concat(a-t," ").concat(r,"L").concat(a-t," ").concat(n-r),l="A".concat(r-t," ").concat(r-t," 0, 0, 1, ").concat(a-r," ").concat(n-t,"L").concat(r," ").concat(n-t," "),i="A".concat(r-t," ").concat(r-t," 0, 0, 1, ").concat(t," ").concat(n-r,"L").concat(t," ").concat(r),d="M ".concat(t," ").concat(r," ").concat(s," ").concat(c," ").concat(l," ").concat(i),u="M 0 0 L 0 ".concat(n," L ").concat(a," ").concat(n," L ").concat(a," 0 L 0 0 ").concat(d," Z");A="path('".concat(u,"')");let p=2*a,tranP=e=>o().round(e/2,2);x="radial-gradient(122.5% ".concat(o().round(122.5/(a/n),2),"% at ").concat(o().round((52.9*a+50*p-50*a)/p,2),"% ").concat(o().round((16.25*n+50*p-50*n)/p,2),"%, #15d264 0%, #2cbd35 ").concat(tranP(36.26),"%, #dcf45d ").concat(tranP(92.54),"%)")}return(0,c.useEffect)(()=>{let e=new ResizeObserver(()=>{var e,t;m("".concat((null===(e=f.current)||void 0===e?void 0:e.clientWidth)||0,"_").concat((null===(t=f.current)||void 0===t?void 0:t.clientWidth)||0))});return f.current&&e.observe(f.current),()=>{f.current&&e.unobserve(f.current)}},[f.current]),(0,n.jsxs)("button",{...p,ref:f,className:(0,r.cn)("group/bbtn relative px-3 cursor-pointer w-full transition-all leading-[2.375] ring-0 text-base text-black dark:text-white font-medium h-10 rounded-lg disabled:opacity-60 disabled:cursor-not-allowed bg-btn  dark:bg-btndark",{"hover:bg-btnhover dark:hover:bg-btndarkhover":!e.disabled},d),children:[!u&&(0,n.jsx)("div",{className:"absolute w-full h-full left-0 top-0 flex justify-center items-center rounded-lg overflow-hidden",style:{visibility:f.current?"visible":"hidden",clipPath:A},children:(0,n.jsx)("div",{className:(0,r.cn)("w-[200%] aspect-square shrink-0",{"dark:group-hover/bbtn:opacity-60":!e.disabled}),style:{background:x}})}),s&&(0,n.jsx)(l.$,{}),(i||!s)&&a]})}},87031:function(e,t,a){"use strict";a.d(t,{Fw:function(){return d},TE:function(){return l},_C:function(){return c}});var n=a(73216),r=a(26361);let s={[n.BG.id]:"0x8685CE9Db06D40CBa73e3d09e6868FE476B5dC89",[n.On.id]:"0x4737c3BAB13a1Ad94ede8B46Bc6C22fb8bBE9c81"},o={[n.BG.id]:"0x97d82C639835F4EfaCC366fdE78CA0c4EC2a2A83",[n.On.id]:"0x7D3Cec2f46279229277802D30702e4E7FB19bAC0"},c={[n.BG.id]:"0x8685CE9Db06D40CBa73e3d09e6868FE476B5dC89",[n.On.id]:"0x8685CE9Db06D40CBa73e3d09e6868FE476B5dC89"},l={[n.BG.id]:"0x0e4aaf1351de4c0264c5c7056ef3777b41bd8e03",[n.On.id]:"0xFCBD14DC51f0A4d49d5E53C2E0950e0bC26d0Dce"},i={[n.BG.id]:"0xDf1126d3627b7f5D2a44d978A7180AcbD3c34aB6",[n.On.id]:"0x6E603014ACE3Ae06F34Ffe259106Af77c056d913"},d=(0,r.Yb)({[n.BG.id]:[{vault:"0x9700FEa232560E4048DD924623491926282125bE",asset:"0xd28d852cbcc68dcec922f6d5c7a8185dbaa104b7",assetSymbol:"HONEY-WBERA",pToken:"0x575287Cd8CB9A49e0EE00Bf0C71Eac337Ab8FeBa",pTokenSymbol:"pHONEY-BERA",yTokenSymbol:"yHONEY-BERA",protocolAddress:s[n.BG.id],protocolSettingsAddress:o[n.BG.id],bQueryAddres:i[n.BG.id],isOld:!0,onEnv:["beta"]},{vault:"0x5C88005534FB5C5B01445eC5bC944ebA0818554f",asset:"0xd28d852cbcc68dcec922f6d5c7a8185dbaa104b7",assetSymbol:"HONEY-WBERA",pToken:"0x19f4cE524268a01bfAFf8B433110d8304b096be0",pTokenSymbol:"pHONEY-BERA",yTokenSymbol:"yHONEY-BERA",protocolAddress:s[n.BG.id],protocolSettingsAddress:o[n.BG.id],bQueryAddres:i[n.BG.id],isOld:!0,onEnv:["beta"]},{vault:"0x9Ef9cE44c82111e967904059edf12701e17e6C03",asset:"0xd28d852cbcc68dcec922f6d5c7a8185dbaa104b7",assetSymbol:"HONEY-WBERA",pToken:"0x0C2553919748093b0760EA825C85dc5a72142932",pTokenSymbol:"pHONEY-BERA",yTokenSymbol:"yHONEY-BERA",protocolAddress:s[n.BG.id],protocolSettingsAddress:o[n.BG.id],bQueryAddres:i[n.BG.id],isOld:!0,onEnv:["beta","test"]},{vault:"0x77412b08bB3a8c38F7D0DC7D1158C5E7bfE03Eea",asset:"0xd28d852cbcc68dcec922f6d5c7a8185dbaa104b7",assetSymbol:"HONEY-WBERA",pToken:"0x02FEDe9cf47c3D8aCE52613C2a45bC588D4e0516",pTokenSymbol:"pHONEY-BERA",yTokenSymbol:"yHONEY-BERA",protocolAddress:s[n.BG.id],protocolSettingsAddress:o[n.BG.id],bQueryAddres:"0xEE723BD0bC2449678d37177B7D93cc69D1af4B6F",onEnv:["beta"]},{vault:"0xCC5AeD7b81dc45f02329Cc2Bf2c64B873D0be752",asset:"0xd28d852cbcc68dcec922f6d5c7a8185dbaa104b7",assetSymbol:"HONEY-WBERA",pToken:"0x05425F978a87DC80827f6c4a104FCbc6E9021ecc",pTokenSymbol:"pHONEY-BERA",yTokenSymbol:"yHONEY-BERA",protocolAddress:s[n.BG.id],protocolSettingsAddress:o[n.BG.id],bQueryAddres:"0xEE723BD0bC2449678d37177B7D93cc69D1af4B6F",onEnv:["beta"]},{vault:"0x12f5F1f53B419d1E5F3084E649001Ff091683ADc",asset:"0x0001513F4a1f86da0f02e647609E9E2c630B3a14",assetSymbol:"WBERA-YEET",pToken:"0x256938Bf1A340e6F80eAA35798b08a122783BEDF",pTokenSymbol:"pWBERA-YEET",yTokenSymbol:"yWBERA-YEET",rewardSymbol:"WBERA-YEET",protocolAddress:s[n.BG.id],protocolSettingsAddress:o[n.BG.id],bQueryAddres:"0xEE723BD0bC2449678d37177B7D93cc69D1af4B6F",onEnv:["beta"]},{vault:"0x6A2A4d8Fe425dC783e67b90d88922c5890BfA78c",asset:"0x0001513F4a1f86da0f02e647609E9E2c630B3a14",assetSymbol:"WBERA-YEET",pToken:"0x890FDA8E5ce053D34aaA64B23d250f9AF04979e4",pTokenSymbol:"pWBERA-YEET",yTokenSymbol:"yWBERA-YEET",yeetLiqSymbol:"LIQ-TRI-YEET",rewardSymbol:"LIQ-TRI-YEET",protocolAddress:s[n.BG.id],protocolSettingsAddress:o[n.BG.id],bQueryAddres:"0xEE723BD0bC2449678d37177B7D93cc69D1af4B6F",onEnv:["beta"]}],[n.On.id]:[{vault:"0xf579c039c52ab795F0C4E358d3b462bE883cDd9F",asset:"0x9659dc8c1565E0bd82627267e3b4eEd1a377ebE6",pToken:"0xF0d0CEAE071b3aDfaad4Aa1722c9E9A94fb7Dd04",pTokenV2:!0,assetSymbol:"WETH-WBERA",pTokenSymbol:"pWETHWBERA",yTokenSymbol:"yWETHWBERA",rewardSymbol:"iBGT",protocolAddress:"0xd75Dc0496826FF0C13cE6D6aA5Bf8D64126E4fF1",protocolSettingsAddress:"0x45a47E8013425AF3e6e71f1aa24e3B8c523386EA",bQueryAddres:i[n.On.id],onEnv:["test","prod"]},{vault:"0x94822b9BA715E9e3079ed12489Dc7A016694FC67",asset:"0xdd70a5ef7d8cfe5c5134b5f9874b09fb5ce812b4",pToken:"0x0DA715b18AaF66c7c044D4F315D479f6036728Ea",pTokenV2:!0,assetSymbol:"WBERA-WETH",pTokenSymbol:"pWBERAWETH",yTokenSymbol:"yWBERAWETH",rewardSymbol:"iBGT",protocolAddress:"0x9F0956c33f45141a7D8D5751038ae0A71C562f87",protocolSettingsAddress:"0xE34e1C9FC5313D9ac4B121B5F93C51e619dd778A",bQueryAddres:i[n.On.id],onEnv:["test","prod"]},{vault:"0xE6d15592F337f54E8BD47e56BbB22aF12F0D4083",asset:"0xf961a8f6d8c69e7321e78d254ecafbcc3a637621",pToken:"0xc2C5EaDF0f48702bEEDD2e2a35517e1fC4dBF7A7",pTokenV2:!0,assetSymbol:"HONEY-USDC",pTokenSymbol:"pUSDCeHONEY",yTokenSymbol:"yUSDCeHONEY",rewardSymbol:"iBGT",protocolAddress:"0x9F0956c33f45141a7D8D5751038ae0A71C562f87",protocolSettingsAddress:"0xE34e1C9FC5313D9ac4B121B5F93C51e619dd778A",bQueryAddres:i[n.On.id],onEnv:["test","prod"]},{vault:"0x702B707c2F8dd26F4F1e51cF425035d355A02767",asset:"0xdE04c469Ad658163e2a5E860a03A86B52f6FA8C8",pToken:"0xA58f5A2487abaBc5c5A23E3e3796E6615d12FCaf",assetSymbol:"HONEY-BYUSD",pTokenSymbol:"pHONEYBYUSD",yTokenSymbol:"yHONEYBYUSD",rewardSymbol:"iBGT",protocolAddress:"0xd75Dc0496826FF0C13cE6D6aA5Bf8D64126E4fF1",protocolSettingsAddress:"0x45a47E8013425AF3e6e71f1aa24e3B8c523386EA",bQueryAddres:i[n.On.id],onEnv:["test","prod"]},{vault:"0x6686bDfF3ad20AE45E811c2451DfeE8AA0f338C0",asset:"0xdE04c469Ad658163e2a5E860a03A86B52f6FA8C8",pToken:"0x83f933af46458102cf54Eabe441DBB659a1B2eA5",assetSymbol:"HONEY-BYUSD",pTokenSymbol:"pHONEYBYUSD",yTokenSymbol:"yHONEYBYUSD",rewardSymbol:"iBGT",protocolAddress:s[n.On.id],protocolSettingsAddress:o[n.On.id],bQueryAddres:i[n.On.id],onEnv:["test","prod"]},{vault:"0x33C42E171cFD7Ec85D3dB34D7f6d3D8121f64E63",asset:"0xf961a8f6d8c69e7321e78d254ecafbcc3a637621",pToken:"0x70B851f6877D16D6D5aD546B17d06281b8aBDd4b",assetSymbol:"HONEY-USDC",pTokenSymbol:"pHONEY-USDC",yTokenSymbol:"yHONEY-USDC",rewardSymbol:"iBGT",protocolAddress:"0xc0fA386aE92f18A783476d09121291A1972C30Dc",protocolSettingsAddress:"0x8c6E434Bb1C51728BdCc250255c1F654471d85eB",bQueryAddres:i[n.On.id],onEnv:["test","prod"]}]},[])},95889:function(e,t,a){"use strict";a.d(t,{EI:function(){return s},f_:function(){return c}});var n=a(51186),r=a(26361);let s=3,o={[n.F.id]:"0x31C410AEF663FEbDD7A2F1cCF0a4487CDcD56fdA"},c=(0,r.Yb)({[n.F.id]:[{vault:"0xEF14D1D8128f496f798f6721713D41070F17A727",asset:"0x2020cAB606cF79169A0f3F6Eb3E710326C4a4C1B",assetName:"Era NFT",assetSymbol:"ERA",assetLogo:"",vestingToken:"0xa10519209B4F6c8Ec22Fda6733a103D3e24F4C39",vestingSymbol:"MkRC20",vestingDecimals:18,vToken:"0x0A126144121Db990a066d63b02589D68104909cF",vTokenSymbol:"vERA",yTokenSymbol:"yERA",protocolAddress:"0x896774931349919B71Ec251CCbA1C6AB1FEb45C4",protocolSettingsAddress:"0xD91C388453042a2214Ad085df76A9E08Bc701f23",queryAddres:o[n.F.id],nftStakingPool:"0x73FA161A679020872356Eea8B6648F3D026228D1",onEnv:["test","prod"]}]},[])},15506:function(e,t,a){"use strict";a.d(t,{D2:function(){return useWandContractRead},uX:function(){return useWandContractReads}}),a(22818);var n=a(83978),r=a.n(n);a(64103);var s=a(30308),o=a(59307),c=a(93108);a(59175);let l=(0,c.Ue)(e=>({time:r().now(),update:()=>{e({time:r().now()})}}));function useWandContractRead(e){let{time:t}=l();return(0,s.u)({...e,query:{placeholderData:e=>e,refetchOnMount:!1,refetchOnWindowFocus:!1,...e.query||{}},wandtime:t})}function useWandContractReads(e){let{time:t}=l();return(0,o.N)({...e,query:{placeholderData:e=>e,refetchOnMount:!1,refetchOnWindowFocus:!1,...e.query||{}},wandtime:t})}},25e3:function(e,t,a){"use strict";a.d(t,{L:function(){return readContract}});var n=a(12537),r=a(96685);function readContract(e,t){let{chainId:a,...s}=t,o=e.getClient({chainId:a}),c=(0,r.s)(o,n.L,"readContract");return c(s)}},64828:function(e,t,a){"use strict";a.d(t,{J:function(){return readContracts}});var n=a(33066),r=a(74659),s=a(96685);async function multicall_multicall(e,t){let{allowFailure:a=!0,chainId:n,contracts:o,...c}=t,l=e.getClient({chainId:n}),i=(0,s.s)(l,r.A,"multicall");return i({allowFailure:a,contracts:o,...c})}var o=a(25e3);async function readContracts(e,t){let{allowFailure:a=!0,blockNumber:r,blockTag:s,...c}=t,l=t.contracts;try{let t=l.reduce((t,a,n)=>{let r=a.chainId??e.state.chainId;return{...t,[r]:[...t[r]||[],{contract:a,index:n}]}},{}),n=(await Promise.all(Object.entries(t).map(([t,n])=>multicall_multicall(e,{...c,allowFailure:a,blockNumber:r,blockTag:s,chainId:parseInt(t),contracts:n.map(({contract:e})=>e)})))).flat(),o=Object.values(t).flatMap(e=>e.map(({index:e})=>e));return n.reduce((e,t,a)=>(e&&(e[o[a]]=t),e),[])}catch(t){if(t instanceof n.uq)throw t;let promises=()=>l.map(t=>(0,o.L)(e,{...t,blockNumber:r,blockTag:s}));if(a)return(await Promise.allSettled(promises())).map(e=>"fulfilled"===e.status?{result:e.value,status:"success"}:{error:e.reason,result:void 0,status:"failure"});return await Promise.all(promises())}}},96685:function(e,t,a){"use strict";function getAction(e,t,a){let n=e[t.name];if("function"==typeof n)return n;let r=e[a];return"function"==typeof r?r:a=>t(e,a)}a.d(t,{s:function(){return getAction}})},30308:function(e,t,a){"use strict";a.d(t,{u:function(){return useReadContract}});var n=a(25e3),r=a(55046),s=a(44178),o=a(90283),c=a(57728);function useReadContract(e={}){let{abi:t,address:a,functionName:l,query:i={}}=e,d=(0,c.Z)(e),u=(0,o.x)({config:d}),p=function(e,t={}){return{async queryFn({queryKey:a}){let r=t.abi;if(!r)throw Error("abi is required");let{address:s,functionName:o,scopeKey:c,...l}=a[1];if(!s)throw Error("address is required");if(!o)throw Error("functionName is required");let i=l.args;return(0,n.L)(e,{abi:r,address:s,functionName:o,args:i,...l})},queryKey:function(e={}){let{abi:t,...a}=e;return["readContract",(0,r.O)(a)]}(t)}}(d,{...e,chainId:e.chainId??u}),f=!!(a&&t&&l&&(i.enabled??!0));return(0,s.aM)({...i,...p,enabled:f,structuralSharing:i.structuralSharing??s.if})}},59307:function(e,t,a){"use strict";a.d(t,{N:function(){return useReadContracts}});var n=a(64828),r=a(55046),s=a(64103),o=a(44178),c=a(90283),l=a(57728);function useReadContracts(e={}){let{contracts:t=[],query:a={}}=e,i=(0,l.Z)(e),d=(0,c.x)({config:i}),u=function(e,t={}){return{async queryFn({queryKey:a}){let r=[],s=a[1].contracts.length;for(let e=0;e<s;e++){let n=a[1].contracts[e],s=t.contracts?.[e].abi;r.push({...n,abi:s})}let{scopeKey:o,...c}=a[1];return(0,n.J)(e,{...c,contracts:r})},queryKey:function(e={}){let t=[];for(let a of e.contracts??[]){let{abi:n,...r}=a;t.push({...r,chainId:r.chainId??e.chainId})}return["readContracts",(0,r.O)({...e,contracts:t})]}(t)}}(i,{...e,chainId:d}),p=(0,s.useMemo)(()=>{let e=!1;for(let a of t){let{abi:t,address:n,functionName:r}=a;if(!t||!n||!r){e=!1;break}e=!0}return!!(e&&(a.enabled??!0))},[t,a.enabled]);return(0,o.aM)({...u,...a,enabled:p,structuralSharing:a.structuralSharing??o.if})}}},function(e){e.O(0,[4881,7495,7622,3979,3270,2996,4408,8410,8880,1591,313,6499,7093,604,1744],function(){return e(e.s=7075)}),_N_E=e.O()}]);