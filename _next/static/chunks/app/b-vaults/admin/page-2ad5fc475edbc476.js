(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9158],{94529:function(e,a,t){Promise.resolve().then(t.bind(t,70157))},70157:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return AdminPage}});var d=t(52987),o=t(57834),s=t(61387),n=t(38070),c=t(26694),l=t(46881),r=t(58400),E=t(96555),i=t(13854),b=t(62013),u=t(64370),p=t(77317),f=t(58409),A=t(99409),B=t(86589),m=t(45631),x=t(85665),y=t(31236),C=t(35164),D=t(52468),v=t(45207),S=t(85058),T=t(80611);let F=[{label:"产品周期",value:"D",units:0},{label:"初始定价",value:"APRi"},{label:"赎回手续费",value:"f1"},{label:"利息佣金",value:"f2"}];function UpdateVaultParams(e){let{paramList:a,vault:t,protocoSettingAddress:n}=e,c=(0,p.useMemo)(()=>a.map(e=>({...e,label:"".concat(e.label,"(").concat(e.value,")")})),[a]),[{value:r,param:E},b]=(0,f.Z)({value:"",param:c[0]}),{data:u,refetch:A}=(0,T.N)({contracts:a.map(e=>({abi:l.$4,address:n,functionName:"vaultParamValue",args:[t,(0,y.$G)(e.value,{size:32})]}))}),B=(0,p.useMemo)(()=>(u||[]).map((e,t)=>{let d=a[t];return"".concat(d.label,"(").concat(d.value,"): ").concat((0,C.b)(e.result||0n,"number"==typeof d.units?d.units:10))}),[u]),v="number"==typeof E.units?E.units:10,[S,F]=(0,x.Z)();return(0,d.jsxs)(s.Ak,{tit:"Vault Param Vaule",children:[(0,d.jsx)(m.ZP,{classNames:s.At,maxMenuHeight:F.height+110,value:E,options:c,onChange:e=>b({param:e})}),(0,d.jsx)("input",{value:r.toString(),onChange:e=>{let a=(e.target.value||"").replaceAll("-","").replaceAll("+","");b({value:a})},type:"number",className:(0,i.cn)(s.pk),pattern:"[0-9.]{36}",step:1,placeholder:"0"}),(0,d.jsx)(o.vZ,{tx:"Write",config:{abi:l.$4,address:n,functionName:"updateVaultParamValue",args:[t,(0,y.$G)(E.value,{size:32}),(0,D.v)(r,v)]},onTxSuccess:()=>{b({value:""}),A()},className:" w-full flex items-center justify-center gap-4"}),(0,d.jsx)("div",{className:"text-sm flex flex-col items-start",ref:S,children:B.map((e,a)=>(0,d.jsx)("div",{children:e},"info_".concat(a)))})]})}function Erc20Approve(){let[e,a]=(0,f.Z)({token:"",spender:"",amount:0n});return(0,d.jsxs)(s.Ak,{tit:"Erc20Approve",children:[(0,d.jsx)("input",{type:"text",placeholder:"token",value:e.token,onChange:e=>a({token:e.target.value}),className:(0,i.cn)(s.pk)}),(0,d.jsx)("input",{type:"text",placeholder:"spender",value:e.spender,onChange:e=>a({spender:e.target.value}),className:(0,i.cn)(s.pk)}),(0,d.jsx)("input",{type:"text",placeholder:"amount",value:e.amount.toString(),onChange:e=>{try{a({amount:(0,i.su)(e.target.value,0)})}catch(e){}},className:(0,i.cn)(s.pk)}),(0,d.jsx)(o.vZ,{tx:"Write",disabled:!(0,v.U)(e.token)||!(0,v.U)(e.spender)||e.amount<=0n,config:{abi:S.Wo,address:e.token,functionName:"approve",args:[e.spender,e.amount]},className:"!mt-0 w-full flex items-center justify-center gap-4"})]})}function AdminPage(){let{current:e,setState:a,stateOptions:t,bsQuery:{isLoading:o}}=function(){let e=(0,A.pK)(),a=(0,p.useMemo)(()=>(r.Fw[e]||[]).filter(e=>e.onEnv&&e.onEnv.includes(E.Vi)),[e]),t=(0,p.useMemo)(()=>{let e=a.map(e=>({label:e.assetSymbol,value:e.vault,data:e,type:"B-Vault"}));return[...e].map(e=>({...e,label:"".concat(e.label,"     (").concat(e.type,": ").concat((0,i.lS)(e.data.vault),")")}))},[a]),d=(0,u.a)({queryKey:["queryBvualts",e,a],queryFn:async()=>{let t=(0,b.B)(e),d=Promise.all(a.map(e=>t.readContract({abi:l.j5,functionName:"closed",address:e.vault}))),o=Promise.all(a.map(e=>t.readContract({abi:l.j5,functionName:"epochIdCount",address:e.vault}))),[s,n]=await Promise.all([d,o]),c=await Promise.all(a.map((e,a)=>n[a]>0n?t.readContract({abi:l.j5,functionName:"epochInfoById",address:e.vault,args:[n[a]]}):Promise.resolve(void 0))),r={};for(let e=0;e<a.length;e++){let t=a[e];n[e]>0n?r[t.vault]="".concat(s[e]?"Closed":"Active","    Epoch").concat(n[e],"   (").concat((0,i.G$)(1000n*c[e].startTime),")"):r[t.vault]="UnStart"}return r}}),o=(0,p.useMemo)(()=>d.data?t.map(e=>"B-Vault"===e.type?{...e,label:"".concat(e.label," ").concat(d.data[e.data.vault])}:e):[],[t,d.data]),[{current:s},n]=(0,f.Z)({current:t[0]});return{current:s,setState:n,options:t,bsQuery:d,stateOptions:o}}();return(0,d.jsx)(c.E,{children:(0,d.jsxs)("div",{className:"w-full flex",children:[(0,d.jsx)(n.a,{}),o?(0,d.jsx)("div",{className:"flex w-full justify-center items-center h-screen",children:(0,d.jsx)(B.fCD,{className:"text-3xl animate-spin"})}):(0,d.jsxs)("div",{className:"flex flex-col gap-4 w-full max-w-[840px] mx-auto px-5",children:[(0,d.jsx)("div",{className:"text-lg whitespace-pre-wrap p-2 bg-primary/20 rounded-xl",children:JSON.stringify({Decimal18:"000000000000000000"},void 0,2)}),(0,d.jsx)(m.ZP,{classNames:s.At,defaultValue:t[0],options:t,onChange:e=>e&&a({current:e})}),"B-Vault"==e.type&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(UpdateVaultParams,{vault:e.data.vault,paramList:F,protocoSettingAddress:e.data.protocolSettingsAddress}),["close","pause","unpause","pauseRedeemPool","unpauseRedeemPool","setBriber"].map(a=>(0,d.jsx)(s.UT,{abi:l.j5,functionName:a,address:e.data.vault},"b-vault-".concat(a))),(0,d.jsx)(s.UT,{tit:"transferOwnership",abi:l.RR,functionName:"transferOwnership",address:e.data.protocolAddress}),(0,d.jsx)(s.UT,{tit:"upsertParamConfig",abi:l.$4,functionName:"upsertParamConfig",address:e.data.protocolSettingsAddress})]}),(0,d.jsx)(Erc20Approve,{})]})]})})}},26694:function(e,a,t){"use strict";t.d(a,{E:function(){return PageWrap}});var d=t(52987),o=t(13854);t(77317);var s=t(78525);function PageWrap(e){let{children:a,className:t}=e;return(0,s.l)(e=>e.theme),(0,d.jsx)("div",{className:(0,o.cn)("h-auto pt-[30px] pb-6",t),children:a})}},58400:function(e,a,t){"use strict";t.d(a,{Fw:function(){return E},TE:function(){return l},_C:function(){return c}});var d=t(53414),o=t(13854);let s={[d.BG.id]:"0x8685CE9Db06D40CBa73e3d09e6868FE476B5dC89",[d.On.id]:"0x4737c3BAB13a1Ad94ede8B46Bc6C22fb8bBE9c81"},n={[d.BG.id]:"0x97d82C639835F4EfaCC366fdE78CA0c4EC2a2A83",[d.On.id]:"0x7D3Cec2f46279229277802D30702e4E7FB19bAC0"},c={[d.BG.id]:"0x8685CE9Db06D40CBa73e3d09e6868FE476B5dC89",[d.On.id]:"0x8685CE9Db06D40CBa73e3d09e6868FE476B5dC89"},l={[d.BG.id]:"0x0e4aaf1351de4c0264c5c7056ef3777b41bd8e03",[d.On.id]:"0xFCBD14DC51f0A4d49d5E53C2E0950e0bC26d0Dce"},r={[d.BG.id]:"0xDf1126d3627b7f5D2a44d978A7180AcbD3c34aB6",[d.On.id]:"0x6E603014ACE3Ae06F34Ffe259106Af77c056d913"},E=(0,o.Yb)({[d.BG.id]:[{vault:"0x9700FEa232560E4048DD924623491926282125bE",asset:"0xd28d852cbcc68dcec922f6d5c7a8185dbaa104b7",assetSymbol:"HONEY-WBERA",pToken:"0x575287Cd8CB9A49e0EE00Bf0C71Eac337Ab8FeBa",pTokenSymbol:"pHONEY-BERA",yTokenSymbol:"yHONEY-BERA",protocolAddress:s[d.BG.id],protocolSettingsAddress:n[d.BG.id],bQueryAddres:r[d.BG.id],isOld:!0,onEnv:["beta"]},{vault:"0x5C88005534FB5C5B01445eC5bC944ebA0818554f",asset:"0xd28d852cbcc68dcec922f6d5c7a8185dbaa104b7",assetSymbol:"HONEY-WBERA",pToken:"0x19f4cE524268a01bfAFf8B433110d8304b096be0",pTokenSymbol:"pHONEY-BERA",yTokenSymbol:"yHONEY-BERA",protocolAddress:s[d.BG.id],protocolSettingsAddress:n[d.BG.id],bQueryAddres:r[d.BG.id],isOld:!0,onEnv:["beta"]},{vault:"0x9Ef9cE44c82111e967904059edf12701e17e6C03",asset:"0xd28d852cbcc68dcec922f6d5c7a8185dbaa104b7",assetSymbol:"HONEY-WBERA",pToken:"0x0C2553919748093b0760EA825C85dc5a72142932",pTokenSymbol:"pHONEY-BERA",yTokenSymbol:"yHONEY-BERA",protocolAddress:s[d.BG.id],protocolSettingsAddress:n[d.BG.id],bQueryAddres:r[d.BG.id],isOld:!0,onEnv:["beta","test"]},{vault:"0x77412b08bB3a8c38F7D0DC7D1158C5E7bfE03Eea",asset:"0xd28d852cbcc68dcec922f6d5c7a8185dbaa104b7",assetSymbol:"HONEY-WBERA",pToken:"0x02FEDe9cf47c3D8aCE52613C2a45bC588D4e0516",pTokenSymbol:"pHONEY-BERA",yTokenSymbol:"yHONEY-BERA",protocolAddress:s[d.BG.id],protocolSettingsAddress:n[d.BG.id],bQueryAddres:"0xEE723BD0bC2449678d37177B7D93cc69D1af4B6F",onEnv:["beta"]},{vault:"0xCC5AeD7b81dc45f02329Cc2Bf2c64B873D0be752",asset:"0xd28d852cbcc68dcec922f6d5c7a8185dbaa104b7",assetSymbol:"HONEY-WBERA",pToken:"0x05425F978a87DC80827f6c4a104FCbc6E9021ecc",pTokenSymbol:"pHONEY-BERA",yTokenSymbol:"yHONEY-BERA",protocolAddress:s[d.BG.id],protocolSettingsAddress:n[d.BG.id],bQueryAddres:"0xEE723BD0bC2449678d37177B7D93cc69D1af4B6F",onEnv:["beta"]},{vault:"0x12f5F1f53B419d1E5F3084E649001Ff091683ADc",asset:"0x0001513F4a1f86da0f02e647609E9E2c630B3a14",assetSymbol:"WBERA-YEET",pToken:"0x256938Bf1A340e6F80eAA35798b08a122783BEDF",pTokenSymbol:"pWBERA-YEET",yTokenSymbol:"yWBERA-YEET",rewardSymbol:"WBERA-YEET",protocolAddress:s[d.BG.id],protocolSettingsAddress:n[d.BG.id],bQueryAddres:"0xEE723BD0bC2449678d37177B7D93cc69D1af4B6F",onEnv:["beta"]},{vault:"0x6A2A4d8Fe425dC783e67b90d88922c5890BfA78c",asset:"0x0001513F4a1f86da0f02e647609E9E2c630B3a14",assetSymbol:"WBERA-YEET",pToken:"0x890FDA8E5ce053D34aaA64B23d250f9AF04979e4",pTokenSymbol:"pWBERA-YEET",yTokenSymbol:"yWBERA-YEET",yeetLiqSymbol:"LIQ-TRI-YEET",rewardSymbol:"LIQ-TRI-YEET",protocolAddress:s[d.BG.id],protocolSettingsAddress:n[d.BG.id],bQueryAddres:"0xEE723BD0bC2449678d37177B7D93cc69D1af4B6F",onEnv:["beta"]}],[d.On.id]:[{vault:"0xf579c039c52ab795F0C4E358d3b462bE883cDd9F",asset:"0x9659dc8c1565E0bd82627267e3b4eEd1a377ebE6",pToken:"0xF0d0CEAE071b3aDfaad4Aa1722c9E9A94fb7Dd04",pTokenV2:!0,assetSymbol:"WETH-WBERA",pTokenSymbol:"pWETHWBERA",yTokenSymbol:"yWETHWBERA",rewardSymbol:"iBGT",protocolAddress:"0xd75Dc0496826FF0C13cE6D6aA5Bf8D64126E4fF1",protocolSettingsAddress:"0x45a47E8013425AF3e6e71f1aa24e3B8c523386EA",bQueryAddres:r[d.On.id],onEnv:["test","prod"]},{vault:"0x94822b9BA715E9e3079ed12489Dc7A016694FC67",asset:"0xdd70a5ef7d8cfe5c5134b5f9874b09fb5ce812b4",pToken:"0x0DA715b18AaF66c7c044D4F315D479f6036728Ea",pTokenV2:!0,assetSymbol:"WBERA-WETH",pTokenSymbol:"pWBERAWETH",yTokenSymbol:"yWBERAWETH",rewardSymbol:"iBGT",protocolAddress:"0x9F0956c33f45141a7D8D5751038ae0A71C562f87",protocolSettingsAddress:"0xE34e1C9FC5313D9ac4B121B5F93C51e619dd778A",bQueryAddres:r[d.On.id],onEnv:["test","prod"]},{vault:"0xE6d15592F337f54E8BD47e56BbB22aF12F0D4083",asset:"0xf961a8f6d8c69e7321e78d254ecafbcc3a637621",pToken:"0xc2C5EaDF0f48702bEEDD2e2a35517e1fC4dBF7A7",pTokenV2:!0,assetSymbol:"HONEY-USDC",pTokenSymbol:"pUSDCeHONEY",yTokenSymbol:"yUSDCeHONEY",rewardSymbol:"iBGT",protocolAddress:"0x9F0956c33f45141a7D8D5751038ae0A71C562f87",protocolSettingsAddress:"0xE34e1C9FC5313D9ac4B121B5F93C51e619dd778A",bQueryAddres:r[d.On.id],onEnv:["test","prod"]},{vault:"0x702B707c2F8dd26F4F1e51cF425035d355A02767",asset:"0xdE04c469Ad658163e2a5E860a03A86B52f6FA8C8",pToken:"0xA58f5A2487abaBc5c5A23E3e3796E6615d12FCaf",assetSymbol:"HONEY-BYUSD",pTokenSymbol:"pHONEYBYUSD",yTokenSymbol:"yHONEYBYUSD",rewardSymbol:"iBGT",protocolAddress:"0xd75Dc0496826FF0C13cE6D6aA5Bf8D64126E4fF1",protocolSettingsAddress:"0x45a47E8013425AF3e6e71f1aa24e3B8c523386EA",bQueryAddres:r[d.On.id],onEnv:["test","prod"]},{vault:"0x6686bDfF3ad20AE45E811c2451DfeE8AA0f338C0",asset:"0xdE04c469Ad658163e2a5E860a03A86B52f6FA8C8",pToken:"0x83f933af46458102cf54Eabe441DBB659a1B2eA5",assetSymbol:"HONEY-BYUSD",pTokenSymbol:"pHONEYBYUSD",yTokenSymbol:"yHONEYBYUSD",rewardSymbol:"iBGT",protocolAddress:s[d.On.id],protocolSettingsAddress:n[d.On.id],bQueryAddres:r[d.On.id],onEnv:["test","prod"]},{vault:"0x33C42E171cFD7Ec85D3dB34D7f6d3D8121f64E63",asset:"0xf961a8f6d8c69e7321e78d254ecafbcc3a637621",pToken:"0x70B851f6877D16D6D5aD546B17d06281b8aBDd4b",assetSymbol:"HONEY-USDC",pTokenSymbol:"pHONEY-USDC",yTokenSymbol:"yHONEY-USDC",rewardSymbol:"iBGT",protocolAddress:"0xc0fA386aE92f18A783476d09121291A1972C30Dc",protocolSettingsAddress:"0x8c6E434Bb1C51728BdCc250255c1F654471d85eB",bQueryAddres:r[d.On.id],onEnv:["test","prod"]}]},[])}},function(e){e.O(0,[2257,9891,4345,6358,8109,6445,3988,1348,7459,8468,1331,3262,3099,1445,2140,9054,3132,7834,1387,4195,6338,1744],function(){return e(e.s=94529)}),_N_E=e.O()}]);