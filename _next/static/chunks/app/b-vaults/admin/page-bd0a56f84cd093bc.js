(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9158],{7075:function(e,t,a){Promise.resolve().then(a.bind(a,69697))},69697:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return AdminPage}});var n=a(31113),s=a(12687),r=a(88702),o=a(44939),l=a(66499),c=a(19757),i=a(59175),d=a(87031),u=a(95889),p=a(22139),f=a(26361),b=a(78403),m=a(64370),x=a(64103),v=a(58409),A=a(15506),y=a(17686),E=a(45631),g=a(85665),h=a(62531),B=a(35057),C=a(33737),N=a(11292),S=a(61766),k=a(58714),T=a(96670);let D=[{label:"资产利息率",value:"Y"},{label:"目标AAR",value:"AART"},{label:"安全AAR",value:"AARS"},{label:"上顶AAR",value:"AARU"},{label:"熔断AAR",value:"AARC"},{label:"赎回手续费",value:"C"},{label:"进入国库比例",value:"TreasuryFeeRate"},{label:"Discount冷静时间",value:"CircuitBreakPeriod",units:0},{label:"低买池最小成交量USB",value:"PtyPoolMinUsbAmount"},{label:"高卖池最小成交量",value:"PtyPoolMinAssetAmount"},{label:"RateR",value:"RateR"}],j=[{label:"产品周期",value:"D",units:0},{label:"初始定价",value:"APRi"},{label:"赎回手续费",value:"f1"},{label:"利息佣金",value:"f2"}],F=[{label:"产品周期",value:"D",units:0},{label:"Nft质押Claim等待时间",value:"NftDepositLeadingTime",units:0},{label:"Nft赎回等待时间",value:"NftRedeemWaitingPeriod",units:0},{label:"初始定价",value:"APRi"},{label:"赎回手续费",value:"f1"},{label:"利息佣金",value:"f2"}];function UpdateVaultParams(e){let{paramList:t,vault:a,protocoSettingAddress:o}=e,c=(0,x.useMemo)(()=>t.map(e=>({...e,label:"".concat(e.label,"(").concat(e.value,")")})),[t]),[{value:i,param:d},u]=(0,v.Z)({value:"",param:c[0]}),{data:p,refetch:b}=(0,A.uX)({contracts:t.map(e=>({abi:l.$4,address:o,functionName:"vaultParamValue",args:[a,(0,h.$G)(e.value,{size:32})]}))}),m=(0,x.useMemo)(()=>(p||[]).map((e,a)=>{let n=t[a];return"".concat(n.label,"(").concat(n.value,"): ").concat((0,B.b)(e.result||0n,"number"==typeof n.units?n.units:10))}),[p]),y="number"==typeof d.units?d.units:10,[N,S]=(0,g.Z)();return(0,n.jsxs)(r.Ak,{tit:"Vault Param Vaule",children:[(0,n.jsx)(E.ZP,{classNames:r.At,maxMenuHeight:S.height+110,value:d,options:c,onChange:e=>u({param:e})}),(0,n.jsx)("input",{value:i.toString(),onChange:e=>{let t=(e.target.value||"").replaceAll("-","").replaceAll("+","");u({value:t})},type:"number",className:(0,f.cn)(r.pk),pattern:"[0-9.]{36}",step:1,placeholder:"0"}),(0,n.jsx)(s.v,{tx:"Write",config:{abi:l.$4,address:o,functionName:"updateVaultParamValue",args:[a,(0,h.$G)(d.value,{size:32}),(0,C.v)(i,y)]},onTxSuccess:()=>{u({value:""}),b()},className:" w-full flex items-center justify-center gap-4"}),(0,n.jsx)("div",{className:"text-sm flex flex-col items-start",ref:N,children:m.map((e,t)=>(0,n.jsx)("div",{children:e},"info_".concat(t)))})]})}function UpdateVaultPrice(e){let{vc:t}=e,[{feed:a},o]=(0,v.Z)({feed:""});return(0,n.jsxs)(r.Ak,{tit:"Vault Price Feed",children:[(0,n.jsx)("input",{type:"text",placeholder:"_assetTokenPriceFeed_",value:a,onChange:e=>o({feed:e.target.value}),className:(0,f.cn)(r.pk)}),(0,n.jsx)(s.v,{tx:"Write",config:{abi:l.WW,address:t.vault,functionName:"updatePriceFeed",args:[a]},onTxSuccess:()=>{o({feed:""})},className:" w-full flex items-center justify-center gap-4"})]})}function ClaimYieldsForBuyPool(e){let{vc:t}=e,{data:a}=(0,A.D2)({abi:l.aT,address:t.ptyPoolBelowAddress,functionName:"claimableYields"}),o=t.ptyPoolBelowAddress&&a||0n,[{address:c},i]=(0,v.Z)({address:""});return(0,n.jsxs)(r.Ak,{tit:"ClaimYields for Buy Low Pool",children:[(0,n.jsxs)("span",{children:["Yields: ",(0,N.d)(o)]}),(0,n.jsx)("input",{type:"text",placeholder:"recipient",value:c,onChange:e=>i({address:e.target.value}),className:(0,f.cn)(r.pk)}),(0,n.jsx)(s.v,{tx:"Write",disabled:!t.ptyPoolBelowAddress||o<=0n,config:{abi:l.aT,address:t.ptyPoolBelowAddress,functionName:"claimYields",args:[c]},className:"!mt-0  max-w-[100px] flex items-center justify-center gap-4"})]})}function SetTester(e){let{vc:t}=e,{data:a}=(0,A.D2)({abi:l.Og,address:t.assetTokenFeed,functionName:"getTestersCount"}),{data:o}=(0,A.D2)({abi:l.Og,address:t.assetTokenFeed,functionName:"owner"}),c=a||0n,{data:i}=(0,A.uX)({contracts:Array.from(Array(parseInt(c.toString()))).map((e,a)=>({abi:l.Og,address:t.assetTokenFeed,functionName:"getTester",args:[BigInt(a)]}))}),d=(null==i?void 0:i.map(e=>e.result))||[],[{address:u},p]=(0,v.Z)({address:""});return(0,n.jsxs)(r.Ak,{tit:"Set tester",children:[(0,n.jsxs)("div",{children:["Owner: ",o]}),(0,n.jsxs)("div",{children:["Tester Count: ",c.toString()]}),(0,n.jsx)("div",{children:"Testers"}),d.map(e=>(0,n.jsx)("div",{children:e},e)),(0,n.jsx)("input",{type:"text",placeholder:"recipient",value:u,onChange:e=>p({address:e.target.value}),className:(0,f.cn)(r.pk)}),(0,n.jsx)(s.v,{tx:"Write",disabled:!u,config:{abi:l.Og,address:t.assetTokenFeed,functionName:"setTester",args:[u,!0]},className:"!mt-0  max-w-[100px] flex items-center justify-center gap-4"})]})}function Erc20Approve(){let[e,t]=(0,v.Z)({token:"",spender:"",amount:0n});return(0,n.jsxs)(r.Ak,{tit:"Erc20Approve",children:[(0,n.jsx)("input",{type:"text",placeholder:"token",value:e.token,onChange:e=>t({token:e.target.value}),className:(0,f.cn)(r.pk)}),(0,n.jsx)("input",{type:"text",placeholder:"spender",value:e.spender,onChange:e=>t({spender:e.target.value}),className:(0,f.cn)(r.pk)}),(0,n.jsx)("input",{type:"text",placeholder:"amount",value:e.amount.toString(),onChange:e=>{try{t({amount:(0,f.su)(e.target.value,0)})}catch(e){}},className:(0,f.cn)(r.pk)}),(0,n.jsx)(s.v,{tx:"Write",disabled:!(0,S.U)(e.token)||!(0,S.U)(e.spender)||e.amount<=0n,config:{abi:k.Wo,address:e.token,functionName:"approve",args:[e.spender,e.amount]},className:"!mt-0 w-full flex items-center justify-center gap-4"})]})}let w=[{label:"赎回手续费",value:"C"}];function InitReinit(e){let{vault:t}=e,{data:a}=(0,A.uX)({contracts:[{abi:l.qU,address:t,functionName:"paramValue",args:[(0,h.$G)("D",{size:32})]},{abi:l.qU,address:t,functionName:"nftVtAmount"},{abi:l.qU,address:t,functionName:"nftVestingEndTime"},{abi:l.qU,address:t,functionName:"nftVestingDuration"},{abi:l.qU,address:t,functionName:"ytSwapPaymentToken"},{abi:l.qU,address:t,functionName:"ytSwapPrice"}]}),{data:s}=(0,A.D2)({abi:l.qU,address:t,functionName:"initialized"}),o=null==a?void 0:a.map(e=>{var t;return(null===(t=e.result)||void 0===t?void 0:t.toString())||""});return(0,n.jsx)(r.UT,{abi:l.qU,tit:"InitOrReinit",txProps:{disabled:"boolean"!=typeof s},functionName:s?"reInitialize":"initialize",address:t,argsDef:o},"lnt-vault-init")}function AdminPage(){let e=(0,i.p)(),{current:t,setState:a,stateOptions:s,bsQuery:{isLoading:A}}=function(){let e=(0,i.p)(),t=c.iK[e]||[],a=c.VQ[e]||[],n=(0,x.useMemo)(()=>(d.Fw[e]||[]).filter(e=>e.onEnv&&e.onEnv.includes(p.Vi)),[e]),s=(0,x.useMemo)(()=>(u.f_[e]||[]).filter(e=>e.onEnv&&e.onEnv.includes(p.Vi)),[e]),r=(0,x.useMemo)(()=>{let e=t.map(e=>({label:e.assetTokenSymbol,value:e.vault,data:e,type:"L-Vault"})),r=a.map(e=>({label:e.assetTokenSymbol,value:e.vault,data:e,type:"P-Vault"})),o=n.map(e=>({label:e.assetSymbol,value:e.vault,data:e,type:"B-Vault"})),l=s.map(e=>({label:e.assetSymbol,value:e.vault,data:e,type:"Lnt-Vault"}));return[...e,...r,...o,...l].map(e=>({...e,label:"".concat(e.label,"     (").concat(e.type,": ").concat((0,f.lS)(e.data.vault),")")}))},[t,a,n,s]),o=(0,m.a)({queryKey:["queryBvualts",e,n],queryFn:async()=>{let t=(0,b.B)(e),a=Promise.all(n.map(e=>t.readContract({abi:l.j5,functionName:"closed",address:e.vault}))),s=Promise.all(n.map(e=>t.readContract({abi:l.j5,functionName:"epochIdCount",address:e.vault}))),[r,o]=await Promise.all([a,s]),c=await Promise.all(n.map((e,a)=>o[a]>0n?t.readContract({abi:l.j5,functionName:"epochInfoById",address:e.vault,args:[o[a]]}):Promise.resolve(void 0))),i={};for(let e=0;e<n.length;e++){let t=n[e];o[e]>0n?i[t.vault]="".concat(r[e]?"Closed":"Active","    Epoch").concat(o[e],"   (").concat((0,f.G$)(1000n*c[e].startTime),")"):i[t.vault]="UnStart"}return i}}),A=(0,x.useMemo)(()=>o.data?r.map(e=>"B-Vault"===e.type?{...e,label:"".concat(e.label," ").concat(o.data[e.data.vault])}:e):[],[r,o.data]),[{current:y},E]=(0,v.Z)({current:r[0]});return{current:y,setState:E,options:r,bsQuery:o,stateOptions:A}}(),{chain:g}=(0,T.m)();return(0,n.jsx)(o.E,{children:(0,n.jsx)("div",{className:"w-full flex",children:A?(0,n.jsx)("div",{className:"flex w-full justify-center items-center h-screen",children:(0,n.jsx)(y.fCD,{className:"text-3xl animate-spin"})}):(0,n.jsxs)("div",{className:"flex flex-col gap-4 w-full max-w-[840px] mx-auto px-5",children:[(0,n.jsx)(E.ZP,{classNames:r.At,defaultValue:s[0],options:s,onChange:e=>e&&a({current:e})}),"L-Vault"==t.type&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(UpdateVaultParams,{vault:t.data.vault,paramList:D,protocoSettingAddress:c.e_[e]}),(0,n.jsx)(UpdateVaultPrice,{vc:t.data}),["pauseMint","unpauseMint","pauseRedeem","unpauseRedeem","pauseUsbToMarginTokens","unpauseUsbToMarginTokens"].map(e=>(0,n.jsx)(r.UT,{functionName:e,abi:l.WW,address:t.data.vault},"l-vault-".concat(e))),(0,n.jsx)(r.UT,{abi:l.EF,functionName:"transferOwnership",address:c.Vq[e]}),(0,n.jsx)(ClaimYieldsForBuyPool,{vc:t.data}),(null==g?void 0:g.testnet)&&(0,n.jsx)(SetTester,{vc:t.data})]}),"P-Vault"==t.type&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(UpdateVaultParams,{vault:t.data.vault,paramList:w,protocoSettingAddress:c.e_[e]}),["configureBlastYieldsAndGas","configureBlastPoints"].map(e=>(0,n.jsx)(r.UT,{abi:l.a4,functionName:e,address:t.data.vault},"p-vault-".concat(e)))]}),"B-Vault"==t.type&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(UpdateVaultParams,{vault:t.data.vault,paramList:j,protocoSettingAddress:t.data.protocolSettingsAddress}),["close","pause","unpause","pauseRedeemPool","unpauseRedeemPool","setBriber"].map(e=>(0,n.jsx)(r.UT,{abi:l.j5,functionName:e,address:t.data.vault},"b-vault-".concat(e))),(0,n.jsx)(r.UT,{tit:"transferOwnership",abi:l.RR,functionName:"transferOwnership",address:t.data.protocolAddress}),(0,n.jsx)(r.UT,{tit:"upsertParamConfig",abi:l.$4,functionName:"upsertParamConfig",address:t.data.protocolSettingsAddress})]}),"Lnt-Vault"==t.type&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(UpdateVaultParams,{vault:t.data.vault,paramList:F,protocoSettingAddress:t.data.protocolSettingsAddress}),(0,n.jsx)(InitReinit,{vault:t.data.vault}),["startEpoch1","updateNftDepositClaimableTime","depositNftVestingToken","withdrawNftVestingToken","addYtRewards"].map(e=>(0,n.jsx)(r.UT,{abi:l.qU,functionName:e,address:t.data.vault},"lnt-vault-".concat(e))),(0,n.jsx)(r.UT,{tit:"transferOwnership",abi:l.RR,functionName:"transferOwnership",address:t.data.protocolAddress}),(0,n.jsx)(r.UT,{tit:"upsertParamConfig",abi:l.$4,functionName:"upsertParamConfig",address:t.data.protocolSettingsAddress}),(null==g?void 0:g.testnet)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.UT,{tit:"mintMockNFT",abi:l.Oq,functionName:"safeMint",address:t.data.asset}),(0,n.jsx)(r.UT,{tit:"mintMockERC20",abi:l.vJ,functionName:"mint",address:t.data.vestingToken})]})]}),(0,n.jsx)(Erc20Approve,{})]})})})}},12687:function(e,t,a){"use strict";a.d(t,{v:function(){return ApproveAndTx},L:function(){return NftApproveAndTx}});var n=a(31113),s=a(19757),r=a(26361),o=a(78403),l=a(83978),c=a.n(l),i=a(64103),d=a(47259),u=a(58714),p=a(96670),f=a(4408),b=a(59175);let m={},useApproves=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10000000000n*10n**18n,{address:n}=(0,p.m)(),l=(0,b.p)(),{data:c}=(0,f.p)(),[x,v]=(0,i.useState)(!1),A=(0,i.useMemo)(()=>Object.keys(e).filter(e=>e!==s.K8),[e]),[y,E]=(0,i.useState)(t&&m[t]||{}),updateAllownce=(e,a)=>{t&&(m[t]={...m[t]||{},[e]:a},E(t=>({...t,[e]:a})))};(0,i.useEffect)(()=>{n&&t&&l&&A.forEach(e=>{(0,o.B)(l).readContract({abi:u.Wo,address:e,functionName:"allowance",args:[n,t]}).then(t=>updateAllownce(e,t||0n)).catch(console.error)})},[A,l,n]);let[g,h]=(0,i.useState)(!1),B=(0,i.useMemo)(()=>A.filter(t=>(0,r.ok)(e,t)>0n&&(0,r.ok)(e,t)>(0,r.ok)(y,t)),[e,A,y]),approve=async()=>{if(0!=B.length&&t)try{h(!0),v(!1);for(let n=0;n<B.length;n++){let s=B[n],r=!1===a?e[s]:a,i=await (null==c?void 0:c.writeContract({abi:u.Wo,address:s,functionName:"approve",args:[t,r]}));i&&await (0,o.B)(l).waitForTransactionReceipt({hash:i}),updateAllownce(s,r)}d.A.success("Approve success"),h(!1),v(!0)}catch(e){d.A.error((0,r.az)(e)),h(!1),v(!1)}};return{approve,loading:g,shouldApprove:B.length>0,isSuccess:x}},x={},useNftApproves=(e,t)=>{let{address:a}=(0,p.m)(),n=(0,b.p)(),{data:s}=(0,f.p)(),[l,m]=(0,i.useState)(!1),v=c().keys(e),[A,y]=(0,i.useState)(t&&x[t]||{}),updateAllownce=(e,a)=>{t&&(x[t]={...x[t]||{},[e]:a},y(t=>({...t,[e]:a})))};(0,i.useEffect)(()=>{a&&t&&n&&v.forEach(e=>{(0,o.B)(n).readContract({abi:u.Hr,address:e,functionName:"isApprovedForAll",args:[a,t]}).then(t=>t!==A[e]&&updateAllownce(e,t)).catch(console.error)})},[v,n,a]);let[E,g]=(0,i.useState)(!1),h=(0,i.useMemo)(()=>v.filter(e=>!A[e]),[e,v,A]),approve=async()=>{if(0!=h.length&&t)try{g(!0),m(!1);for(let e=0;e<h.length;e++){let a=h[e],r=await (null==s?void 0:s.writeContract({abi:u.Hr,address:a,functionName:"setApprovalForAll",args:[t,!0]}));r&&await (0,o.B)(n).waitForTransactionReceipt({hash:r}),updateAllownce(a,!0)}d.A.success("Approve success"),g(!1),m(!0)}catch(e){d.A.error((0,r.az)(e)),g(!1),m(!1)}};return{approve,loading:E,shouldApprove:h.length>0,isSuccess:l}};function useWrapContractWrite(e,t){let{autoToast:a=!0,onSuccess:n}=t||{},[s,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),{data:p}=(0,f.p)(),m=(0,b.p)(),x=!p||!p.account||s||!e||p.chain.id!==m,write=async()=>{if(!x){l(!0),u(!1);try{let s="function"==typeof e?await e():e,r=(0,o.B)(m),l={account:p.account,...s};if(!(null==t?void 0:t.skipSimulate)){let e=await r.simulateContract(l);l=e.request}let c=await p.writeContract(l),i=await r.waitForTransactionReceipt({hash:c,confirmations:null==t?void 0:t.confirmations});if("success"!==i.status)throw"Transaction reverted";u(!0),n&&n(i),a&&d.A.success("Transaction success")}catch(e){a&&d.A.error((0,r.az)(e))}l(!1)}};return{write,isDisabled:x,isLoading:s,isSuccess:c}}var v=a(88501),A=a(60689);function ApproveAndTx(e){let{className:t,tx:a,busyShowTxet:s=!0,approves:r,spender:o,requestAmount:l,config:c,toast:d=!0,skipSimulate:u=!1,disabled:p,confirmations:f,onTxSuccess:m,onApproveSuccess:x}=e,{write:y,isDisabled:E,isLoading:g}=useWrapContractWrite(c,{onSuccess:e=>m&&m(e),autoToast:d,skipSimulate:u,confirmations:f}),h=p||E||g||!1===c.enabled,{approve:B,shouldApprove:C,loading:N,isSuccess:S}=useApproves(r||{},o,l),k=(0,i.useRef)();k.current=x,(0,i.useEffect)(()=>{k.current&&S&&k.current()},[S]);let T=(0,b.t)();return C?(0,n.jsx)(A.k,{className:(0,v.m)("flex items-center justify-center gap-4",t),onClick:B,busy:N,disabled:p||!B||N||T,children:"Approve"}):(0,n.jsx)(A.k,{className:(0,v.m)("flex items-center justify-center gap-4",t),onClick:()=>y(),busy:g,busyShowContent:s,disabled:h,children:a})}function NftApproveAndTx(e){let{className:t,tx:a,busyShowTxet:s=!0,approves:r,spender:o,requestAmount:l,config:c,toast:d=!0,skipSimulate:u=!1,disabled:p,confirmations:f,onTxSuccess:m,onApproveSuccess:x}=e,{write:y,isDisabled:E,isLoading:g}=useWrapContractWrite(c,{onSuccess:e=>m&&m(e),autoToast:d,skipSimulate:u,confirmations:f}),h=p||E||g||!1===c.enabled,{approve:B,shouldApprove:C,loading:N,isSuccess:S}=useNftApproves(null!=r?r:{},o),k=(0,i.useRef)();k.current=x,(0,i.useEffect)(()=>{k.current&&S&&k.current()},[S]);let T=(0,b.t)();return C?(0,n.jsx)(A.k,{className:(0,v.m)("flex items-center justify-center gap-4",t),onClick:B,busy:N,disabled:p||!B||N||T,children:"Approve"}):(0,n.jsx)(A.k,{className:(0,v.m)("flex items-center justify-center gap-4",t),onClick:()=>y(),busy:g,busyShowContent:s,disabled:h,children:a})}},88702:function(e,t,a){"use strict";a.d(t,{Ak:function(){return Expandable},At:function(){return A},UT:function(){return GeneralAction},pk:function(){return y},us:function(){return ContractAll}});var n=a(31113),s=a(26361),r=a(64103),o=a(23125),l=a(83960),c=a(58409),i=a(62531),d=a(12687),u=a(95499),p=a(60689),f=a(88501),b=a(78403),m=a(65741),x=a.n(m),v=a(59175);let A={menu:()=>(0,s.cn)("bg-white dark:bg-black dark:border"),option:e=>(0,s.cn)({"!bg-primary/30":e.isFocused,"!bg-primary/60":e.isSelected}),control:()=>"bg-white dark:bg-black !min-h-[58px] !border-primary/30 !shadow-none",singleValue:()=>"dark:text-white"},y="bg-white dark:bg-transparent border-primary/70 w-full h-14 text-right pr-4 font-bold text-sm border focus:border-2  rounded-md outline-none ",defConvertArg=(e,t,a)=>"uint8"==a.type?parseInt((e||"").replaceAll(" ","")):a.type.startsWith("uint")?BigInt((e||"").replaceAll(" ","")):"bytes32"==a.type?(0,i.$G)(e,{size:32}):"bool"==a.type?"true"==e:e,convertArgs=(e,t,a)=>{try{return e.map((e,n)=>{let s=t[n];return a?a(e,n,s):defConvertArg(e,n,s)})}catch(e){return}};function Expandable(e){let{children:t,tit:a,disable:s}=e,[c,i]=(0,r.useState)(!1);return(0,n.jsxs)("div",{className:"flex flex-col w-full bg-white dark:bg-transparent rounded-lg overflow-hidden border border-solid border-primary/40",children:[(0,n.jsxs)("div",{className:"px-5 py-2 min-h-[58px] flex justify-between items-center text-sm",children:[(0,n.jsx)("div",{className:"font-medium text-base",children:a}),s?t:(0,n.jsxs)("div",{className:"px-2 py-1 rounded-full border border-solid border-primary flex items-center text-xs text-primary cursor-pointer ",onClick:()=>i(!c),children:[(0,n.jsx)("span",{className:"mr-[5px]",children:c?"Close":"Expand"}),c?(0,n.jsx)(l.iRh,{}):(0,n.jsx)(l.tv1,{})]})]}),(0,n.jsx)(o.Collapse,{isOpened:c,theme:{content:"bg-gray-200 dark:bg-transparent p-4 flex flex-col gap-2"},children:t})]})}function GeneralAction(e){var t,a;let{abi:o,address:l,functionName:i,tit:m,infos:A,convertArg:E,txProps:g,onArgs:h,argsDef:B}=e,C=o.find(e=>"function"==e.type&&e.name==i),N=(null==C?void 0:null===(t=C.inputs)||void 0===t?void 0:t.length)||0,[{args:S},k]=(0,c.Z)({args:"function"!=typeof B&&(null==B?void 0:B.length)==N&&N>0?B:Array(N).fill("")});(0,r.useEffect)(()=>{h&&h(S)},[S]);let T=(0,r.useRef)(0);(0,r.useEffect)(()=>{T.current++;let e=T.current;Promise.resolve(B).then(e=>"function"==typeof e?e():e||[]).then(t=>e==T.current&&k({args:S.map((e,a)=>e||t[a]||"")}))},[B]);let D=(0,v.p)(),{data:j,mutate:F,isPending:w}=(0,u.D)({mutationFn:async()=>await (0,b.B)(D).readContract({abi:o,address:l,functionName:i,...S.length?{args:convertArgs(S,C.inputs,E)}:{}}),onError:s.S3}),R="object"==typeof j?JSON.stringify(j,void 0,2):x()(j);if(!C)return;let O=C.stateMutability.includes("payable"),P=(!C.inputs||0==C.inputs.length)&&O,W=O?convertArgs(S,C.inputs,E):void 0;return(0,n.jsxs)(Expandable,{tit:m||i,disable:P,children:[null===(a=C.inputs)||void 0===a?void 0:a.map((e,t)=>(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("div",{className:"opacity-60 absolute top-1/2 left-2 -translate-y-1/2 text-xs",children:[e.name,"(",e.type,")"]}),(0,n.jsx)("input",{type:"text",value:S[t],onChange:e=>k({args:S.map((a,n)=>t==n?e.target.value:a)}),className:(0,s.cn)(y)})]},"input_".concat(t))),A,R,O?(0,n.jsx)(d.v,{...g||{},tx:"Write",config:{abi:o,address:l,functionName:i,...S.length?{args:W}:{}},disabled:(null==g?void 0:g.disabled)||!!S.length&&!W,className:(0,s.cn)("!mt-0 flex items-center justify-center gap-4",P?"max-w-[100px]":"w-full")}):(0,n.jsx)(p.k,{className:(0,f.m)("flex items-center justify-center gap-4",(0,s.cn)("!mt-0 flex items-center justify-center gap-4",P?"max-w-[100px]":"w-full")),onClick:()=>F(),busy:w,busyShowContent:!0,disabled:!1,children:"Read"})]})}function ContractAll(e){let{abi:t,address:a}=e,[s,o]=(0,r.useMemo)(()=>{let e=[],a=[];for(let n of t)if("function"==n.type){let t=n.stateMutability.includes("payable");t?a.push(n):e.push(n)}return[e,a]},[t]);return(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("div",{className:"font-bold text-2xl",children:"Read"}),s.map((e,t)=>(0,n.jsx)(GeneralAction,{abi:[e],address:a,functionName:e.name},"read_".concat(t)))]}),(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("div",{className:"font-bold text-2xl",children:"Write"}),o.map((e,t)=>(0,n.jsx)(GeneralAction,{abi:[e],address:a,functionName:e.name},"write_".concat(t)))]})]})}},44939:function(e,t,a){"use strict";a.d(t,{E:function(){return PageWrap}});var n=a(31113);a(64103);var s=a(26361),r=a(69708),o=a(12045);function PageWrap(e){let{children:t,className:a}=e,l=(0,o.l)(e=>e.theme),c=(0,r.usePathname)();return(0,n.jsx)("div",{className:(0,s.cn)("min-h-[calc(100vh+1px)] h-auto pt-[90px] pb-6",a),style:{backgroundSize:"contain",background:"light"==l?"#eeeeee":"/"==c?"url(bg_home.svg) center bottom no-repeat,linear-gradient(105.67deg, #02050E 14.41%, #1D2F23 98.84%)":"linear-gradient(105.67deg, #02050E 14.41%, #1D2F23 98.84%)"},children:t})}},36762:function(e,t,a){"use strict";a.d(t,{$:function(){return Spinner}});var n=a(31113),s=a(26361);let Spinner=e=>{let{className:t}=e;return(0,n.jsxs)("svg",{fill:"none",className:(0,s.cn)("animate-spin h-5 w-5 2-ml-1 2mr-3",t),viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}},60689:function(e,t,a){"use strict";a.d(t,{k:function(){return BBtn}});var n=a(31113),s=a(26361),r=a(83978),o=a.n(r),l=a(64103),c=a(36762);function BBtn(e){let{borderWidth:t=1,children:a,busy:r,busyShowContent:i=!0,className:d,hiddenBorder:u,...p}=e,f=(0,l.useRef)(null),[b,m]=(0,l.useState)("0_0"),x="unset",v="unset";if(f.current&&!u){let e=f.current,a=e.clientWidth,n=e.clientHeight,s=parseInt(getComputedStyle(e).borderRadius.replace("px","")),r="A".concat(s-t," ").concat(s-t," 0, 0, 1, ").concat(s," ").concat(t,"L").concat(a-s," ").concat(t),l="A".concat(s-t," ").concat(s-t," 0, 0, 1, ").concat(a-t," ").concat(s,"L").concat(a-t," ").concat(n-s),c="A".concat(s-t," ").concat(s-t," 0, 0, 1, ").concat(a-s," ").concat(n-t,"L").concat(s," ").concat(n-t," "),i="A".concat(s-t," ").concat(s-t," 0, 0, 1, ").concat(t," ").concat(n-s,"L").concat(t," ").concat(s),d="M ".concat(t," ").concat(s," ").concat(r," ").concat(l," ").concat(c," ").concat(i),u="M 0 0 L 0 ".concat(n," L ").concat(a," ").concat(n," L ").concat(a," 0 L 0 0 ").concat(d," Z");x="path('".concat(u,"')");let p=2*a,tranP=e=>o().round(e/2,2);v="radial-gradient(122.5% ".concat(o().round(122.5/(a/n),2),"% at ").concat(o().round((52.9*a+50*p-50*a)/p,2),"% ").concat(o().round((16.25*n+50*p-50*n)/p,2),"%, #15d264 0%, #2cbd35 ").concat(tranP(36.26),"%, #dcf45d ").concat(tranP(92.54),"%)")}return(0,l.useEffect)(()=>{let e=new ResizeObserver(()=>{var e,t;m("".concat((null===(e=f.current)||void 0===e?void 0:e.clientWidth)||0,"_").concat((null===(t=f.current)||void 0===t?void 0:t.clientWidth)||0))});return f.current&&e.observe(f.current),()=>{f.current&&e.unobserve(f.current)}},[f.current]),(0,n.jsxs)("button",{...p,ref:f,className:(0,s.cn)("group/bbtn relative px-3 cursor-pointer w-full transition-all leading-[2.375] ring-0 text-base text-black dark:text-white font-medium h-10 rounded-lg disabled:opacity-60 disabled:cursor-not-allowed bg-btn  dark:bg-btndark",{"hover:bg-btnhover dark:hover:bg-btndarkhover":!e.disabled},d),children:[!u&&(0,n.jsx)("div",{className:"absolute w-full h-full left-0 top-0 flex justify-center items-center rounded-lg overflow-hidden",style:{visibility:f.current?"visible":"hidden",clipPath:x},children:(0,n.jsx)("div",{className:(0,s.cn)("w-[200%] aspect-square shrink-0",{"dark:group-hover/bbtn:opacity-60":!e.disabled}),style:{background:v}})}),r&&(0,n.jsx)(c.$,{}),(i||!r)&&a]})}},87031:function(e,t,a){"use strict";a.d(t,{Fw:function(){return i},TE:function(){return l},_C:function(){return o}});var n=a(73216);let s={[n.BG.id]:"0x8685CE9Db06D40CBa73e3d09e6868FE476B5dC89",[n.On.id]:"0x4737c3BAB13a1Ad94ede8B46Bc6C22fb8bBE9c81"},r={[n.BG.id]:"0x97d82C639835F4EfaCC366fdE78CA0c4EC2a2A83",[n.On.id]:"0x7D3Cec2f46279229277802D30702e4E7FB19bAC0"},o={[n.BG.id]:"0x8685CE9Db06D40CBa73e3d09e6868FE476B5dC89",[n.On.id]:"0x8685CE9Db06D40CBa73e3d09e6868FE476B5dC89"},l={[n.BG.id]:"0x0e4aaf1351de4c0264c5c7056ef3777b41bd8e03",[n.On.id]:"0xFCBD14DC51f0A4d49d5E53C2E0950e0bC26d0Dce"},c={[n.BG.id]:"0xDf1126d3627b7f5D2a44d978A7180AcbD3c34aB6",[n.On.id]:"0x6E603014ACE3Ae06F34Ffe259106Af77c056d913"},i={[n.BG.id]:[{vault:"0x9700FEa232560E4048DD924623491926282125bE",asset:"0xd28d852cbcc68dcec922f6d5c7a8185dbaa104b7",assetSymbol:"HONEY-WBERA",pToken:"0x575287Cd8CB9A49e0EE00Bf0C71Eac337Ab8FeBa",pTokenSymbol:"pHONEY-BERA",yTokenSymbol:"yHONEY-BERA",protocolAddress:s[n.BG.id],protocolSettingsAddress:r[n.BG.id],bQueryAddres:c[n.BG.id],isOld:!0,onEnv:["beta"]},{vault:"0x5C88005534FB5C5B01445eC5bC944ebA0818554f",asset:"0xd28d852cbcc68dcec922f6d5c7a8185dbaa104b7",assetSymbol:"HONEY-WBERA",pToken:"0x19f4cE524268a01bfAFf8B433110d8304b096be0",pTokenSymbol:"pHONEY-BERA",yTokenSymbol:"yHONEY-BERA",protocolAddress:s[n.BG.id],protocolSettingsAddress:r[n.BG.id],bQueryAddres:c[n.BG.id],isOld:!0,onEnv:["beta"]},{vault:"0x9Ef9cE44c82111e967904059edf12701e17e6C03",asset:"0xd28d852cbcc68dcec922f6d5c7a8185dbaa104b7",assetSymbol:"HONEY-WBERA",pToken:"0x0C2553919748093b0760EA825C85dc5a72142932",pTokenSymbol:"pHONEY-BERA",yTokenSymbol:"yHONEY-BERA",protocolAddress:s[n.BG.id],protocolSettingsAddress:r[n.BG.id],bQueryAddres:c[n.BG.id],isOld:!0,onEnv:["beta","test"]},{vault:"0x77412b08bB3a8c38F7D0DC7D1158C5E7bfE03Eea",asset:"0xd28d852cbcc68dcec922f6d5c7a8185dbaa104b7",assetSymbol:"HONEY-WBERA",pToken:"0x02FEDe9cf47c3D8aCE52613C2a45bC588D4e0516",pTokenSymbol:"pHONEY-BERA",yTokenSymbol:"yHONEY-BERA",protocolAddress:s[n.BG.id],protocolSettingsAddress:r[n.BG.id],bQueryAddres:"0xEE723BD0bC2449678d37177B7D93cc69D1af4B6F",onEnv:["beta"]},{vault:"0xCC5AeD7b81dc45f02329Cc2Bf2c64B873D0be752",asset:"0xd28d852cbcc68dcec922f6d5c7a8185dbaa104b7",assetSymbol:"HONEY-WBERA",pToken:"0x05425F978a87DC80827f6c4a104FCbc6E9021ecc",pTokenSymbol:"pHONEY-BERA",yTokenSymbol:"yHONEY-BERA",protocolAddress:s[n.BG.id],protocolSettingsAddress:r[n.BG.id],bQueryAddres:"0xEE723BD0bC2449678d37177B7D93cc69D1af4B6F",onEnv:["beta"]},{vault:"0x12f5F1f53B419d1E5F3084E649001Ff091683ADc",asset:"0x0001513F4a1f86da0f02e647609E9E2c630B3a14",assetSymbol:"WBERA-YEET",pToken:"0x256938Bf1A340e6F80eAA35798b08a122783BEDF",pTokenSymbol:"pWBERA-YEET",yTokenSymbol:"yWBERA-YEET",rewardSymbol:"WBERA-YEET",protocolAddress:s[n.BG.id],protocolSettingsAddress:r[n.BG.id],bQueryAddres:"0xEE723BD0bC2449678d37177B7D93cc69D1af4B6F",onEnv:["beta"]},{vault:"0x6A2A4d8Fe425dC783e67b90d88922c5890BfA78c",asset:"0x0001513F4a1f86da0f02e647609E9E2c630B3a14",assetSymbol:"WBERA-YEET",pToken:"0x890FDA8E5ce053D34aaA64B23d250f9AF04979e4",pTokenSymbol:"pWBERA-YEET",yTokenSymbol:"yWBERA-YEET",yeetLiqSymbol:"LIQ-TRI-YEET",rewardSymbol:"LIQ-TRI-YEET",protocolAddress:s[n.BG.id],protocolSettingsAddress:r[n.BG.id],bQueryAddres:"0xEE723BD0bC2449678d37177B7D93cc69D1af4B6F",onEnv:["beta"]}],[n.On.id]:[{vault:"0x94822b9BA715E9e3079ed12489Dc7A016694FC67",asset:"0xdd70a5ef7d8cfe5c5134b5f9874b09fb5ce812b4",pToken:"0x0DA715b18AaF66c7c044D4F315D479f6036728Ea",pTokenV2:!0,assetSymbol:"WBERA-WETH",pTokenSymbol:"pWBERAWETH",yTokenSymbol:"yWBERAWETH",rewardSymbol:"iBGT",protocolAddress:"0x9F0956c33f45141a7D8D5751038ae0A71C562f87",protocolSettingsAddress:"0xE34e1C9FC5313D9ac4B121B5F93C51e619dd778A",bQueryAddres:c[n.On.id],onEnv:["test","prod"]},{vault:"0xE6d15592F337f54E8BD47e56BbB22aF12F0D4083",asset:"0xf961a8f6d8c69e7321e78d254ecafbcc3a637621",pToken:"0xc2C5EaDF0f48702bEEDD2e2a35517e1fC4dBF7A7",pTokenV2:!0,assetSymbol:"HONEY-USDC",pTokenSymbol:"pUSDCeHONEY",yTokenSymbol:"yUSDCeHONEY",rewardSymbol:"iBGT",protocolAddress:"0x9F0956c33f45141a7D8D5751038ae0A71C562f87",protocolSettingsAddress:"0xE34e1C9FC5313D9ac4B121B5F93C51e619dd778A",bQueryAddres:c[n.On.id],onEnv:["test","prod"]},{vault:"0x702B707c2F8dd26F4F1e51cF425035d355A02767",asset:"0xdE04c469Ad658163e2a5E860a03A86B52f6FA8C8",pToken:"0xA58f5A2487abaBc5c5A23E3e3796E6615d12FCaf",assetSymbol:"HONEY-BYUSD",pTokenSymbol:"pHONEYBYUSD",yTokenSymbol:"yHONEYBYUSD",rewardSymbol:"iBGT",protocolAddress:"0xd75Dc0496826FF0C13cE6D6aA5Bf8D64126E4fF1",protocolSettingsAddress:"0x45a47E8013425AF3e6e71f1aa24e3B8c523386EA",bQueryAddres:c[n.On.id],onEnv:["test","prod"]},{vault:"0x6686bDfF3ad20AE45E811c2451DfeE8AA0f338C0",asset:"0xdE04c469Ad658163e2a5E860a03A86B52f6FA8C8",pToken:"0x83f933af46458102cf54Eabe441DBB659a1B2eA5",assetSymbol:"HONEY-BYUSD",pTokenSymbol:"pHONEYBYUSD",yTokenSymbol:"yHONEYBYUSD",rewardSymbol:"iBGT",protocolAddress:s[n.On.id],protocolSettingsAddress:r[n.On.id],bQueryAddres:c[n.On.id],onEnv:["test","prod"]},{vault:"0x33C42E171cFD7Ec85D3dB34D7f6d3D8121f64E63",asset:"0xf961a8f6d8c69e7321e78d254ecafbcc3a637621",pToken:"0x70B851f6877D16D6D5aD546B17d06281b8aBDd4b",assetSymbol:"HONEY-USDC",pTokenSymbol:"pHONEY-USDC",yTokenSymbol:"yHONEY-USDC",rewardSymbol:"iBGT",protocolAddress:"0xc0fA386aE92f18A783476d09121291A1972C30Dc",protocolSettingsAddress:"0x8c6E434Bb1C51728BdCc250255c1F654471d85eB",bQueryAddres:c[n.On.id],onEnv:["test","prod"]}]}},95889:function(e,t,a){"use strict";a.d(t,{EI:function(){return s},f_:function(){return o}});var n=a(51186);let s=3,r={[n.F.id]:"0x31C410AEF663FEbDD7A2F1cCF0a4487CDcD56fdA"},o={[n.F.id]:[{vault:"0xEF14D1D8128f496f798f6721713D41070F17A727",asset:"0x2020cAB606cF79169A0f3F6Eb3E710326C4a4C1B",assetName:"Era NFT",assetSymbol:"ERA",assetLogo:"",vestingToken:"0xa10519209B4F6c8Ec22Fda6733a103D3e24F4C39",vestingSymbol:"MkRC20",vestingDecimals:18,vToken:"0x0A126144121Db990a066d63b02589D68104909cF",vTokenSymbol:"vERA",yTokenSymbol:"yERA",protocolAddress:"0x896774931349919B71Ec251CCbA1C6AB1FEb45C4",protocolSettingsAddress:"0xD91C388453042a2214Ad085df76A9E08Bc701f23",queryAddres:r[n.F.id],nftStakingPool:"0x73FA161A679020872356Eea8B6648F3D026228D1",onEnv:["betalnt"]}]}},15506:function(e,t,a){"use strict";a.d(t,{D2:function(){return useWandContractRead},uX:function(){return useWandContractReads}}),a(78403);var n=a(83978),s=a.n(n);a(64103);var r=a(30308),o=a(59307),l=a(93108);let c=(0,l.Ue)(e=>({time:s().now(),update:()=>{e({time:s().now()})}}));function useWandContractRead(e){let{time:t}=c();return(0,r.u)({...e,query:{placeholderData:e=>e,refetchOnMount:!1,refetchOnWindowFocus:!1,...e.query||{}},wandtime:t})}function useWandContractReads(e){let{time:t}=c();return(0,o.N)({...e,query:{placeholderData:e=>e,refetchOnMount:!1,refetchOnWindowFocus:!1,...e.query||{}},wandtime:t})}}},function(e){e.O(0,[7495,4881,7622,3979,7988,4401,4408,3505,9160,1445,1228,6874,6499,7093,604,1744],function(){return e(e.s=7075)}),_N_E=e.O()}]);