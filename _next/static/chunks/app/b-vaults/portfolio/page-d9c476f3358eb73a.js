(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3161],{98142:function(e,t,n){Promise.resolve().then(n.bind(n,29138))},29138:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Dashboard}});var s=n(31113),l=n(59781),i=n(93680),a=n(26537),o=n(95702),r=n(30639),c=n(4283),d=n(44939),u=n(75496);n(6371);var p=n(87031),m=n(44020),x=n(19757),v=n(22139),g=n(59175),h=n(31889),f=n(26361),b=n(55349),S=n(18358),T=n(39577),j=n(36602),E=n(84944),B=n(83978),y=n.n(B),I=n(69708),C=n(64103),N=n(55746);function PortfolioItem(e){let{title:t,sub:n,tHeader:l,tData:i,tableProps:a}=e;return(0,s.jsxs)("div",{className:"card whitespace-nowrap",children:["string"==typeof t?(0,s.jsx)("div",{className:"text-2xl leading-none font-semibold",children:t}):t,"string"==typeof n?(0,s.jsx)("div",{className:"text-[2rem] text-primary leading-none font-semibold mt-2",children:n}):n,(0,s.jsx)("div",{className:"my-4 h-[1px] bg-border/60 dark:bg-border"}),(0,s.jsx)("div",{className:"w-full overflow-x-auto",children:(0,s.jsx)(u.ZP,{headerClassName:"border-b-0",tbodyClassName:"text-sm font-medium",header:l,data:i,...a||{}})})]})}let w={BeraLine:i.Z,BullLine:a.Z,PandaLine:r.Z,VenomLine:c.Z};function IconTitle(e){let t=w[e.icon];return(0,s.jsxs)("div",{className:"flex text-2xl leading-none font-semibold items-center gap-4",children:[(0,s.jsx)(t,{className:"text-[2rem]",showbg:!0}),(0,s.jsx)("span",{children:e.tit})]})}function CoinText(e){return(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsx)(o.cL,{symbol:e.symbol,size:e.size||20}),(0,s.jsx)("span",{children:e.txt||e.symbol})]})}function InterestItem(){let{apr:e,aprDecimals:t}=(0,T.UM)(),n=(0,g.p)(),l=(0,j.ln)(),i=l[x.O1[n]],a=i*e/365n/10n**BigInt(t);return(0,s.jsx)(PortfolioItem,{title:(0,s.jsx)(IconTitle,{tit:"Interest Bear",icon:"BeraLine"}),tHeader:["","Balance","APY","Est. Yield/day"],tData:[[(0,s.jsx)(CoinText,{symbol:x.TW},"icon"),(0,E.d)(i),(0,f.Jh)(e,t),(0,E.d)(a)]]})}function PrincipalItem(){let e=(0,I.useRouter)(),t=(0,g.p)(),n=(0,C.useMemo)(()=>p.Fw[t].filter(e=>(e.onEnv||[]).includes(v.Vi)),[t]),i=(0,C.useMemo)(()=>{let t=b.w.getState(),inRedeem=e=>(t.sliceUserBVaults.epoches[e.vault]||[]).reduce((e,t)=>e+t.redeemingBalance,0n),claimAble=e=>(t.sliceUserBVaults.epoches[e.vault]||[]).reduce((e,t)=>e+t.claimableAssetBalance,0n),yieldDay=e=>{let n=t.sliceTokenStore.balances[e.pToken]||0n;return(0,S.lL)(e)*n/10n**10n/365n},i=n.map(e=>{var n,s,l;let i=t.sliceTokenStore.balances[e.pToken]||0n,a=inRedeem(e),o=claimAble(e),r=i+a+o,c=m.P[e.asset],[d,u]=c?e.assetSymbol.split("-"):["",""],p=(null===(n=t.sliceBVaultsStore.bvaults[e.vault])||void 0===n?void 0:n.lpLiq)||0n,x=(null===(s=t.sliceBVaultsStore.bvaults[e.vault])||void 0===s?void 0:s.lpBase)||0n,v=(null===(l=t.sliceBVaultsStore.bvaults[e.vault])||void 0===l?void 0:l.lpQuote)||0n,g=c&&p&&x&&r?r*x/p:0n,h=c&&p&&v&&r?r*v/p:0n,f=(0,E.d)(r);return{bvc:e,pBalance:i,pRedeeming:a,pClaimAble:o,lp:c,baseSymbol:d,quoteSymbol:u,uBase:g,uQuote:h,pTotalUser:r,fmtTotalUser:f}}).filter(e=>e.pTotalUser>0n),a=i.reduce((e,t)=>Math.max(e,t.fmtTotalUser.length),0),o=Math.round(5*a+20);return i.map(t=>{let{bvc:n,pBalance:i,pRedeeming:a,pClaimAble:r,lp:c,fmtTotalUser:d,baseSymbol:u,quoteSymbol:p,uBase:m,uQuote:x}=t;return[(0,s.jsx)(CoinText,{symbol:n.assetSymbol,txt:n.pTokenSymbol,size:32},"coin"),(0,E.d)(i),(0,E.d)(a),(0,s.jsxs)("div",{className:"flex w-fit cursor-pointer items-center gap-2 underline",onClick:()=>(0,l.rc)(e,n.vault,"principal_panda","claim"),children:[(0,E.d)(r),(0,s.jsx)(N.HV3,{})]},"claim"),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{style:{width:o},children:d}),c&&(0,s.jsxs)("div",{children:[(0,s.jsx)(CoinText,{size:14,symbol:u,txt:(0,E.d)(m)}),(0,s.jsx)(CoinText,{size:14,symbol:p,txt:(0,E.d)(x)})]})]},"total"),(0,f.Jh)((0,S.lL)(n),10),(0,E.d)(yieldDay(n))]})},[n,b.w.getState()]);return(0,s.jsx)(PortfolioItem,{title:(0,s.jsx)(IconTitle,{tit:"Principal Panda",icon:"PandaLine"}),tHeader:["","Balance","In Redemption","Claimable","Total Amount","APY","Est.Yield/day"],tData:i})}function BoostItem(){let e=(0,I.useRouter)(),t=(0,g.p)(),n=(0,C.useMemo)(()=>p.Fw[t].filter(e=>(e.onEnv||[]).includes(v.Vi)),[t]),i=(0,C.useMemo)(()=>{let t=b.w.getState(),epochInfo=(e,n)=>t.sliceBVaultsStore.epoches["".concat(e,"_").concat(n)],i=n.map(e=>{let n=t.sliceUserBVaults.epoches[e.vault]||[],s=n.map(n=>{var s;return{...n,epochInfo:epochInfo(e.vault,parseInt(n.epochId.toString())),settled:(null===(s=t.sliceBVaultsStore.epoches["".concat(e.vault,"_").concat(parseInt(n.epochId.toString()))])||void 0===s?void 0:s.settled)||!1}}).filter(e=>!!e.epochInfo);return{bvc:e,epochsData:s}}).filter(e=>e.epochsData.length);return i.map(t=>{let{bvc:n,epochsData:i}=t;return[(0,s.jsx)(CoinText,{symbol:n.assetSymbol,txt:n.yTokenSymbol,size:32},"coin"),(0,s.jsx)("div",{children:i.map(e=>(0,s.jsxs)("div",{className:"flex items-baseline",children:[(0,s.jsxs)("div",{className:"w-[4rem]",children:["Epoch ",e.epochId.toString()]}),(0,s.jsxs)("div",{className:"opacity-60 text-xs",children:[(0,f.G$)(1000n*e.epochInfo.startTime)," - ",(0,f.G$)((e.epochInfo.startTime+e.epochInfo.duration)*1000n)]})]},e.epochId.toString()))},"epochs"),(0,s.jsx)("div",{children:i.map(e=>(0,s.jsx)("div",{children:(0,E.d)(e.userBalanceYToken)},e.epochId.toString()))},"amount"),(0,s.jsx)("div",{children:i.map(e=>(0,s.jsx)("div",{children:(0,E.d)(e.userBalanceYTokenSyntyetic,void 0,23)},e.epochId.toString()))},"time weighted"),(0,s.jsx)("div",{children:i.map(t=>(0,s.jsx)("div",{children:t.settled?(0,s.jsxs)("div",{className:"flex w-fit cursor-pointer items-center gap-2 underline",onClick:()=>(0,l.rc)(e,n.vault,"boost_venom"),children:["Ready to Harvest",(0,s.jsx)(N.HV3,{})]},"claim"):"Ongoing"},t.epochId.toString()))},"status")]})},[n,b.w.getState()]);return(0,s.jsx)(PortfolioItem,{title:(0,s.jsx)(IconTitle,{tit:"Boost Venom",icon:"VenomLine"}),tHeader:["","Epoch","YT Balance","YT Points","Status"],tData:i,tableProps:{cellClassName:(e,t)=>0==t?"flex flex-col":"leading-[30px]"}})}function StakedPoolsItem(){let e=(0,g.p)(),t=x.iK[e]||[],n=b.w.getState().sliceLVaultsStore,l=(0,C.useMemo)(()=>{let e=t.map(e=>{var t;return(null===(t=n.user[e.vault])||void 0===t?void 0:t.buyPool_userStakingBalance)||0n}).reduce((e,t)=>e+t,0n),l=[(0,s.jsxs)("div",{className:"flex gap-6 items-center",children:[(0,s.jsx)(CoinText,{symbol:x.TW}),(0,s.jsx)("span",{children:(0,E.d)(e)})]},"usb")],i=t.map(e=>{var t;return(0,s.jsxs)("div",{className:"flex gap-6 items-center",children:[(0,s.jsx)(CoinText,{symbol:e.assetTokenSymbol}),(0,s.jsx)("span",{children:(0,E.d)((null===(t=n.user[e.vault])||void 0===t?void 0:t.sellPool_userStakingBalance)||0n)})]},e.assetTokenSymbol)}),a=y().chunk([...l,...i],3).map(e=>3==e.length?e:y().fill(e,"",3-e.length));return a},[t,n]);return(0,s.jsx)(PortfolioItem,{title:"Staked in BuyLow/Sell High",tHeader:["","",""],tData:l})}function Dashboard(){(0,h.a1)(),(0,h.Ev)(),(0,h.z2)(),(0,h.g2)();let e=(0,g.p)();return(0,s.jsx)(d.E,{children:(0,s.jsxs)("div",{className:"w-full max-w-[1200px] px-4 mx-auto flex flex-col gap-5 md:pb-8",children:[80094!==e&&(0,s.jsx)(InterestItem,{}),(0,s.jsx)(PrincipalItem,{}),(0,s.jsx)(BoostItem,{}),80094!==e&&(0,s.jsx)(StakedPoolsItem,{})]})})}},95702:function(e,t,n){"use strict";n.d(t,{cL:function(){return CoinIcon},rw:function(){return DoubleCoinIcon}});var s=n(31113),l=n(26758),i=n(26361);let a={BERA:"BERA.svg",balance:"balance.png",berachain:"berachain.svg",berahub:"berahub.svg",bg_home:"bg_home.svg",blackLine:"blackLine.svg",Bull:"Bull.svg",coin:"coin.png",discord:"discord.png",discount:"discount.png",ETH:"ETH.svg",ethfi:"ethfi.png",ETHx:"ETHx.svg",galxe:"galxe.png",gift:"gift.png",gold:"gold.png",greenCycle:"greenCycle.png",GreenDot:"GreenDot.svg","HONEY-USDC":"HONEY-USDC.svg","USDC-HONEY":"HONEY-USDC.svg","HONEY-WBERA":"HONEY-WBERA.webp","HONEY-WBTC":"HONEY-WBTC.svg","HONEY-WETH":"HONEY-WETH.svg",HONEY:"HONEY.svg",iBGT:"iBGT.webp",iRED:"iRED.svg","logo-alt":"logo-alt.svg",Panda:"Panda.svg",piRED:"piRED.svg","status-green":"status-green.svg","status-red":"status-red.svg",twitter:"twitter.png",USDC:"USDC.svg",USDCx:"USDCx.svg",USDT:"USDT.svg",Venom:"Venom.svg",WBERA:"WBERA.svg",WBTC:"WBTC.svg",WBTCx:"WBTCx.svg",weeth:"weeth.png",weETH:"weETH.svg",weETHx:"weETHx.svg",WETH:"WETH.svg",xBERA:"xBERA.svg",xiBGT:"xiBGT.svg",yiRED:"yiRED.svg",ZUSD:"ZUSD.svg",BYUSD:"BYUSD.webp",Fire:"Fire.png",Lnfi:"lnfi.png",Reppo:"reppo.png",Enreach:"enreach.svg",Aethir:"Aethir.svg",Nodeops:"Nodeops.svg",ReppoNft:"ReppoNft.png"};function CoinIconImpl(e){let{symbol:t,size:n=48,url:o,style:r,...c}=e,d=a[t],u="".concat(l.G,"/").concat(d);return d||o?(0,s.jsx)("img",{...c,style:{width:n,height:n,...r||{}},className:(0,i.cn)(c.className),width:n,height:n,src:d?u:o,alt:t}):(0,s.jsxs)("svg",{...c,width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("text",{className:"fill-primary/60",width:"20",x:"12",y:"12",textAnchor:"middle",fontSize:12,dominantBaseline:"middle",children:t.slice(0,2)}),(0,s.jsx)("circle",{className:"stroke-primary/60",cx:"12",cy:"12",r:"11.5",strokeWidth:1})]})}let o=["logo-alt","status-green","status-red"];function DoubleCoinIcon(e){let{symbol1:t,symbol2:n,size:l=48,url1:a,url2:o,className:r}=e;return(0,s.jsxs)("div",{className:(0,i.cn)("flex items-center",r),children:[(0,s.jsx)(CoinIconImpl,{symbol:t,size:l,url:a}),(0,s.jsx)(CoinIconImpl,{symbol:n,size:l,url:o,style:{marginLeft:"-30%"}})]})}function CoinIcon(e){let{symbol:t,size:n=48,url:l,...i}=e;if(t.includes("-")&&!o.includes(t)){let[e,l]=t.split("-");return(0,s.jsx)(DoubleCoinIcon,{...i,symbol1:e,symbol2:l,size:n})}return(0,s.jsx)(CoinIconImpl,{...i,symbol:t,size:n,url:l})}},44939:function(e,t,n){"use strict";n.d(t,{E:function(){return PageWrap}});var s=n(31113),l=n(26361);n(64103);var i=n(12045);function PageWrap(e){let{children:t,className:n}=e;return(0,i.l)(e=>e.theme),(0,s.jsx)("div",{className:(0,l.cn)("h-auto pt-[30px] pb-6",n),children:t})}},88439:function(e,t,n){"use strict";n.d(t,{b:function(){return useMemoOfChainId}});var s=n(64103),l=n(59175);function useMemoOfChainId(e){let t=(0,l.p)(),n=(0,s.useRef)({});return(0,s.useMemo)(()=>(n.current[t]||(n.current[t]=e()),n.current[t]),[t])}},39577:function(e,t,n){"use strict";n.d(t,{$$:function(){return useSetLVaultPrices},UM:function(){return useUSBApr}});var s=n(19757),l=n(22139),i=n(59175);n(88439);var a=n(26361),o=n(55349);let r=(0,a.Yb)({vaultMode:0,discountEnable:!1},0n);function useSetLVaultPrices(e){var t;let n=(0,o.o)(e=>e.sliceLVaultsStore.lvaults),a=(0,o.o)(e=>e.sliceTokenStore.totalSupply),c=(0,i.p)();null===(t=s.iK[c])||void 0===t||t.forEach(t=>{let i=n[t.vault]||r,o=i.assetBalance,d=i.latestPrice,u=i.usbTotalSupply,p=a[t.xTokenAddress]||0n,m=p>0n&&o>0n&&d>0n&&u>0n&&o*d>u*l.Pq?(o*d-u*l.Pq)/p:0n;e[t.xTokenAddress]=m,e[t.assetTokenAddress]=d,p>0n&&o>0n&&d>0n&&u>0n&&o*d<u*l.Pq&&(e[s.O1[c]]=o*d/u)})}function useUSBApr(){var e;let t=(0,i.p)(),n=(0,o.o)(e=>e.sliceLVaultsStore.lvaults),l=0,a=0n,c=0n;return null===(e=s.iK[t])||void 0===e||e.forEach(e=>{let t=n[e.vault]||r;t.isStable?(a+=t.M_USB_USDC*t.Y*t.aar/10n**t.AARDecimals,c+=t.M_USB_USDC,t.M_USB_USDC>0n&&t.Y>0n&&l++):(a+=t.M_USB_ETH*t.Y,c+=t.M_USB_ETH,t.M_USB_ETH>0n&&t.Y>0n&&l++)}),{apr:c>0n?a/c:0n,aprDecimals:10}}(0,a.Yb)({},0n)},45236:function(e,t,n){"use strict";n.d(t,{s:function(){return parseAbiItem}});var s=n(1352),l=n(38026),i=n(42145),a=n(98702);function parseAbiItem(e){let t;if("string"==typeof e)t=(0,a.cK)(e);else{let n=(0,i.D)(e),s=e.length;for(let i=0;i<s;i++){let s=e[i];if(!(0,l.N0)(s)){t=(0,a.cK)(s,n);break}}}if(!t)throw new s.a_({signature:e});return t}},51186:function(e,t,n){"use strict";n.d(t,{F:function(){return l}});var s=n(61070);let l=(0,s.a)({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.sepolia.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0})}},function(e){e.O(0,[7495,4881,7622,3113,3560,3183,3606,8410,7115,313,6499,2831,7883,7093,604,1744],function(){return e(e.s=98142)}),_N_E=e.O()}]);