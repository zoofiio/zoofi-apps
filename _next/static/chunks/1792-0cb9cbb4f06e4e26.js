"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1792],{27022:function(t,e,n){var a=n(52987),r=n(13854),i=n(21532);function DefEmpty(){return(0,a.jsx)("tr",{className:"text-lg font-normal text-center text-black ",children:(0,a.jsx)("td",{colSpan:100,className:"h-[100px] py-5 align-top"})})}n(77317),e.ZP=t=>{let{header:e,data:n,span:o={},empty:c=(0,a.jsx)(DefEmpty,{}),className:u,headerClassName:s,headerItemClassName:l,tbodyClassName:d="",rowClassName:f,rowStyle:p,cellClassName:h,onClickRow:y,onRowMouseHover:m}=t,g=e.reduce((t,e,n)=>{var a;return t+(null!==(a=o[n])&&void 0!==a?a:1)},0),v=g>0?100/g:0;return(0,a.jsxs)("table",{className:(0,r.cn)("relative w-full bg-transparent ",u),children:[(0,a.jsx)("thead",{className:"",children:(0,a.jsx)("tr",{className:(0,r.cn)("text-left whitespace-nowrap font-normal text-black border-b border-gray-100 pt-5 pb-6 dark:text-slate-50 dark:border-zinc-600",s),children:e.map((t,e)=>{var n;return(0,a.jsx)("th",{style:{width:"".concat((0,i.G)(v*(null!==(n=o[e])&&void 0!==n?n:1),2),"%")},scope:"col",className:(0,r.cn)(0==o[e]?"p-0 w-0":"p-3 font-normal text-sm","function"==typeof l?l(e):l),children:t},e)})})}),(0,a.jsxs)("tbody",{className:(0,r.cn)(d),children:[n.map((t,n)=>(0,a.jsx)("tr",{onClick:()=>y&&y(n),onMouseEnter:()=>m&&m(n),onMouseLeave:()=>m&&m(-1),style:"function"==typeof p?p(n):p,className:(0,r.cn)("text-slate-700 dark:text-slate-50 font-medium whitespace-nowrap",y?"cursor-pointer hover:bg-slate-400/10":"","function"==typeof f?f(n):f),children:t.map((t,i)=>i>=e.length?(0,a.jsx)(a.Fragment,{children:t}):(0,a.jsx)("td",{className:(0,r.cn)(0==o[i]?"p-0 w-max":"px-3 py-2 text-sm w-max",{"flex items-center gap-2":0==i},"function"==typeof h?h(n,i):h),children:t},i))},n)),0===n.length&&c]})]})}},54381:function(t,e,n){n.d(e,{E3:function(){return opsOrderAethir},PX:function(){return getLntVaultActivityPage},UV:function(){return modifyOpsAdmins},Wn:function(){return getTokensPriceByPyth},ZK:function(){return getNftTokensIdsByUser},_V:function(){return getOpsAethirRewards},_c:function(){return getBvaultsPtSynthetic},bY:function(){return getNftsByAlchemy},bi:function(){return getOpsStatsAethir},l6:function(){return getBvaultEpochYtPrices},mX:function(){return getOpsAdmins},op:function(){return getLntVaultVTPriceApy},oz:function(){return getNftsByZoofi}});var a=n(83606),r=n(61469),i=n(52468),o=n(78784),c=n(53414);let getBvaultEpochYtPrices=(t,e,n)=>o.ZP.get(t,"/api/bvault/getEpochYTPrices/".concat(e,"/").concat(n)),getBvaultsPtSynthetic=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return o.ZP.post(t,"/api/bvault/batchGetEpochPtSynthetic",{bvaults:e})},getNftTokensIdsByUser=(t,e,n)=>o.ZP.post(t,"/api/nft/".concat(n,"/tokenIds"),{tokens:e}),getNftsByZoofi=(t,e,n)=>o.ZP.get(t,"/api/nft/erc721Balance/".concat(t,"/").concat(e,"/").concat(n)),getLntVaultVTPriceApy=(t,e,n,a)=>o.ZP.get(t,"/api/lnt/vt-price-apy/".concat(e,"/").concat(n,"/").concat(a)),getLntVaultActivityPage=function(t,e,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;return o.ZP.get(t,"/api/lnt/activity/page/".concat(e),{page:n,size:a})},u={"0x962088abcfdbdb6e30db2e340c8cf887d9efb311b1f2f17b155a63dbb6d40265":["0x6969696969696969696969696969696969696969","0x0000000000000000000000000000000000000000"],"0xf67b033925d73d43ba4401e00308d9b0f26ab4fbd1250e8b5407b9eaade7e1f4":["0xFCBD14DC51f0A4d49d5E53C2E0950e0bC26d0Dce"],"0xc929105a1af143cbfc887c4573947f54422a9ca88a9e622d151b8abdf5c2962f":["0xac03CABA51e17c86c921E1f6CBFBdC91F8BB2E6b"],"0x2b89b9dc8fdf9f34709a5b106b472f0f39bb6ca9ce04b0fd7f2e971688e2e53b":["0x779Ded0c9e1022225f8E0630b35a9b54bE713736"],"0xeaa020c61cc479712813461ce153894a96a6c00b21ed0cfc2798d1f9a9e9c94a":["0x549943e04f40284185054145c6E4e9568C1D3241"],"0x00456705ae9007ea761e95c724035a23a62fe9e444bbc744e11af7f050ab53c3":["0x688e72142674041f8f6Af4c808a4045cA1D6aC82"],"0x9d4294bbcd1174d6f2003ec365831e64cc31d9f6f15a2b85399db8d5000960f6":["0x2F6F07CDcf3588944Bf4C42aC74ff24bF56e7590"],"0xeb943c0b5c9e02a529f799ac91070c3b7046f9412f3e5b0a90ba00267b838f34":["0x9b6761bf2397Bb5a6624a856cC84A3A14Dcd3fe5"]},getTokensPriceByPyth=async()=>{let t=(0,r.X)(u),e=await a.Z.get("https://hermes.pyth.network/v2/updates/price/latest",{params:{"ids[]":t}}),n=e.data.parsed,o={};for(let t of n){let e=(0,i.v)(t.price.price,18+t.price.expo);for(let n of u["0x".concat(t.id)])o[n]=e}return o},s={[c.Fo.id]:"eth-sepolia",[c.ue.id]:"base-mainnet",[c.On.id]:"berachain-mainnet",[c.yX.id]:"arb-mainnet"},getNftsByAlchemy=async(t,e,n)=>{let r;if(!s[t])throw Error("Not Support");let i=[];for(;;){let{pageKey:o,nfts:c}=await function(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return a.Z.get("https://".concat(s[t],".g.alchemy.com/nft/v3/7UXJgo01vxWHLJDk09Y0qZct8Y3zMDbX/getNFTsForOwner?owner=").concat(n,"&contractAddresses[]=").concat(e,"&pageSize=").concat(i),{params:r?{pageKey:r}:{}}).then(t=>({pageKey:t.data.pageKey,nfts:t.data.ownedNfts.map(t=>t.tokenId)}))}();if(i=i.concat(c),!o)break;r=o}return i},getOpsAdmins=(t,e)=>o.ZP.get(t,"/api/ops/admins",{},{headers:{Authorization:e}}),modifyOpsAdmins=(t,e,n)=>o.ZP.post(t,"/api/ops/modify-admins",n,{headers:{Authorization:e}}),getOpsStatsAethir=(t,e)=>o.ZP.get(t,"/api/ops/nodeops-stats-aethir",{},{headers:{Authorization:e}}),opsOrderAethir=(t,e,n)=>o.ZP.post(t,"/api/ops/nodeops-order/".concat(n),{},{headers:{Authorization:e}}),getOpsAethirRewards=(t,e)=>o.ZP.get(t,"/api/ops/aethir-rewards",{},{headers:{Authorization:e}})},53080:function(t,e,n){n.d(e,{A_:function(){return calcTPriceVT},SL:function(){return useLntWithdrawPrice},VM:function(){return useLntVaultLogs},WB:function(){return useLntHookPoolkey},hD:function(){return useLntVaultOperators},jY:function(){return useLntVault},lQ:function(){return useLntVaultTimes},p2:function(){return useLntVaultWithdrawState},ph:function(){return calcLPApy},qu:function(){return calcVtApy},ze:function(){return useLntVaultYTRewards}});var a=n(55645),r=n(68705),i=n(7347),o=n(96555),c=n(27092),u=n(13854),s=n(62013),l=n(80329),d=n(14848),f=n(37974),p=n(82790),h=n(42302);function useLntVault(t){return(0,c.B8)({key:"fetLntVault:".concat(t.vault),fetfn:async()=>{let e=(0,s.B)(t.chain),{lntdata:n,...i}=await (0,u.S0)({lntdata:e.readContract({abi:a.KA,code:r.f,functionName:"queryLntVault",args:[t.vault]}),expiryTime:t.isAethir?e.readContract({abi:a.qU,address:t.vault,functionName:"vtPriceEndTime"}):Promise.resolve(1784968222n),startTime:t.isAethir?e.readContract({abi:a.qU,address:t.vault,functionName:"vtPriceStartTime"}):Promise.resolve(1750840222n)});return{...n,...i}}})}function useLntWithdrawPrice(t){return(0,c.B8)({key:"LntWithdrawPrice:".concat(t.vault),initResult:0n,fetfn:async()=>(0,s.B)(t.chain).readContract({abi:a.KA,code:r.f,functionName:"calcRedeem",args:[t.vault,1n]})})}function useLntHookPoolkey(t){var e,n;let r=useLntVault(t);return(0,c.B8)({key:(n=null===(e=r.result)||void 0===e?void 0:e.vtSwapPoolHook)&&n!==p.DR?"LntHookPoolkey:".concat(t.vault,":").concat(n):"",fetfn:async()=>(0,s.B)(t.chain).readContract({abi:a.$6,address:r.result.vtSwapPoolHook,functionName:"poolKey"})})}async function getRewardsBy(t,e,n){return n.readContract({abi:a.KA,code:r.f,functionName:"earned",args:[t,e]}).then(t=>t.map(t=>[t.token,t.value]))}function useLntVaultYTRewards(t){var e,n;let a=useLntVault(t),{address:r}=(0,h.m)(),i=(0,c.B8)({key:(n=null===(e=a.result)||void 0===e?void 0:e.YT)&&n!==p.DR&&r?"fetLntVaultYTRewards:".concat(n,":").concat(r):"",fetfn:async()=>{let e=(0,s.B)(t.chain);return getRewardsBy(a.result.YT,r,e)}});return"fetching"===a.status&&(i.status="fetching"),i}function useLntVaultOperators(t){var e;let n=useLntVault(t),r=(0,c.B8)({key:(e=t.MockNodeDelegator)?"fetLntVaultOperators:".concat(e):"",initResult:[],fetfn:async()=>{let e=(0,s.B)(t.chain),n=await e.readContract({abi:a.zK,address:t.MockNodeDelegator,functionName:"operators"});return Promise.all(n.map(n=>e.readContract({abi:a.zK,address:t.MockNodeDelegator,functionName:"getOperatorInfo",args:[n]}).then(t=>{let[e,a]=t;return{address:n,capacity:e,delegations:a}})))}});return"fetching"===n.status&&(r.status="fetching"),r}function useLntVaultTimes(t){var e,n,a;let r=useLntVault(t),i=(0,l.N)((0,d.z)()/1e3),o=(0,f.H)((null!==(n=t.startTime)&&void 0!==n?n:0n).toString()),c=(0,f.H)((null!==(a=null===(e=r.result)||void 0===e?void 0:e.expiryTime)&&void 0!==a?a:0n).toString()),s=c>o?Math.min(Math.max((i-o)*100/(c-o),0),100):100,p="".concat((0,l.N)(s,2),"%"),h=(0,u.Y)((c-i)*1e3);return{progressPercent:p,remain:h,remainStr:"~ ".concat(h," remaining")}}function useLntVaultLogs(t){return(0,c.B8)({key:"LntVaultLogs:".concat(t.vault),fetfn:async()=>(0,s.B)(t.chain).readContract({abi:a.KA,code:r.f,functionName:"getLog",args:[t.vault]})})}function useLntVaultWithdrawState(t){let e=(0,c.B8)({key:t.isAethir?"LntWithdrawWindows:".concat(t.vault):"",initResult:[],fetfn:async()=>{let e=(0,s.B)(t.chain),n=await e.readContract({abi:a.qU,address:t.vault,functionName:"redeemStrategy"}),r=await e.readContract({abi:a.T_,address:n,functionName:"canRedeem"});if(r)return[{startTime:(0,u.M_)(),duration:10000000000n}];let i=await e.readContract({abi:a.T_,address:n,functionName:"redeemTimeWindowsCount"}),[o,c]=await e.readContract({abi:a.T_,address:n,functionName:"redeemTimeWindows",args:[0n,i]});return o.map((t,e)=>({startTime:t,duration:c[e]})).sort((t,e)=>t.startTime>e.startTime?1:t.startTime<e.startTime?-1:0)}}),n=(0,u.M_)(),r=e.result.findIndex(t=>t.startTime<=n&&n<=t.startTime+t.duration),i=!t.isAethir||r>=0;return{inWindow:i,wWindow:i&&t.isAethir?e.result[r]:void 0,nWindow:r<0?e.result.find(t=>t.startTime>n):void 0}}function calcTPriceVT(t,e,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0n,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0n;if(!n||!e)return 0;let o=(0,i.kb)(e.T,t.chain),c=(0,i.kb)(e.VT,t.chain),s=(0,u.pF)(n.t+a,o.decimals),l=(0,u.pF)(n.vt+r,c.decimals),d=(0,u.pF)(n.R,18),f=s+l>0?Math.min(l/(s+l),1):0,p=(0,u.pF)(n.rateScalar,18),h=(0,u.pF)(n.rateAnchor,18);return 0!=p&&1-f!=0?Math.log(f/(1-f)/d)/p+h:0}function calcVtApy(t,e,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0n,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0n;if(!n||!e)return 0;let i=calcTPriceVT(t,e,n,a,r),c=!e||e.expiryTime<=(0,u.M_)()?0:(0,u.pF)((e.expiryTime-(0,u.M_)())*10000n/o.SH,4);return Math.pow(i,1/c)-1}function calcLPApy(t,e,n){let a=0,r=0;if(n&&e){let o=calcVtApy(t,e,n),c=calcTPriceVT(t,e,n),s=(0,u.pF)(n.vt,(0,i.kb)(e.VT,t.chain).decimals),l=(0,u.pF)(n.t,(0,i.kb)(e.T,t.chain).decimals);a=s/(l*c+s)*o,r=0/(s/c+l)}return{apy:a+r+0,items:[{name:"VT APY",value:a},{name:"SwapFee",value:r},{name:"Airdrop",value:0}]}}},27092:function(t,e,n){n.d(e,{B8:function(){return useFet},VZ:function(){return isError},d6:function(){return isSuccess},hg:function(){return isLoading},iM:function(){return reFet}});var a=n(96555),r=n(13854),i=n(68495),o=n.n(i),c=n(77317);let u={},s={};function initFS(t){return{key:t.key,status:"idle",result:t.initResult,lastUpDate:0}}let l=new(o());async function runFetImpl(t){var e,n;let a=u[t.key].runId,i=Object.hasOwn(s,t.key),o=null!==(e=t.retry)&&void 0!==e?e:3;for(;o>0;){o--;try{if(a!==u[t.key].runId)break;let e=await (i?"function"==typeof s[t.key]?s[t.key]():s[t.key]:t.fetfn());if(a!==u[t.key].runId)break;return u[t.key].fs.result=e,u[t.key].fs.lastUpDate=now(),u[t.key].fs.status="success",l.emit(t.key,u[t.key].fs),e}catch(e){if(0==o){if(a!==u[t.key].runId)break;u[t.key].fs.status="error",u[t.key].fs.error=e,l.emit(t.key,u[t.key].fs)}if(console.error("RunFetError: fetKey:".concat(t.key," retryCount:").concat(o),e),await (0,r._v)(null!==(n=t.retryInterval)&&void 0!==n?n:500),0==o)throw e}}}function runFet(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(u[t.key]){var n;(n=t.key)&&(u[n].runId>999999?u[n].runId=0:u[n].runId++),runFetImpl(t)}else u[t.key]={fet:t,runId:0,fs:initFS(t)},runFetImpl(t);return u[t.key].fs.status="fetching",u[t.key].fs.error=void 0,e&&l.emit(t.key,u[t.key].fs),u[t.key].fs}function now(){return new Date().getTime()}let updateReducer=t=>(t+1)%1e6;function useFet(t){var e;let n=function(){let[,t]=(0,c.useReducer)(updateReducer,0);return t}(),r=(null===(e=u[t.key])||void 0===e?void 0:e.fs)||initFS(t),i=!!t.key&&(!r||"idle"==r.status);return i&&(r=runFet(t)),(0,c.useEffect)(()=>{var e;a.hc&&(window.fets=u);let r=(e=t=>{n()},t.key?(l.on(t.key,e),()=>{l.off(t.key,e)}):()=>{});return function(t){var e,n;let a=null===(e=u[t.key])||void 0===e?void 0:e.fs,r=null!==(n=t.cacheTime)&&void 0!==n?n:1e3;return!!(t.key&&a&&"fetching"!==a.status&&now()-a.lastUpDate>r)}(t)&&(runFet(t),n()),r},[t.key]),r}function isLoading(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0!=e.length&&!!e.find(t=>"fetching"===t.status&&0==t.lastUpDate)}function isSuccess(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return!(0==e.length||e.find(t=>0==t.lastUpDate))}function isError(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0!=e.length&&!!e.find(t=>"error"===t.status)}function reFet(){for(var t,e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];for(let e of n){let n="string"==typeof e?null===(t=u[e])||void 0===t?void 0:t.fet:e;n&&runFet(n,!0)}}},78784:function(t,e,n){var a=n(53414),r=n(96555),i=n(83606);let o={},instance=t=>{let e=a.Af.find(e=>t==e.id),n=r.Sz||!e.testnet?"https://api.".concat(r.Kh.value):"https://beta-api.".concat(r.Kh.value);return o[n]||(o[n]=i.Z.create({baseURL:n,timeout:1e4,headers:{"Content-Type":"application/json"}})),o[n]};async function get(t,e){var n;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=await instance(t).get(e,{...r,params:a});if(console.info("res:",null==i?void 0:i.data),(null==i?void 0:null===(n=i.data)||void 0===n?void 0:n.code)!==200)throw i.data;return i.data.data}async function post(t,e){var n;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=await instance(t).post(e,a,r);if((null==i?void 0:null===(n=i.data)||void 0===n?void 0:n.code)!==200)throw i.data;return i.data.data}e.ZP={get,post}},29293:function(t,e,n){n.d(e,{d:function(){return displayBalance}});var a=n(35164);let displayBalance=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18;if(!t)return"0";let r="bigint"==typeof t?t:BigInt(t),i=Number((0,a.b)(r,n)),o=Number((.1**e).toFixed(e));return i>0&&i<o?"<"+o:i<0&&i>-o?"≈0":i.toLocaleString("en-US",{maximumFractionDigits:e})}}}]);