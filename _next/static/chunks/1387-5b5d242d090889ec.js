"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1387],{61387:function(e,t,n){n.d(t,{Ak:function(){return Expandable},At:function(){return k},Tt:function(){return Erc20Approve},UT:function(){return GeneralAction},_t:function(){return AsyncInfo},pk:function(){return w},us:function(){return ContractAll}});var r=n(52987),s=n(99409),l=n(13854),a=n(62013),i=n(64370),c=n(95499),d=n(22438),o=n.n(d),x=n(77317),u=n(23125),p=n(83960),m=n(58409),f=n(88501),h=n(31236),g=n(45207),v=n(85058),b=n(57834),y=n(45820),j=n(38070),N=n(77087);let k={menu:()=>(0,l.cn)("bg-white dark:bg-black dark:border"),option:e=>(0,l.cn)({"!bg-primary/30":e.isFocused,"!bg-primary/60":e.isSelected}),control:()=>"bg-white dark:bg-black !min-h-[58px] !border-primary/30 !shadow-none",singleValue:()=>"dark:text-white"},w="bg-white dark:bg-transparent border-primary/70 w-full h-14 text-right pr-4 font-bold text-sm border focus:border-2  rounded-md outline-none ",defConvertArg=(e,t,n)=>"uint8"==n.type?parseInt((e||"").replaceAll(" ","")):n.type.startsWith("uint")?BigInt((e||"").replaceAll(" ","")):"bytes32"==n.type?(0,h.$G)(e,{size:32}):"bool"==n.type?"true"==e:e,convertArgs=(e,t,n)=>{try{return e.map((e,r)=>{let s=t[r];return n?n(e,r,s):defConvertArg(e,r,s)})}catch(e){return}};function Expandable(e){let{children:t,tit:n,disable:s}=e,[l,a]=(0,x.useState)(!1);return(0,r.jsxs)("div",{className:"animitem flex flex-col w-full bg-white dark:bg-transparent rounded-lg overflow-hidden border border-solid border-primary/40",children:[(0,r.jsxs)("div",{className:"px-5 py-2 min-h-[58px] flex justify-between items-center text-sm",children:[(0,r.jsx)("div",{className:"font-medium text-base",children:n}),s?t:(0,r.jsxs)("div",{className:"px-2 py-1 rounded-full border border-solid border-primary flex items-center text-xs text-primary cursor-pointer ",onClick:()=>a(!l),children:[(0,r.jsx)("span",{className:"mr-[5px]",children:l?"Close":"Expand"}),l?(0,r.jsx)(p.iRh,{}):(0,r.jsx)(p.tv1,{})]})]}),(0,r.jsx)(u.Collapse,{isOpened:l,theme:{content:"bg-gray-200 dark:bg-transparent p-4 flex flex-col gap-2"},children:t})]})}function GeneralAction(e){var t,n;let{abi:d,address:u,functionName:p,tit:h,infos:g,convertArg:v,txProps:k,onArgs:A,argsDef:C}=e,T=d.find(e=>"function"==e.type&&e.name==p),E=(null==T?void 0:null===(t=T.inputs)||void 0===t?void 0:t.length)||0,[{args:S},M]=(0,m.Z)({args:Array(E).fill("")});(0,x.useEffect)(()=>{A&&A(S)},[S]);let{data:_,isLoading:I,isError:q,refetch:G}=(0,i.a)({queryKey:["queryInfo",u,p,g],enabled:!!g,queryFn:async()=>(0,l.IE)(g)}),O=(0,x.useMemo)(()=>S.map((e,t)=>e||(null==C?void 0:C[t])||""),[C,S]),W=(0,s.pK)(),{data:$,mutate:F,isPending:J}=(0,c.D)({mutationFn:async()=>await (0,a.B)(W).readContract({abi:d,address:u,functionName:p,...S.length?{args:convertArgs(S,T.inputs,v)}:{}}),onError:l.S3});if(!T)return;let P=T.stateMutability.includes("payable"),R=(!T.inputs||0==T.inputs.length)&&P,U=P?convertArgs(O,T.inputs,v):void 0;return(0,r.jsxs)(Expandable,{tit:h||p,disable:R,children:[null===(n=T.inputs)||void 0===n?void 0:n.map((e,t)=>(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("div",{className:"opacity-60 absolute top-1/2 left-2 -translate-y-1/2 text-xs",children:[e.name,"(",e.type,")"]}),(0,r.jsx)("input",{type:"text",value:O[t],onChange:e=>M({args:S.map((n,r)=>t==r?e.target.value:n)}),className:(0,l.cn)(w)})]},"input_".concat(t))),(0,r.jsxs)("div",{className:(0,l.cn)("whitespace-pre-wrap"),children:[I&&(0,r.jsx)(N.$,{}),!o()(_)&&JSON.stringify(_,void 0,2)]}),(0,r.jsx)("div",{className:(0,l.cn)("whitespace-pre-wrap"),children:!o()($)&&JSON.stringify($,void 0,2)}),P?(0,r.jsxs)("div",{className:"flex gap-5 items-center",children:[(0,r.jsx)(b.$M,{...k||{},onTxSuccess:()=>{var e;g&&G(),null==k||null===(e=k.onTxSuccess)||void 0===e||e.call(k)},tx:"Write",txs:[{abi:d,address:u,functionName:p,...S.length?{args:U}:{}}],disabled:(null==k?void 0:k.disabled)||!!S.length&&!U,className:(0,l.cn)("!mt-0 flex items-center justify-center gap-4",R?"max-w-[100px]":"w-full")}),(0,r.jsx)(j.N,{txs:[{abi:d,address:u,functionName:p,...S.length?{args:U}:{}}]})]}):(0,r.jsx)(y.k6,{className:(0,f.m)("flex items-center justify-center gap-4",(0,l.cn)("!mt-0 flex items-center justify-center gap-4",R?"max-w-[100px]":"w-full")),onClick:()=>F(),busy:J,busyShowContent:!0,disabled:!1,children:"Read"})]})}function ContractAll(e){let{abi:t,address:n,tit:s,itemInfos:l}=e,[a,i]=(0,x.useMemo)(()=>{let e=[],n=[];for(let r of t)if("function"==r.type){let t=r.stateMutability.includes("payable");t?n.push(r):e.push(r)}return[e,n]},[t]);return(0,r.jsx)(Expandable,{tit:s,children:(0,r.jsxs)("div",{className:"grid grid-cols-5 gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2 col-span-2",children:[(0,r.jsx)("div",{className:"font-bold text-2xl",children:"Read"}),a.map((e,t)=>(0,r.jsx)(GeneralAction,{abi:[e],address:n,functionName:e.name,infos:null==l?void 0:l[e.name]},"read_".concat(t)))]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 col-span-3",children:[(0,r.jsx)("div",{className:"font-bold text-2xl",children:"Write"}),i.map((e,t)=>(0,r.jsx)(GeneralAction,{abi:[e],address:n,functionName:e.name,infos:null==l?void 0:l[e.name]},"write_".concat(t)))]})]})})}function Erc20Approve(){let[e,t]=(0,m.Z)({token:"",spender:"",amount:0n});return(0,r.jsxs)(Expandable,{tit:"Erc20Approve",children:[(0,r.jsx)("input",{type:"text",placeholder:"token",value:e.token,onChange:e=>t({token:e.target.value}),className:(0,l.cn)(w)}),(0,r.jsx)("input",{type:"text",placeholder:"spender",value:e.spender,onChange:e=>t({spender:e.target.value}),className:(0,l.cn)(w)}),(0,r.jsx)("input",{type:"text",placeholder:"amount",value:e.amount.toString(),onChange:e=>{try{t({amount:(0,l.su)(e.target.value,0)})}catch(e){}},className:(0,l.cn)(w)}),(0,r.jsx)(b.vZ,{tx:"Write",disabled:!(0,g.U)(e.token)||!(0,g.U)(e.spender)||e.amount<=0n,config:{abi:v.Wo,address:e.token,functionName:"approve",args:[e.spender,e.amount]},className:"!mt-0 w-full flex items-center justify-center gap-4"})]})}function AsyncInfo(e){let{infos:t,keys:n,className:s}=e,{data:a,isFetching:c,isError:d,refetch:x}=(0,i.a)({queryKey:["queryAsyncInfo",n,t],enabled:!!t,queryFn:async()=>(0,l.IE)(t)});return(0,r.jsxs)("div",{className:(0,l.cn)("whitespace-pre-wrap",s),children:[c&&(0,r.jsx)(N.$,{}),d&&!c&&(0,r.jsx)("div",{className:"text-red-400",children:"Error"}),!o()(a)&&JSON.stringify(a,void 0,2),(0,r.jsx)(y.k6,{onClick:()=>x(),children:"Refresh"})]})}},38070:function(e,t,n){n.d(t,{N:function(){return AddMultiTx},a:function(){return MultiTxTemp}});var r=n(52987),s=n(91275),l=n.n(s),a=n(93108),i=n(16804),c=n(13854),d=n(45820),o=n(57834),x=n(72703),u=n(25282);let p=(0,a.Ue)((e,t)=>({txs:[],addTx(){for(var n=arguments.length,r=Array(n),s=0;s<n;s++)r[s]=arguments[s];r.length>0&&e({txs:t().txs.concat(r)})},editTx(n,r){let s=t().txs;if(n<0||n>=s.length)return;let l=[...s];l[n]=r,e({txs:l})},removeTx(){for(var n=arguments.length,r=Array(n),s=0;s<n;s++)r[s]=arguments[s];if(0==r.length)return;let l=[...t().txs].filter((e,t)=>!r.includes(t));e({txs:l})}}));function MultiTxTemp(e){let{className:t}=e,{txs:n,removeTx:s}=p();if(0==n.length)return null;let clearTxs=()=>p.setState({txs:[]});return(0,r.jsx)(i.o,{trigger:(0,r.jsx)("div",{style:{textShadow:" 0px 1px 1px rgb(0 0 0 / 0.1), 0px 1px 2px rgb(0 0 0 / 0.1), 0px 2px 4px rgb(0 0 0 / 0.1)"},className:(0,c.cn)("fixed top-28 right-12 shadow-lg rounded-md px-3 py-2 bg-primary/60 text-red-500 font-medium text-shadow cursor-pointer",t),children:n.length}),children:(0,r.jsxs)("div",{className:"w-full flex flex-col gap-4 p-5",children:[(0,r.jsx)("div",{className:"font-medium text-lg",children:"Multi Tx"}),(0,r.jsx)("div",{className:"w-full flex flex-col gap-2 overflow-y-auto max-h-[31.25rem]",children:n.map((e,t)=>(0,r.jsxs)("div",{className:"flex bg-primary/20 rounded-md items-center gap-4 px-3 py-1",children:[(0,r.jsxs)("span",{children:["(",(0,c.lS)(e.address),")"]}),(0,r.jsx)("span",{children:(0,c.lS)(e.functionName)}),l()(e.args)>0&&(0,r.jsx)(u.C,{children:JSON.stringify(e.args,void 0,2)}),(0,r.jsx)(x.P1Z,{className:"text-3xl cursor-pointer hover:text-red-500 ml-auto shrink-0",onClick:()=>s(t)})]},"tx_item_".concat(t)))}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)(o.$M,{tx:"Execute",className:"flex-1",txs:n,onTxSuccess:clearTxs}),(0,r.jsx)(d.k6,{className:"w-20 shrink-0",onClick:clearTxs,children:"Clear"})]})]})})}function AddMultiTx(e){let{disabled:t,txs:n,className:s,...l}=e,{addTx:a}=p();return(0,r.jsx)(d.k6,{disabled:t||0===n.length,onClick:()=>a(...n),className:(0,c.cn)("w-36 shrink-0",s),...l,children:"Add to Temp"})}},25282:function(e,t,n){n.d(t,{C:function(){return Tip}});var r=n(52987),s=n(13854),l=n(43099),a=n(55966);function Tip(e){let{children:t,node:n,className:i,contentClassName:c,inFlex:d}=e,o=document.getElementById("tooltip-root");return t?(0,r.jsx)(l.zt,{children:(0,r.jsxs)(l.fC,{children:[(0,r.jsx)(l.xz,{asChild:!0,onClickCapture:e=>{e.preventDefault(),e.stopPropagation()},children:n?(0,r.jsx)("div",{className:(0,s.cn)("inline-block cursor-default",i),style:{verticalAlign:"text-bottom"},children:n}):(0,r.jsx)("div",{className:(0,s.cn)(d?"flex":"translate-y-[-6%] inline-block"," px-[3px] cursor-default relative",i),children:(0,r.jsx)(a.apP,{className:"inline-block stroke-slate-500"})})}),(0,r.jsx)(l.h_,{container:o,children:(0,r.jsxs)(l.VY,{className:(0,s.cn)("max-w-xs text-sm text-white bg-slate-900 shadow-lg dark:bg-[#333333] rounded-md p-4",c),children:[t,(0,r.jsx)(l.Eh,{})]})})]})}):n}}}]);